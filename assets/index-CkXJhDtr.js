(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function cb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Dm={exports:{}},Kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function sA(){if(u0)return Kl;u0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Kl.Fragment=e,Kl.jsx=n,Kl.jsxs=n,Kl}var c0;function aA(){return c0||(c0=1,Dm.exports=sA()),Dm.exports}var b=aA(),Om={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function oA(){if(h0)return we;h0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),x=Symbol.iterator;function O(P){return P===null||typeof P!="object"?null:(P=x&&P[x]||P["@@iterator"],typeof P=="function"?P:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,B={};function $(P,ne,oe){this.props=P,this.context=ne,this.refs=B,this.updater=oe||F}$.prototype.isReactComponent={},$.prototype.setState=function(P,ne){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ne,"setState")},$.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function U(){}U.prototype=$.prototype;function q(P,ne,oe){this.props=P,this.context=ne,this.refs=B,this.updater=oe||F}var ie=q.prototype=new U;ie.constructor=q,Y(ie,$.prototype),ie.isPureReactComponent=!0;var le=Array.isArray;function ce(){}var R={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(P,ne,oe){var fe=oe.ref;return{$$typeof:r,type:P,key:ne,ref:fe!==void 0?fe:null,props:oe}}function D(P,ne){return C(P.type,ne,P.props)}function M(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function j(P){var ne={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(oe){return ne[oe]})}var I=/\/+/g;function st(P,ne){return typeof P=="object"&&P!==null&&P.key!=null?j(""+P.key):ne.toString(36)}function Vt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(ce,ce):(P.status="pending",P.then(function(ne){P.status==="pending"&&(P.status="fulfilled",P.value=ne)},function(ne){P.status==="pending"&&(P.status="rejected",P.reason=ne)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function J(P,ne,oe,fe,Ee){var Re=typeof P;(Re==="undefined"||Re==="boolean")&&(P=null);var Le=!1;if(P===null)Le=!0;else switch(Re){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(P.$$typeof){case r:case e:Le=!0;break;case v:return Le=P._init,J(Le(P._payload),ne,oe,fe,Ee)}}if(Le)return Ee=Ee(P),Le=fe===""?"."+st(P,0):fe,le(Ee)?(oe="",Le!=null&&(oe=Le.replace(I,"$&/")+"/"),J(Ee,ne,oe,"",function(Ns){return Ns})):Ee!=null&&(M(Ee)&&(Ee=D(Ee,oe+(Ee.key==null||P&&P.key===Ee.key?"":(""+Ee.key).replace(I,"$&/")+"/")+Le)),ne.push(Ee)),1;Le=0;var Pt=fe===""?".":fe+":";if(le(P))for(var at=0;at<P.length;at++)fe=P[at],Re=Pt+st(fe,at),Le+=J(fe,ne,oe,Re,Ee);else if(at=O(P),typeof at=="function")for(P=at.call(P),at=0;!(fe=P.next()).done;)fe=fe.value,Re=Pt+st(fe,at++),Le+=J(fe,ne,oe,Re,Ee);else if(Re==="object"){if(typeof P.then=="function")return J(Vt(P),ne,oe,fe,Ee);throw ne=String(P),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ae(P,ne,oe){if(P==null)return P;var fe=[],Ee=0;return J(P,fe,"","",function(Re){return ne.call(oe,Re,Ee++)}),fe}function ye(P){if(P._status===-1){var ne=P._result;ne=ne(),ne.then(function(oe){(P._status===0||P._status===-1)&&(P._status=1,P._result=oe)},function(oe){(P._status===0||P._status===-1)&&(P._status=2,P._result=oe)}),P._status===-1&&(P._status=0,P._result=ne)}if(P._status===1)return P._result.default;throw P._result}var Ue=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Ke={map:ae,forEach:function(P,ne,oe){ae(P,function(){ne.apply(this,arguments)},oe)},count:function(P){var ne=0;return ae(P,function(){ne++}),ne},toArray:function(P){return ae(P,function(ne){return ne})||[]},only:function(P){if(!M(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return we.Activity=T,we.Children=Ke,we.Component=$,we.Fragment=n,we.Profiler=o,we.PureComponent=q,we.StrictMode=s,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,we.__COMPILER_RUNTIME={__proto__:null,c:function(P){return R.H.useMemoCache(P)}},we.cache=function(P){return function(){return P.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(P,ne,oe){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var fe=Y({},P.props),Ee=P.key;if(ne!=null)for(Re in ne.key!==void 0&&(Ee=""+ne.key),ne)!S.call(ne,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ne.ref===void 0||(fe[Re]=ne[Re]);var Re=arguments.length-2;if(Re===1)fe.children=oe;else if(1<Re){for(var Le=Array(Re),Pt=0;Pt<Re;Pt++)Le[Pt]=arguments[Pt+2];fe.children=Le}return C(P.type,Ee,fe)},we.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},we.createElement=function(P,ne,oe){var fe,Ee={},Re=null;if(ne!=null)for(fe in ne.key!==void 0&&(Re=""+ne.key),ne)S.call(ne,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ee[fe]=ne[fe]);var Le=arguments.length-2;if(Le===1)Ee.children=oe;else if(1<Le){for(var Pt=Array(Le),at=0;at<Le;at++)Pt[at]=arguments[at+2];Ee.children=Pt}if(P&&P.defaultProps)for(fe in Le=P.defaultProps,Le)Ee[fe]===void 0&&(Ee[fe]=Le[fe]);return C(P,Re,Ee)},we.createRef=function(){return{current:null}},we.forwardRef=function(P){return{$$typeof:m,render:P}},we.isValidElement=M,we.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:ye}},we.memo=function(P,ne){return{$$typeof:g,type:P,compare:ne===void 0?null:ne}},we.startTransition=function(P){var ne=R.T,oe={};R.T=oe;try{var fe=P(),Ee=R.S;Ee!==null&&Ee(oe,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ce,Ue)}catch(Re){Ue(Re)}finally{ne!==null&&oe.types!==null&&(ne.types=oe.types),R.T=ne}},we.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},we.use=function(P){return R.H.use(P)},we.useActionState=function(P,ne,oe){return R.H.useActionState(P,ne,oe)},we.useCallback=function(P,ne){return R.H.useCallback(P,ne)},we.useContext=function(P){return R.H.useContext(P)},we.useDebugValue=function(){},we.useDeferredValue=function(P,ne){return R.H.useDeferredValue(P,ne)},we.useEffect=function(P,ne){return R.H.useEffect(P,ne)},we.useEffectEvent=function(P){return R.H.useEffectEvent(P)},we.useId=function(){return R.H.useId()},we.useImperativeHandle=function(P,ne,oe){return R.H.useImperativeHandle(P,ne,oe)},we.useInsertionEffect=function(P,ne){return R.H.useInsertionEffect(P,ne)},we.useLayoutEffect=function(P,ne){return R.H.useLayoutEffect(P,ne)},we.useMemo=function(P,ne){return R.H.useMemo(P,ne)},we.useOptimistic=function(P,ne){return R.H.useOptimistic(P,ne)},we.useReducer=function(P,ne,oe){return R.H.useReducer(P,ne,oe)},we.useRef=function(P){return R.H.useRef(P)},we.useState=function(P){return R.H.useState(P)},we.useSyncExternalStore=function(P,ne,oe){return R.H.useSyncExternalStore(P,ne,oe)},we.useTransition=function(){return R.H.useTransition()},we.version="19.2.0",we}var f0;function Dp(){return f0||(f0=1,Om.exports=oA()),Om.exports}var L=Dp();const hs=cb(L);var Mm={exports:{}},Ql={},Vm={exports:{}},Pm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function lA(){return d0||(d0=1,(function(r){function e(J,ae){var ye=J.length;J.push(ae);e:for(;0<ye;){var Ue=ye-1>>>1,Ke=J[Ue];if(0<o(Ke,ae))J[Ue]=ae,J[ye]=Ke,ye=Ue;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ae=J[0],ye=J.pop();if(ye!==ae){J[0]=ye;e:for(var Ue=0,Ke=J.length,P=Ke>>>1;Ue<P;){var ne=2*(Ue+1)-1,oe=J[ne],fe=ne+1,Ee=J[fe];if(0>o(oe,ye))fe<Ke&&0>o(Ee,oe)?(J[Ue]=Ee,J[fe]=ye,Ue=fe):(J[Ue]=oe,J[ne]=ye,Ue=ne);else if(fe<Ke&&0>o(Ee,ye))J[Ue]=Ee,J[fe]=ye,Ue=fe;else break e}}return ae}function o(J,ae){var ye=J.sortIndex-ae.sortIndex;return ye!==0?ye:J.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],v=1,T=null,x=3,O=!1,F=!1,Y=!1,B=!1,$=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function ie(J){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=J)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function le(J){if(Y=!1,ie(J),!F)if(n(p)!==null)F=!0,ce||(ce=!0,j());else{var ae=n(g);ae!==null&&Vt(le,ae.startTime-J)}}var ce=!1,R=-1,S=5,C=-1;function D(){return B?!0:!(r.unstable_now()-C<S)}function M(){if(B=!1,ce){var J=r.unstable_now();C=J;var ae=!0;try{e:{F=!1,Y&&(Y=!1,U(R),R=-1),O=!0;var ye=x;try{t:{for(ie(J),T=n(p);T!==null&&!(T.expirationTime>J&&D());){var Ue=T.callback;if(typeof Ue=="function"){T.callback=null,x=T.priorityLevel;var Ke=Ue(T.expirationTime<=J);if(J=r.unstable_now(),typeof Ke=="function"){T.callback=Ke,ie(J),ae=!0;break t}T===n(p)&&s(p),ie(J)}else s(p);T=n(p)}if(T!==null)ae=!0;else{var P=n(g);P!==null&&Vt(le,P.startTime-J),ae=!1}}break e}finally{T=null,x=ye,O=!1}ae=void 0}}finally{ae?j():ce=!1}}}var j;if(typeof q=="function")j=function(){q(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,st=I.port2;I.port1.onmessage=M,j=function(){st.postMessage(null)}}else j=function(){$(M,0)};function Vt(J,ae){R=$(function(){J(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(J){switch(x){case 1:case 2:case 3:var ae=3;break;default:ae=x}var ye=x;x=ae;try{return J()}finally{x=ye}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ye=x;x=J;try{return ae()}finally{x=ye}},r.unstable_scheduleCallback=function(J,ae,ye){var Ue=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Ue+ye:Ue):ye=Ue,J){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=ye+Ke,J={id:v++,callback:ae,priorityLevel:J,startTime:ye,expirationTime:Ke,sortIndex:-1},ye>Ue?(J.sortIndex=ye,e(g,J),n(p)===null&&J===n(g)&&(Y?(U(R),R=-1):Y=!0,Vt(le,ye-Ue))):(J.sortIndex=Ke,e(p,J),F||O||(F=!0,ce||(ce=!0,j()))),J},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(J){var ae=x;return function(){var ye=x;x=ae;try{return J.apply(this,arguments)}finally{x=ye}}}})(Pm)),Pm}var m0;function uA(){return m0||(m0=1,Vm.exports=lA()),Vm.exports}var km={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function cA(){if(p0)return en;p0=1;var r=Dp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},en.flushSync=function(p){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=v,s.d.f()}},en.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},en.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},en.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:x,fetchPriority:O}):v==="script"&&s.d.X(p,{crossOrigin:T,integrity:x,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},en.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},en.requestFormReset=function(p){s.d.r(p)},en.unstable_batchedUpdates=function(p,g){return p(g)},en.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},en.useFormStatus=function(){return h.H.useHostTransitionStatus()},en.version="19.2.0",en}var g0;function hA(){if(g0)return km.exports;g0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),km.exports=cA(),km.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function fA(){if(y0)return Ql;y0=1;var r=uA(),e=Dp(),n=hA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,w=f.child;w;){if(w===a){_=!0,a=f,l=d;break}if(w===l){_=!0,l=f,a=d;break}w=w.sibling}if(!_){for(w=d.child;w;){if(w===a){_=!0,a=d,l=f;break}if(w===l){_=!0,l=d,a=f;break}w=w.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,x=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),q=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case $:return"Profiler";case B:return"StrictMode";case le:return"Suspense";case ce:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case q:return t.displayName||"Context";case U:return(t._context.displayName||"Context")+".Consumer";case ie:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return i=t.displayName||null,i!==null?i:st(t.type)||"Memo";case S:i=t._payload,t=t._init;try{return st(t(i))}catch{}}return null}var Vt=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Ue=[],Ke=-1;function P(t){return{current:t}}function ne(t){0>Ke||(t.current=Ue[Ke],Ue[Ke]=null,Ke--)}function oe(t,i){Ke++,Ue[Ke]=t.current,t.current=i}var fe=P(null),Ee=P(null),Re=P(null),Le=P(null);function Pt(t,i){switch(oe(Re,i),oe(Ee,t),oe(fe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Ov(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Ov(i),t=Mv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ne(fe),oe(fe,t)}function at(){ne(fe),ne(Ee),ne(Re)}function Ns(t){t.memoizedState!==null&&oe(Le,t);var i=fe.current,a=Mv(i,t.type);i!==a&&(oe(Ee,t),oe(fe,a))}function Sa(t){Ee.current===t&&(ne(fe),ne(Ee)),Le.current===t&&(ne(Le),ql._currentValue=ye)}var xa,Ra;function dr(t){if(xa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);xa=i&&i[1]||"",Ra=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xa+t+Ra}var qo=!1;function Ds(t,i){if(!t||qo)return"";qo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(X){var K=X}Reflect.construct(t,[],te)}else{try{te.call()}catch(X){K=X}t.call(te.prototype)}}else{try{throw Error()}catch(X){K=X}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],w=d[1];if(_&&w){var N=_.split(`
`),G=w.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===G.length)for(l=N.length-1,f=G.length-1;1<=l&&0<=f&&N[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==G[f]){var W=`
`+N[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=f);break}}}finally{qo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?dr(a):""}function Ho(t,i){switch(t.tag){case 26:case 27:case 5:return dr(t.type);case 16:return dr("Lazy");case 13:return t.child!==i&&i!==null?dr("Suspense Fallback"):dr("Suspense");case 19:return dr("SuspenseList");case 0:case 15:return Ds(t.type,!1);case 11:return Ds(t.type.render,!1);case 1:return Ds(t.type,!0);case 31:return dr("Activity");default:return""}}function Fo(t){try{var i="",a=null;do i+=Ho(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,kt=r.unstable_scheduleCallback,xi=r.unstable_cancelCallback,Mf=r.unstable_shouldYield,ju=r.unstable_requestPaint,on=r.unstable_now,Os=r.unstable_getCurrentPriorityLevel,Go=r.unstable_ImmediatePriority,Ko=r.unstable_UserBlockingPriority,Ri=r.unstable_NormalPriority,Vf=r.unstable_LowPriority,Uu=r.unstable_IdlePriority,zu=r.log,Bu=r.unstable_setDisableYieldValue,Wn=null,Ft=null;function Pn(t){if(typeof zu=="function"&&Bu(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Wn,t)}catch{}}var yt=Math.clz32?Math.clz32:Hu,qu=Math.log,Ca=Math.LN2;function Hu(t){return t>>>=0,t===0?32:31-(qu(t)/Ca|0)|0}var mr=256,Ms=262144,wt=4194304;function pr(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gr(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?f=pr(l):(_&=w,_!==0?f=pr(_):a||(a=w&~t,a!==0&&(f=pr(a))))):(w=l&~d,w!==0?f=pr(w):_!==0?f=pr(_):a||(a=l&~t,a!==0&&(f=pr(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Jn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Pf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fu(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function yr(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Vs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function kf(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,N=t.expirationTimes,G=t.hiddenUpdates;for(a=_&~a;0<a;){var W=31-yt(a),te=1<<W;w[W]=0,N[W]=-1;var K=G[W];if(K!==null)for(G[W]=null,W=0;W<K.length;W++){var X=K[W];X!==null&&(X.lane&=-536870913)}a&=~te}l!==0&&Ps(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Ps(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-yt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Qo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-yt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Yo(t,i){var a=i&-i;return a=(a&42)!==0?1:ks(a),(a&(t.suspendedLanes|i))!==0?0:a}function ks(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Gu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:n0(t.type))}function Zn(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var er=Math.random().toString(36).slice(2),At="__reactFiber$"+er,Ut="__reactProps$"+er,_r="__reactContainer$"+er,Ia="__reactEvents$"+er,Lf="__reactListeners$"+er,Ku="__reactHandles$"+er,Qu="__reactResources$"+er,vr="__reactMarker$"+er;function Na(t){delete t[At],delete t[Ut],delete t[Ia],delete t[Lf],delete t[Ku]}function br(t){var i=t[At];if(i)return i;for(var a=t.parentNode;a;){if(i=a[_r]||a[At]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=zv(t);t!==null;){if(a=t[At])return a;t=zv(t)}return i}t=a,a=t.parentNode}return null}function kn(t){if(t=t[At]||t[_r]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function wn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Er(t){var i=t[Qu];return i||(i=t[Qu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[vr]=!0}var Xo=new Set,$o={};function Tr(t,i){wr(t,i),wr(t+"Capture",i)}function wr(t,i){for($o[t]=i,t=0;t<i.length;t++)Xo.add(i[t])}var Wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jo={},Zo={};function Yu(t){return Tt.call(Zo,t)?!0:Tt.call(Jo,t)?!1:Wo.test(t)?Zo[t]=!0:(Jo[t]=!0,!1)}function Da(t,i,a){if(Yu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function An(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function xt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ci(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function el(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=Ci(t)?"checked":"value";t._valueTracker=el(t,i,""+t[i])}}function Ls(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ci(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ar(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var js=/[\n"\\]/g;function hn(t){return t.replace(js,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Oa(t,i,a,l,f,d,_,w){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+zt(i)):t.value!==""+zt(i)&&(t.value=""+zt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?tl(t,_,zt(i)):a!=null?tl(t,_,zt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+zt(w):t.removeAttribute("name")}function Xu(t,i,a,l,f,d,_,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+zt(a):"",i=i!=null?""+zt(i):a,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qe(t)}function tl(t,i,a){i==="number"&&Ar(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ii(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function $u(t,i,a){if(i!=null&&(i=""+zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+zt(a):""}function Ni(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Vt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=zt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function fn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Wu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Wu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function rl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&nl(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&nl(t,d,i[d])}function Ma(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ju=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Di=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(t){return Di.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function tr(){}var il=null;function Ln(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oi=null,Sr=null;function Us(t){var i=kn(t);if(i&&(t=i.stateNode)){var a=t[Ut]||null;e:switch(t=i.stateNode,i.type){case"input":if(Oa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Ut]||null;if(!f)throw Error(s(90));Oa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ls(l)}break e;case"textarea":$u(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ii(t,!!a.multiple,i,!1)}}}var Pa=!1;function Mi(t,i,a){if(Pa)return t(i,a);Pa=!0;try{var l=t(i);return l}finally{if(Pa=!1,(Oi!==null||Sr!==null)&&(Gc(),Oi&&(i=Oi,t=Sr,Sr=Oi=null,Us(i),t)))for(i=0;i<t.length;i++)Us(t[i])}}function nr(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ut]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zs=!1;if(jn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){zs=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{zs=!1}var xr=null,sl=null,Bs=null;function al(){if(Bs)return Bs;var t,i=sl,a=i.length,l,f="value"in xr?xr.value:xr.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return Bs=f.slice(t,1<l?1-l:void 0)}function qs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Yr(){return!0}function rr(){return!1}function Gt(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Yr:rr,this.isPropagationStopped=rr,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yr)},persist:function(){},isPersistent:Yr}),i}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rr=Gt(Xr),Vi=T({},Xr,{view:0,detail:0}),ol=Gt(Vi),Pi,ka,Cr,La=T({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ki,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cr&&(Cr&&t.type==="mousemove"?(Pi=t.screenX-Cr.screenX,ka=t.screenY-Cr.screenY):ka=Pi=0,Cr=t),Pi)},movementY:function(t){return"movementY"in t?t.movementY:ka}}),ll=Gt(La),Hs=T({},La,{dataTransfer:0}),Zu=Gt(Hs),ec=T({},Vi,{relatedTarget:0}),Fs=Gt(ec),ul=T({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),tc=Gt(ul),ja=T({},Xr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nc=Gt(ja),rc=T({},Xr,{data:0}),Ir=Gt(rc),ic={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ac[t])?!!i[t]:!1}function ki(){return oc}var ln=T({},Vi,{key:function(t){if(t.key){var i=ic[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=qs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ki,charCode:function(t){return t.type==="keypress"?qs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lc=Gt(ln),uc=T({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$r=Gt(uc),c=T({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ki}),y=Gt(c),E=T({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Gt(E),z=T({},La,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Gt(z),se=T({},Xr,{newState:0,oldState:0}),Se=Gt(se),_t=[9,13,27,32],qe=jn&&"CompositionEvent"in window,ot=null;jn&&"documentMode"in document&&(ot=document.documentMode);var Un=jn&&"TextEvent"in window&&!ot,Nr=jn&&(!qe||ot&&8<ot&&11>=ot),ir=" ",sr=!1;function Gs(t,i){switch(t){case"keyup":return _t.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ua(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var za=!1;function I2(t,i){switch(t){case"compositionend":return Ua(i);case"keypress":return i.which!==32?null:(sr=!0,ir);case"textInput":return t=i.data,t===ir&&sr?null:t;default:return null}}function N2(t,i){if(za)return t==="compositionend"||!qe&&Gs(t,i)?(t=al(),Bs=sl=xr=null,za=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Nr&&i.locale!=="ko"?null:i.data;default:return null}}var D2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!D2[t.type]:i==="textarea"}function Fg(t,i,a,l){Oi?Sr?Sr.push(l):Sr=[l]:Oi=l,i=Jc(i,"onChange"),0<i.length&&(a=new Rr("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var cl=null,hl=null;function O2(t){xv(t,0)}function cc(t){var i=wn(t);if(Ls(i))return t}function Gg(t,i){if(t==="change")return i}var Kg=!1;if(jn){var jf;if(jn){var Uf="oninput"in document;if(!Uf){var Qg=document.createElement("div");Qg.setAttribute("oninput","return;"),Uf=typeof Qg.oninput=="function"}jf=Uf}else jf=!1;Kg=jf&&(!document.documentMode||9<document.documentMode)}function Yg(){cl&&(cl.detachEvent("onpropertychange",Xg),hl=cl=null)}function Xg(t){if(t.propertyName==="value"&&cc(hl)){var i=[];Fg(i,hl,t,Ln(t)),Mi(O2,i)}}function M2(t,i,a){t==="focusin"?(Yg(),cl=i,hl=a,cl.attachEvent("onpropertychange",Xg)):t==="focusout"&&Yg()}function V2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cc(hl)}function P2(t,i){if(t==="click")return cc(i)}function k2(t,i){if(t==="input"||t==="change")return cc(i)}function L2(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Sn=typeof Object.is=="function"?Object.is:L2;function fl(t,i){if(Sn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Tt.call(i,f)||!Sn(t[f],i[f]))return!1}return!0}function $g(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wg(t,i){var a=$g(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$g(a)}}function Jg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Jg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Zg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ar(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ar(t.document)}return i}function zf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var j2=jn&&"documentMode"in document&&11>=document.documentMode,Ba=null,Bf=null,dl=null,qf=!1;function ey(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qf||Ba==null||Ba!==Ar(l)||(l=Ba,"selectionStart"in l&&zf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&fl(dl,l)||(dl=l,l=Jc(Bf,"onSelect"),0<l.length&&(i=new Rr("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ba)))}function Ks(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var qa={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},Hf={},ty={};jn&&(ty=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Qs(t){if(Hf[t])return Hf[t];if(!qa[t])return t;var i=qa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in ty)return Hf[t]=i[a];return t}var ny=Qs("animationend"),ry=Qs("animationiteration"),iy=Qs("animationstart"),U2=Qs("transitionrun"),z2=Qs("transitionstart"),B2=Qs("transitioncancel"),sy=Qs("transitionend"),ay=new Map,Ff="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ff.push("scrollEnd");function ar(t,i){ay.set(t,i),Tr(i,[t])}var hc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},zn=[],Ha=0,Gf=0;function fc(){for(var t=Ha,i=Gf=Ha=0;i<t;){var a=zn[i];zn[i++]=null;var l=zn[i];zn[i++]=null;var f=zn[i];zn[i++]=null;var d=zn[i];if(zn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&oy(a,f,d)}}function dc(t,i,a,l){zn[Ha++]=t,zn[Ha++]=i,zn[Ha++]=a,zn[Ha++]=l,Gf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Kf(t,i,a,l){return dc(t,i,a,l),mc(t)}function Ys(t,i){return dc(t,null,null,i),mc(t)}function oy(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-yt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function mc(t){if(50<Pl)throw Pl=0,tm=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Fa={};function q2(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,i,a,l){return new q2(t,i,a,l)}function Qf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wr(t,i){var a=t.alternate;return a===null?(a=xn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ly(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function pc(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")Qf(t)&&(_=1);else if(typeof t=="string")_=Qw(t,a,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=xn(31,a,i,f),t.elementType=C,t.lanes=d,t;case Y:return Xs(a.children,f,d,i);case B:_=8,f|=24;break;case $:return t=xn(12,a,i,f|2),t.elementType=$,t.lanes=d,t;case le:return t=xn(13,a,i,f),t.elementType=le,t.lanes=d,t;case ce:return t=xn(19,a,i,f),t.elementType=ce,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q:_=10;break e;case U:_=9;break e;case ie:_=11;break e;case R:_=14;break e;case S:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=xn(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Xs(t,i,a,l){return t=xn(7,t,l,i),t.lanes=a,t}function Yf(t,i,a){return t=xn(6,t,null,i),t.lanes=a,t}function uy(t){var i=xn(18,null,null,0);return i.stateNode=t,i}function Xf(t,i,a){return i=xn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var cy=new WeakMap;function Bn(t,i){if(typeof t=="object"&&t!==null){var a=cy.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Fo(i)},cy.set(t,i),i)}return{value:t,source:i,stack:Fo(i)}}var Ga=[],Ka=0,gc=null,ml=0,qn=[],Hn=0,Li=null,Dr=1,Or="";function Jr(t,i){Ga[Ka++]=ml,Ga[Ka++]=gc,gc=t,ml=i}function hy(t,i,a){qn[Hn++]=Dr,qn[Hn++]=Or,qn[Hn++]=Li,Li=t;var l=Dr;t=Or;var f=32-yt(l)-1;l&=~(1<<f),a+=1;var d=32-yt(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Dr=1<<32-yt(i)+f|a<<f|l,Or=d+t}else Dr=1<<d|a<<f|l,Or=t}function $f(t){t.return!==null&&(Jr(t,1),hy(t,1,0))}function Wf(t){for(;t===gc;)gc=Ga[--Ka],Ga[Ka]=null,ml=Ga[--Ka],Ga[Ka]=null;for(;t===Li;)Li=qn[--Hn],qn[Hn]=null,Or=qn[--Hn],qn[Hn]=null,Dr=qn[--Hn],qn[Hn]=null}function fy(t,i){qn[Hn++]=Dr,qn[Hn++]=Or,qn[Hn++]=Li,Dr=i.id,Or=i.overflow,Li=t}var Kt=null,rt=null,ke=!1,ji=null,Fn=!1,Jf=Error(s(519));function Ui(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pl(Bn(i,t)),Jf}function dy(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[At]=t,i[Ut]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<Ll.length;a++)Ne(Ll[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),Xu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),Ni(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Nv(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=tr),i=!0):i=!1,i||Ui(t,!0)}function my(t){for(Kt=t.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Kt=Kt.return}}function Qa(t){if(t!==Kt)return!1;if(!ke)return my(t),ke=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||gm(t.type,t.memoizedProps)),a=!a),a&&rt&&Ui(t),my(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=Uv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=Uv(t)}else i===27?(i=rt,Zi(t.type)?(t=Em,Em=null,rt=t):rt=i):rt=Kt?Kn(t.stateNode.nextSibling):null;return!0}function $s(){rt=Kt=null,ke=!1}function Zf(){var t=ji;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),ji=null),t}function pl(t){ji===null?ji=[t]:ji.push(t)}var ed=P(null),Ws=null,Zr=null;function zi(t,i,a){oe(ed,i._currentValue),i._currentValue=a}function ei(t){t._currentValue=ed.current,ne(ed)}function td(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function nd(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=f;for(var N=0;N<i.length;N++)if(w.context===i[N]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),td(d.return,a,t),l||(_=null);break e}d=w.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),td(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ya(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var w=f.type;Sn(f.pendingProps.value,_.value)||(t!==null?t.push(w):t=[w])}}else if(f===Le.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(ql):t=[ql])}f=f.return}t!==null&&nd(i,t,a,l),i.flags|=262144}function yc(t){for(t=t.firstContext;t!==null;){if(!Sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Js(t){Ws=t,Zr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return py(Ws,t)}function _c(t,i){return Ws===null&&Js(t),py(t,i)}function py(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Zr===null){if(t===null)throw Error(s(308));Zr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Zr=Zr.next=i;return a}var H2=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},F2=r.unstable_scheduleCallback,G2=r.unstable_NormalPriority,Rt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rd(){return{controller:new H2,data:new Map,refCount:0}}function gl(t){t.refCount--,t.refCount===0&&F2(G2,function(){t.controller.abort()})}var yl=null,id=0,Xa=0,$a=null;function K2(t,i){if(yl===null){var a=yl=[];id=0,Xa=om(),$a={status:"pending",value:void 0,then:function(l){a.push(l)}}}return id++,i.then(gy,gy),i}function gy(){if(--id===0&&yl!==null){$a!==null&&($a.status="fulfilled");var t=yl;yl=null,Xa=0,$a=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Q2(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var yy=J.S;J.S=function(t,i){ev=on(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&K2(t,i),yy!==null&&yy(t,i)};var Zs=P(null);function sd(){var t=Zs.current;return t!==null?t:et.pooledCache}function vc(t,i){i===null?oe(Zs,Zs.current):oe(Zs,i.pool)}function _y(){var t=sd();return t===null?null:{parent:Rt._currentValue,pool:t}}var Wa=Error(s(460)),ad=Error(s(474)),bc=Error(s(542)),Ec={then:function(){}};function vy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function by(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(tr,tr),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ty(t),t;default:if(typeof i.status=="string")i.then(tr,tr);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ty(t),t}throw ta=i,Wa}}function ea(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ta=a,Wa):a}}var ta=null;function Ey(){if(ta===null)throw Error(s(459));var t=ta;return ta=null,t}function Ty(t){if(t===Wa||t===bc)throw Error(s(483))}var Ja=null,_l=0;function Tc(t){var i=_l;return _l+=1,Ja===null&&(Ja=[]),by(Ja,t,i)}function vl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function wc(t,i){throw i.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function wy(t){function i(k,V){if(t){var H=k.deletions;H===null?(k.deletions=[V],k.flags|=16):H.push(V)}}function a(k,V){if(!t)return null;for(;V!==null;)i(k,V),V=V.sibling;return null}function l(k){for(var V=new Map;k!==null;)k.key!==null?V.set(k.key,k):V.set(k.index,k),k=k.sibling;return V}function f(k,V){return k=Wr(k,V),k.index=0,k.sibling=null,k}function d(k,V,H){return k.index=H,t?(H=k.alternate,H!==null?(H=H.index,H<V?(k.flags|=67108866,V):H):(k.flags|=67108866,V)):(k.flags|=1048576,V)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function w(k,V,H,Z){return V===null||V.tag!==6?(V=Yf(H,k.mode,Z),V.return=k,V):(V=f(V,H),V.return=k,V)}function N(k,V,H,Z){var pe=H.type;return pe===Y?W(k,V,H.props.children,Z,H.key):V!==null&&(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===S&&ea(pe)===V.type)?(V=f(V,H.props),vl(V,H),V.return=k,V):(V=pc(H.type,H.key,H.props,null,k.mode,Z),vl(V,H),V.return=k,V)}function G(k,V,H,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=Xf(H,k.mode,Z),V.return=k,V):(V=f(V,H.children||[]),V.return=k,V)}function W(k,V,H,Z,pe){return V===null||V.tag!==7?(V=Xs(H,k.mode,Z,pe),V.return=k,V):(V=f(V,H),V.return=k,V)}function te(k,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Yf(""+V,k.mode,H),V.return=k,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case O:return H=pc(V.type,V.key,V.props,null,k.mode,H),vl(H,V),H.return=k,H;case F:return V=Xf(V,k.mode,H),V.return=k,V;case S:return V=ea(V),te(k,V,H)}if(Vt(V)||j(V))return V=Xs(V,k.mode,H,null),V.return=k,V;if(typeof V.then=="function")return te(k,Tc(V),H);if(V.$$typeof===q)return te(k,_c(k,V),H);wc(k,V)}return null}function K(k,V,H,Z){var pe=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return pe!==null?null:w(k,V,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case O:return H.key===pe?N(k,V,H,Z):null;case F:return H.key===pe?G(k,V,H,Z):null;case S:return H=ea(H),K(k,V,H,Z)}if(Vt(H)||j(H))return pe!==null?null:W(k,V,H,Z,null);if(typeof H.then=="function")return K(k,V,Tc(H),Z);if(H.$$typeof===q)return K(k,V,_c(k,H),Z);wc(k,H)}return null}function X(k,V,H,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return k=k.get(H)||null,w(V,k,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case O:return k=k.get(Z.key===null?H:Z.key)||null,N(V,k,Z,pe);case F:return k=k.get(Z.key===null?H:Z.key)||null,G(V,k,Z,pe);case S:return Z=ea(Z),X(k,V,H,Z,pe)}if(Vt(Z)||j(Z))return k=k.get(H)||null,W(V,k,Z,pe,null);if(typeof Z.then=="function")return X(k,V,H,Tc(Z),pe);if(Z.$$typeof===q)return X(k,V,H,_c(V,Z),pe);wc(V,Z)}return null}function de(k,V,H,Z){for(var pe=null,ze=null,me=V,Ce=V=0,Oe=null;me!==null&&Ce<H.length;Ce++){me.index>Ce?(Oe=me,me=null):Oe=me.sibling;var Be=K(k,me,H[Ce],Z);if(Be===null){me===null&&(me=Oe);break}t&&me&&Be.alternate===null&&i(k,me),V=d(Be,V,Ce),ze===null?pe=Be:ze.sibling=Be,ze=Be,me=Oe}if(Ce===H.length)return a(k,me),ke&&Jr(k,Ce),pe;if(me===null){for(;Ce<H.length;Ce++)me=te(k,H[Ce],Z),me!==null&&(V=d(me,V,Ce),ze===null?pe=me:ze.sibling=me,ze=me);return ke&&Jr(k,Ce),pe}for(me=l(me);Ce<H.length;Ce++)Oe=X(me,k,Ce,H[Ce],Z),Oe!==null&&(t&&Oe.alternate!==null&&me.delete(Oe.key===null?Ce:Oe.key),V=d(Oe,V,Ce),ze===null?pe=Oe:ze.sibling=Oe,ze=Oe);return t&&me.forEach(function(is){return i(k,is)}),ke&&Jr(k,Ce),pe}function _e(k,V,H,Z){if(H==null)throw Error(s(151));for(var pe=null,ze=null,me=V,Ce=V=0,Oe=null,Be=H.next();me!==null&&!Be.done;Ce++,Be=H.next()){me.index>Ce?(Oe=me,me=null):Oe=me.sibling;var is=K(k,me,Be.value,Z);if(is===null){me===null&&(me=Oe);break}t&&me&&is.alternate===null&&i(k,me),V=d(is,V,Ce),ze===null?pe=is:ze.sibling=is,ze=is,me=Oe}if(Be.done)return a(k,me),ke&&Jr(k,Ce),pe;if(me===null){for(;!Be.done;Ce++,Be=H.next())Be=te(k,Be.value,Z),Be!==null&&(V=d(Be,V,Ce),ze===null?pe=Be:ze.sibling=Be,ze=Be);return ke&&Jr(k,Ce),pe}for(me=l(me);!Be.done;Ce++,Be=H.next())Be=X(me,k,Ce,Be.value,Z),Be!==null&&(t&&Be.alternate!==null&&me.delete(Be.key===null?Ce:Be.key),V=d(Be,V,Ce),ze===null?pe=Be:ze.sibling=Be,ze=Be);return t&&me.forEach(function(iA){return i(k,iA)}),ke&&Jr(k,Ce),pe}function Ze(k,V,H,Z){if(typeof H=="object"&&H!==null&&H.type===Y&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case O:e:{for(var pe=H.key;V!==null;){if(V.key===pe){if(pe=H.type,pe===Y){if(V.tag===7){a(k,V.sibling),Z=f(V,H.props.children),Z.return=k,k=Z;break e}}else if(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===S&&ea(pe)===V.type){a(k,V.sibling),Z=f(V,H.props),vl(Z,H),Z.return=k,k=Z;break e}a(k,V);break}else i(k,V);V=V.sibling}H.type===Y?(Z=Xs(H.props.children,k.mode,Z,H.key),Z.return=k,k=Z):(Z=pc(H.type,H.key,H.props,null,k.mode,Z),vl(Z,H),Z.return=k,k=Z)}return _(k);case F:e:{for(pe=H.key;V!==null;){if(V.key===pe)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){a(k,V.sibling),Z=f(V,H.children||[]),Z.return=k,k=Z;break e}else{a(k,V);break}else i(k,V);V=V.sibling}Z=Xf(H,k.mode,Z),Z.return=k,k=Z}return _(k);case S:return H=ea(H),Ze(k,V,H,Z)}if(Vt(H))return de(k,V,H,Z);if(j(H)){if(pe=j(H),typeof pe!="function")throw Error(s(150));return H=pe.call(H),_e(k,V,H,Z)}if(typeof H.then=="function")return Ze(k,V,Tc(H),Z);if(H.$$typeof===q)return Ze(k,V,_c(k,H),Z);wc(k,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(a(k,V.sibling),Z=f(V,H),Z.return=k,k=Z):(a(k,V),Z=Yf(H,k.mode,Z),Z.return=k,k=Z),_(k)):a(k,V)}return function(k,V,H,Z){try{_l=0;var pe=Ze(k,V,H,Z);return Ja=null,pe}catch(me){if(me===Wa||me===bc)throw me;var ze=xn(29,me,null,k.mode);return ze.lanes=Z,ze.return=k,ze}finally{}}}var na=wy(!0),Ay=wy(!1),Bi=!1;function od(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ld(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hi(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=mc(t),oy(t,null,a),i}return dc(t,l,i,a),mc(t)}function bl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Qo(t,a)}}function ud(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var cd=!1;function El(){if(cd){var t=$a;if(t!==null)throw t}}function Tl(t,i,a,l){cd=!1;var f=t.updateQueue;Bi=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var N=w,G=N.next;N.next=null,_===null?d=G:_.next=G,_=N;var W=t.alternate;W!==null&&(W=W.updateQueue,w=W.lastBaseUpdate,w!==_&&(w===null?W.firstBaseUpdate=G:w.next=G,W.lastBaseUpdate=N))}if(d!==null){var te=f.baseState;_=0,W=G=N=null,w=d;do{var K=w.lane&-536870913,X=K!==w.lane;if(X?(De&K)===K:(l&K)===K){K!==0&&K===Xa&&(cd=!0),W!==null&&(W=W.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var de=t,_e=w;K=i;var Ze=a;switch(_e.tag){case 1:if(de=_e.payload,typeof de=="function"){te=de.call(Ze,te,K);break e}te=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=_e.payload,K=typeof de=="function"?de.call(Ze,te,K):de,K==null)break e;te=T({},te,K);break e;case 2:Bi=!0}}K=w.callback,K!==null&&(t.flags|=64,X&&(t.flags|=8192),X=f.callbacks,X===null?f.callbacks=[K]:X.push(K))}else X={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},W===null?(G=W=X,N=te):W=W.next=X,_|=K;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;X=w,w=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);W===null&&(N=te),f.baseState=N,f.firstBaseUpdate=G,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),Yi|=_,t.lanes=_,t.memoizedState=te}}function Sy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function xy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Sy(a[t],i)}var Za=P(null),Ac=P(0);function Ry(t,i){t=ui,oe(Ac,t),oe(Za,i),ui=t|i.baseLanes}function hd(){oe(Ac,ui),oe(Za,Za.current)}function fd(){ui=Ac.current,ne(Za),ne(Ac)}var Rn=P(null),Gn=null;function Fi(t){var i=t.alternate;oe(vt,vt.current&1),oe(Rn,t),Gn===null&&(i===null||Za.current!==null||i.memoizedState!==null)&&(Gn=t)}function dd(t){oe(vt,vt.current),oe(Rn,t),Gn===null&&(Gn=t)}function Cy(t){t.tag===22?(oe(vt,vt.current),oe(Rn,t),Gn===null&&(Gn=t)):Gi()}function Gi(){oe(vt,vt.current),oe(Rn,Rn.current)}function Cn(t){ne(Rn),Gn===t&&(Gn=null),ne(vt)}var vt=P(0);function Sc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||vm(a)||bm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ti=0,xe=null,We=null,Ct=null,xc=!1,eo=!1,ra=!1,Rc=0,wl=0,to=null,Y2=0;function ft(){throw Error(s(321))}function md(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Sn(t[a],i[a]))return!1;return!0}function pd(t,i,a,l,f,d){return ti=d,xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,J.H=t===null||t.memoizedState===null?h_:Nd,ra=!1,d=a(l,f),ra=!1,eo&&(d=Ny(i,a,l,f)),Iy(t),d}function Iy(t){J.H=xl;var i=We!==null&&We.next!==null;if(ti=0,Ct=We=xe=null,xc=!1,wl=0,to=null,i)throw Error(s(300));t===null||It||(t=t.dependencies,t!==null&&yc(t)&&(It=!0))}function Ny(t,i,a,l){xe=t;var f=0;do{if(eo&&(to=null),wl=0,eo=!1,25<=f)throw Error(s(301));if(f+=1,Ct=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}J.H=f_,d=i(a,l)}while(eo);return d}function X2(){var t=J.H,i=t.useState()[0];return i=typeof i.then=="function"?Al(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(xe.flags|=1024),i}function gd(){var t=Rc!==0;return Rc=0,t}function yd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function _d(t){if(xc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}xc=!1}ti=0,Ct=We=xe=null,eo=!1,wl=Rc=0,to=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?xe.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function bt(){if(We===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=Ct===null?xe.memoizedState:Ct.next;if(i!==null)Ct=i,We=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ct===null?xe.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function Cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(t){var i=wl;return wl+=1,to===null&&(to=[]),t=by(to,t,i),i=xe,(Ct===null?i.memoizedState:Ct.next)===null&&(i=i.alternate,J.H=i===null||i.memoizedState===null?h_:Nd),t}function Ic(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Al(t);if(t.$$typeof===q)return Qt(t)}throw Error(s(438,String(t)))}function vd(t){var i=null,a=xe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Cc(),xe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=D;return i.index++,a}function ni(t,i){return typeof i=="function"?i(t):i}function Nc(t){var i=bt();return bd(i,We,t)}function bd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var w=_=null,N=null,G=i,W=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(De&te)===te:(ti&te)===te){var K=G.revertLane;if(K===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===Xa&&(W=!0);else if((ti&K)===K){G=G.next,K===Xa&&(W=!0);continue}else te={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(w=N=te,_=d):N=N.next=te,xe.lanes|=K,Yi|=K;te=G.action,ra&&a(d,te),d=G.hasEagerState?G.eagerState:a(d,te)}else K={lane:te,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(w=N=K,_=d):N=N.next=K,xe.lanes|=te,Yi|=te;G=G.next}while(G!==null&&G!==i);if(N===null?_=d:N.next=w,!Sn(d,t.memoizedState)&&(It=!0,W&&(a=$a,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ed(t){var i=bt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);Sn(d,i.memoizedState)||(It=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Dy(t,i,a){var l=xe,f=bt(),d=ke;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Sn((We||f).memoizedState,a);if(_&&(f.memoizedState=a,It=!0),f=f.queue,Ad(Vy.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,no(9,{destroy:void 0},My.bind(null,l,f,a,i),null),et===null)throw Error(s(349));d||(ti&127)!==0||Oy(l,i,a)}return a}function Oy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=xe.updateQueue,i===null?(i=Cc(),xe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function My(t,i,a,l){i.value=a,i.getSnapshot=l,Py(i)&&ky(t)}function Vy(t,i,a){return a(function(){Py(i)&&ky(t)})}function Py(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Sn(t,a)}catch{return!0}}function ky(t){var i=Ys(t,2);i!==null&&yn(i,t,2)}function Td(t){var i=un();if(typeof t=="function"){var a=t;if(t=a(),ra){Pn(!0);try{a()}finally{Pn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:t},i}function Ly(t,i,a,l){return t.baseState=a,bd(t,We,typeof l=="function"?l:ni)}function $2(t,i,a,l,f){if(Mc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};J.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,jy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function jy(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=J.T,_={};J.T=_;try{var w=a(f,l),N=J.S;N!==null&&N(_,w),Uy(t,i,w)}catch(G){wd(t,i,G)}finally{d!==null&&_.types!==null&&(d.types=_.types),J.T=d}}else try{d=a(f,l),Uy(t,i,d)}catch(G){wd(t,i,G)}}function Uy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){zy(t,i,l)},function(l){return wd(t,i,l)}):zy(t,i,a)}function zy(t,i,a){i.status="fulfilled",i.value=a,By(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,jy(t,a)))}function wd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,By(i),i=i.next;while(i!==l)}t.action=null}function By(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function qy(t,i){return i}function Hy(t,i){if(ke){var a=et.formState;if(a!==null){e:{var l=xe;if(ke){if(rt){t:{for(var f=rt,d=Fn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Kn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){rt=Kn(f.nextSibling),l=f.data==="F!";break e}}Ui(l)}l=!1}l&&(i=a[0])}}return a=un(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qy,lastRenderedState:i},a.queue=l,a=l_.bind(null,xe,l),l.dispatch=a,l=Td(!1),d=Id.bind(null,xe,!1,l.queue),l=un(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=$2.bind(null,xe,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function Fy(t){var i=bt();return Gy(i,We,t)}function Gy(t,i,a){if(i=bd(t,i,qy)[0],t=Nc(ni)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Al(i)}catch(_){throw _===Wa?bc:_}else l=i;i=bt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(xe.flags|=2048,no(9,{destroy:void 0},W2.bind(null,f,a),null)),[l,d,t]}function W2(t,i){t.action=i}function Ky(t){var i=bt(),a=We;if(a!==null)return Gy(i,a,t);bt(),i=i.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function no(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=xe.updateQueue,i===null&&(i=Cc(),xe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Qy(){return bt().memoizedState}function Dc(t,i,a,l){var f=un();xe.flags|=t,f.memoizedState=no(1|i,{destroy:void 0},a,l===void 0?null:l)}function Oc(t,i,a,l){var f=bt();l=l===void 0?null:l;var d=f.memoizedState.inst;We!==null&&l!==null&&md(l,We.memoizedState.deps)?f.memoizedState=no(i,d,a,l):(xe.flags|=t,f.memoizedState=no(1|i,d,a,l))}function Yy(t,i){Dc(8390656,8,t,i)}function Ad(t,i){Oc(2048,8,t,i)}function J2(t){xe.flags|=4;var i=xe.updateQueue;if(i===null)i=Cc(),xe.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Xy(t){var i=bt().memoizedState;return J2({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function $y(t,i){return Oc(4,2,t,i)}function Wy(t,i){return Oc(4,4,t,i)}function Jy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Zy(t,i,a){a=a!=null?a.concat([t]):null,Oc(4,4,Jy.bind(null,i,t),a)}function Sd(){}function e_(t,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&md(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function t_(t,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&md(i,l[1]))return l[0];if(l=t(),ra){Pn(!0);try{t()}finally{Pn(!1)}}return a.memoizedState=[l,i],l}function xd(t,i,a){return a===void 0||(ti&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=nv(),xe.lanes|=t,Yi|=t,a)}function n_(t,i,a,l){return Sn(a,i)?a:Za.current!==null?(t=xd(t,a,l),Sn(t,i)||(It=!0),t):(ti&42)===0||(ti&1073741824)!==0&&(De&261930)===0?(It=!0,t.memoizedState=a):(t=nv(),xe.lanes|=t,Yi|=t,i)}function r_(t,i,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=J.T,w={};J.T=w,Id(t,!1,i,a);try{var N=f(),G=J.S;if(G!==null&&G(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=Q2(N,l);Sl(t,i,W,Dn(t))}else Sl(t,i,l,Dn(t))}catch(te){Sl(t,i,{then:function(){},status:"rejected",reason:te},Dn())}finally{ae.p=d,_!==null&&w.types!==null&&(_.types=w.types),J.T=_}}function Z2(){}function Rd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=i_(t).queue;r_(t,f,i,ye,a===null?Z2:function(){return s_(t),a(l)})}function i_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:ye},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function s_(t){var i=i_(t);i.next===null&&(i=t.alternate.memoizedState),Sl(t,i.next.queue,{},Dn())}function Cd(){return Qt(ql)}function a_(){return bt().memoizedState}function o_(){return bt().memoizedState}function ew(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Dn();t=qi(a);var l=Hi(i,t,a);l!==null&&(yn(l,i,a),bl(l,i,a)),i={cache:rd()},t.payload=i;return}i=i.return}}function tw(t,i,a){var l=Dn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Mc(t)?u_(i,a):(a=Kf(t,i,a,l),a!==null&&(yn(a,t,l),c_(a,i,l)))}function l_(t,i,a){var l=Dn();Sl(t,i,a,l)}function Sl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mc(t))u_(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,w=d(_,a);if(f.hasEagerState=!0,f.eagerState=w,Sn(w,_))return dc(t,i,f,0),et===null&&fc(),!1}catch{}finally{}if(a=Kf(t,i,f,l),a!==null)return yn(a,t,l),c_(a,i,l),!0}return!1}function Id(t,i,a,l){if(l={lane:2,revertLane:om(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Mc(t)){if(i)throw Error(s(479))}else i=Kf(t,a,l,2),i!==null&&yn(i,t,2)}function Mc(t){var i=t.alternate;return t===xe||i!==null&&i===xe}function u_(t,i){eo=xc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function c_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Qo(t,a)}}var xl={readContext:Qt,use:Ic,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};xl.useEffectEvent=ft;var h_={readContext:Qt,use:Ic,useCallback:function(t,i){return un().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:Yy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Dc(4194308,4,Jy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Dc(4194308,4,t,i)},useInsertionEffect:function(t,i){Dc(4,2,t,i)},useMemo:function(t,i){var a=un();i=i===void 0?null:i;var l=t();if(ra){Pn(!0);try{t()}finally{Pn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=un();if(a!==void 0){var f=a(i);if(ra){Pn(!0);try{a(i)}finally{Pn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=tw.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var i=un();return t={current:t},i.memoizedState=t},useState:function(t){t=Td(t);var i=t.queue,a=l_.bind(null,xe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Sd,useDeferredValue:function(t,i){var a=un();return xd(a,t,i)},useTransition:function(){var t=Td(!1);return t=r_.bind(null,xe,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=xe,f=un();if(ke){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(De&127)!==0||Oy(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Yy(Vy.bind(null,l,d,t),[t]),l.flags|=2048,no(9,{destroy:void 0},My.bind(null,l,d,a,i),null),a},useId:function(){var t=un(),i=et.identifierPrefix;if(ke){var a=Or,l=Dr;a=(l&~(1<<32-yt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Rc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Y2++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Cd,useFormState:Hy,useActionState:Hy,useOptimistic:function(t){var i=un();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Id.bind(null,xe,!0,a),a.dispatch=i,[t,i]},useMemoCache:vd,useCacheRefresh:function(){return un().memoizedState=ew.bind(null,xe)},useEffectEvent:function(t){var i=un(),a={impl:t};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Nd={readContext:Qt,use:Ic,useCallback:e_,useContext:Qt,useEffect:Ad,useImperativeHandle:Zy,useInsertionEffect:$y,useLayoutEffect:Wy,useMemo:t_,useReducer:Nc,useRef:Qy,useState:function(){return Nc(ni)},useDebugValue:Sd,useDeferredValue:function(t,i){var a=bt();return n_(a,We.memoizedState,t,i)},useTransition:function(){var t=Nc(ni)[0],i=bt().memoizedState;return[typeof t=="boolean"?t:Al(t),i]},useSyncExternalStore:Dy,useId:a_,useHostTransitionStatus:Cd,useFormState:Fy,useActionState:Fy,useOptimistic:function(t,i){var a=bt();return Ly(a,We,t,i)},useMemoCache:vd,useCacheRefresh:o_};Nd.useEffectEvent=Xy;var f_={readContext:Qt,use:Ic,useCallback:e_,useContext:Qt,useEffect:Ad,useImperativeHandle:Zy,useInsertionEffect:$y,useLayoutEffect:Wy,useMemo:t_,useReducer:Ed,useRef:Qy,useState:function(){return Ed(ni)},useDebugValue:Sd,useDeferredValue:function(t,i){var a=bt();return We===null?xd(a,t,i):n_(a,We.memoizedState,t,i)},useTransition:function(){var t=Ed(ni)[0],i=bt().memoizedState;return[typeof t=="boolean"?t:Al(t),i]},useSyncExternalStore:Dy,useId:a_,useHostTransitionStatus:Cd,useFormState:Ky,useActionState:Ky,useOptimistic:function(t,i){var a=bt();return We!==null?Ly(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:vd,useCacheRefresh:o_};f_.useEffectEvent=Xy;function Dd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Od={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Dn(),f=qi(l);f.payload=i,a!=null&&(f.callback=a),i=Hi(t,f,l),i!==null&&(yn(i,t,l),bl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Dn(),f=qi(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Hi(t,f,l),i!==null&&(yn(i,t,l),bl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Dn(),l=qi(a);l.tag=2,i!=null&&(l.callback=i),i=Hi(t,l,a),i!==null&&(yn(i,t,a),bl(i,t,a))}};function d_(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!fl(a,l)||!fl(f,d):!0}function m_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Od.enqueueReplaceState(i,i.state,null)}function ia(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function p_(t){hc(t)}function g_(t){console.error(t)}function y_(t){hc(t)}function Vc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function __(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Md(t,i,a){return a=qi(a),a.tag=3,a.payload={element:null},a.callback=function(){Vc(t,i)},a}function v_(t){return t=qi(t),t.tag=3,t}function b_(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){__(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){__(i,a,l),typeof f!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function nw(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ya(i,a,f,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Gn===null?Kc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Ec?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),im(t,l,f)),!1;case 22:return a.flags|=65536,l===Ec?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),im(t,l,f)),!1}throw Error(s(435,a.tag))}return im(t,l,f),Kc(),!1}if(ke)return i=Rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Jf&&(t=Error(s(422),{cause:l}),pl(Bn(t,a)))):(l!==Jf&&(i=Error(s(423),{cause:l}),pl(Bn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Bn(l,a),f=Md(t.stateNode,l,f),ud(t,f),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=Bn(d,a),Vl===null?Vl=[d]:Vl.push(d),dt!==4&&(dt=2),i===null)return!0;l=Bn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Md(a.stateNode,l,t),ud(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Xi===null||!Xi.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=v_(f),b_(f,t,a,l),ud(a,f),!1}a=a.return}while(a!==null);return!1}var Vd=Error(s(461)),It=!1;function Yt(t,i,a,l){i.child=t===null?Ay(i,null,a,l):na(i,t.child,a,l)}function E_(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var w in l)w!=="ref"&&(_[w]=l[w])}else _=l;return Js(i),l=pd(t,i,a,_,d,f),w=gd(),t!==null&&!It?(yd(t,i,f),ri(t,i,f)):(ke&&w&&$f(i),i.flags|=1,Yt(t,i,l,f),i.child)}function T_(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Qf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,w_(t,i,d,l,f)):(t=pc(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!qd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:fl,a(_,l)&&t.ref===i.ref)return ri(t,i,f)}return i.flags|=1,t=Wr(d,l),t.ref=i.ref,t.return=i,i.child=t}function w_(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(fl(d,l)&&t.ref===i.ref)if(It=!1,i.pendingProps=l=d,qd(t,f))(t.flags&131072)!==0&&(It=!0);else return i.lanes=t.lanes,ri(t,i,f)}return Pd(t,i,a,l,f)}function A_(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return S_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&vc(i,d!==null?d.cachePool:null),d!==null?Ry(i,d):hd(),Cy(i);else return l=i.lanes=536870912,S_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(vc(i,d.cachePool),Ry(i,d),Gi(),i.memoizedState=null):(t!==null&&vc(i,null),hd(),Gi());return Yt(t,i,f,a),i.child}function Rl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function S_(t,i,a,l,f){var d=sd();return d=d===null?null:{parent:Rt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&vc(i,null),hd(),Cy(i),t!==null&&Ya(t,i,l,!0),i.childLanes=f,null}function Pc(t,i){return i=Lc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function x_(t,i,a){return na(i,t.child,null,a),t=Pc(i,i.pendingProps),t.flags|=2,Cn(i),i.memoizedState=null,t}function rw(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ke){if(l.mode==="hidden")return t=Pc(i,l),i.lanes=536870912,Rl(null,t);if(dd(i),(t=rt)?(t=jv(t,Fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Li!==null?{id:Dr,overflow:Or}:null,retryLane:536870912,hydrationErrors:null},a=uy(t),a.return=i,i.child=a,Kt=i,rt=null)):t=null,t===null)throw Ui(i);return i.lanes=536870912,null}return Pc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(dd(i),f)if(i.flags&256)i.flags&=-257,i=x_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(It||Ya(t,i,a,!1),f=(a&t.childLanes)!==0,It||f){if(l=et,l!==null&&(_=Yo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ys(t,_),yn(l,t,_),Vd;Kc(),i=x_(t,i,a)}else t=d.treeContext,rt=Kn(_.nextSibling),Kt=i,ke=!0,ji=null,Fn=!1,t!==null&&fy(i,t),i=Pc(i,l),i.flags|=4096;return i}return t=Wr(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function kc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Pd(t,i,a,l,f){return Js(i),a=pd(t,i,a,l,void 0,f),l=gd(),t!==null&&!It?(yd(t,i,f),ri(t,i,f)):(ke&&l&&$f(i),i.flags|=1,Yt(t,i,a,f),i.child)}function R_(t,i,a,l,f,d){return Js(i),i.updateQueue=null,a=Ny(i,l,a,f),Iy(t),l=gd(),t!==null&&!It?(yd(t,i,d),ri(t,i,d)):(ke&&l&&$f(i),i.flags|=1,Yt(t,i,a,d),i.child)}function C_(t,i,a,l,f){if(Js(i),i.stateNode===null){var d=Fa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Qt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Od,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},od(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Qt(_):Fa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Dd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Od.enqueueReplaceState(d,d.state,null),Tl(i,l,d,f),El(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var w=i.memoizedProps,N=ia(a,w);d.props=N;var G=d.context,W=a.contextType;_=Fa,typeof W=="object"&&W!==null&&(_=Qt(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||G!==_)&&m_(i,d,l,_),Bi=!1;var K=i.memoizedState;d.state=K,Tl(i,l,d,f),El(),G=i.memoizedState,w||K!==G||Bi?(typeof te=="function"&&(Dd(i,a,te,l),G=i.memoizedState),(N=Bi||d_(i,a,N,l,K,G,_))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,ld(t,i),_=i.memoizedProps,W=ia(a,_),d.props=W,te=i.pendingProps,K=d.context,G=a.contextType,N=Fa,typeof G=="object"&&G!==null&&(N=Qt(G)),w=a.getDerivedStateFromProps,(G=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==te||K!==N)&&m_(i,d,l,N),Bi=!1,K=i.memoizedState,d.state=K,Tl(i,l,d,f),El();var X=i.memoizedState;_!==te||K!==X||Bi||t!==null&&t.dependencies!==null&&yc(t.dependencies)?(typeof w=="function"&&(Dd(i,a,w,l),X=i.memoizedState),(W=Bi||d_(i,a,W,l,K,X,N)||t!==null&&t.dependencies!==null&&yc(t.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),d.props=l,d.state=X,d.context=N,l=W):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,kc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=na(i,t.child,null,f),i.child=na(i,null,a,f)):Yt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=ri(t,i,f),t}function I_(t,i,a,l){return $s(),i.flags|=256,Yt(t,i,a,l),i.child}var kd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ld(t){return{baseLanes:t,cachePool:_y()}}function jd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Nn),t}function N_(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ke){if(f?Fi(i):Gi(),(t=rt)?(t=jv(t,Fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Li!==null?{id:Dr,overflow:Or}:null,retryLane:536870912,hydrationErrors:null},a=uy(t),a.return=i,i.child=a,Kt=i,rt=null)):t=null,t===null)throw Ui(i);return bm(t)?i.lanes=32:i.lanes=536870912,null}var w=l.children;return l=l.fallback,f?(Gi(),f=i.mode,w=Lc({mode:"hidden",children:w},f),l=Xs(l,f,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,l=i.child,l.memoizedState=Ld(a),l.childLanes=jd(t,_,a),i.memoizedState=kd,Rl(null,l)):(Fi(i),Ud(i,w))}var N=t.memoizedState;if(N!==null&&(w=N.dehydrated,w!==null)){if(d)i.flags&256?(Fi(i),i.flags&=-257,i=zd(t,i,a)):i.memoizedState!==null?(Gi(),i.child=t.child,i.flags|=128,i=null):(Gi(),w=l.fallback,f=i.mode,l=Lc({mode:"visible",children:l.children},f),w=Xs(w,f,a,null),w.flags|=2,l.return=i,w.return=i,l.sibling=w,i.child=l,na(i,t.child,null,a),l=i.child,l.memoizedState=Ld(a),l.childLanes=jd(t,_,a),i.memoizedState=kd,i=Rl(null,l));else if(Fi(i),bm(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var G=_.dgst;_=G,l=Error(s(419)),l.stack="",l.digest=_,pl({value:l,source:null,stack:null}),i=zd(t,i,a)}else if(It||Ya(t,i,a,!1),_=(a&t.childLanes)!==0,It||_){if(_=et,_!==null&&(l=Yo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Ys(t,l),yn(_,t,l),Vd;vm(w)||Kc(),i=zd(t,i,a)}else vm(w)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,rt=Kn(w.nextSibling),Kt=i,ke=!0,ji=null,Fn=!1,t!==null&&fy(i,t),i=Ud(i,l.children),i.flags|=4096);return i}return f?(Gi(),w=l.fallback,f=i.mode,N=t.child,G=N.sibling,l=Wr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,G!==null?w=Wr(G,w):(w=Xs(w,f,a,null),w.flags|=2),w.return=i,l.return=i,l.sibling=w,i.child=l,Rl(null,l),l=i.child,w=t.child.memoizedState,w===null?w=Ld(a):(f=w.cachePool,f!==null?(N=Rt._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=_y(),w={baseLanes:w.baseLanes|a,cachePool:f}),l.memoizedState=w,l.childLanes=jd(t,_,a),i.memoizedState=kd,Rl(t.child,l)):(Fi(i),a=t.child,t=a.sibling,a=Wr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Ud(t,i){return i=Lc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Lc(t,i){return t=xn(22,t,null,i),t.lanes=0,t}function zd(t,i,a){return na(i,t.child,null,a),t=Ud(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function D_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),td(t.return,i,a)}function Bd(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function O_(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=vt.current,w=(_&2)!==0;if(w?(_=_&1|2,i.flags|=128):_&=1,oe(vt,_),Yt(t,i,l,a),l=ke?ml:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&D_(t,a,i);else if(t.tag===19)D_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&Sc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Bd(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Sc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Bd(i,!0,a,null,d,l);break;case"together":Bd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ri(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Yi|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ya(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Wr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Wr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function qd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&yc(t)))}function iw(t,i,a){switch(i.tag){case 3:Pt(i,i.stateNode.containerInfo),zi(i,Rt,t.memoizedState.cache),$s();break;case 27:case 5:Ns(i);break;case 4:Pt(i,i.stateNode.containerInfo);break;case 10:zi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,dd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Fi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?N_(t,i,a):(Fi(i),t=ri(t,i,a),t!==null?t.sibling:null);Fi(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ya(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return O_(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(vt,vt.current),l)break;return null;case 22:return i.lanes=0,A_(t,i,a,i.pendingProps);case 24:zi(i,Rt,t.memoizedState.cache)}return ri(t,i,a)}function M_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)It=!0;else{if(!qd(t,a)&&(i.flags&128)===0)return It=!1,iw(t,i,a);It=(t.flags&131072)!==0}else It=!1,ke&&(i.flags&1048576)!==0&&hy(i,ml,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=ea(i.elementType),i.type=t,typeof t=="function")Qf(t)?(l=ia(t,l),i.tag=1,i=C_(null,i,t,l,a)):(i.tag=0,i=Pd(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===ie){i.tag=11,i=E_(null,i,t,l,a);break e}else if(f===R){i.tag=14,i=T_(null,i,t,l,a);break e}}throw i=st(t)||t,Error(s(306,i,""))}}return i;case 0:return Pd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=ia(l,i.pendingProps),C_(t,i,l,f,a);case 3:e:{if(Pt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,ld(t,i),Tl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,zi(i,Rt,l),l!==d.cache&&nd(i,[Rt],a,!0),El(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=I_(t,i,l,a);break e}else if(l!==f){f=Bn(Error(s(424)),i),pl(f),i=I_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=Kn(t.firstChild),Kt=i,ke=!0,ji=null,Fn=!0,a=Ay(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if($s(),l===f){i=ri(t,i,a);break e}Yt(t,i,l,a)}i=i.child}return i;case 26:return kc(t,i),t===null?(a=Fv(i.type,null,i.pendingProps,null))?i.memoizedState=a:ke||(a=i.type,t=i.pendingProps,l=Zc(Re.current).createElement(a),l[At]=i,l[Ut]=t,Xt(l,a,t),St(l),i.stateNode=l):i.memoizedState=Fv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ns(i),t===null&&ke&&(l=i.stateNode=Bv(i.type,i.pendingProps,Re.current),Kt=i,Fn=!0,f=rt,Zi(i.type)?(Em=f,rt=Kn(l.firstChild)):rt=f),Yt(t,i,i.pendingProps.children,a),kc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ke&&((f=l=rt)&&(l=Vw(l,i.type,i.pendingProps,Fn),l!==null?(i.stateNode=l,Kt=i,rt=Kn(l.firstChild),Fn=!1,f=!0):f=!1),f||Ui(i)),Ns(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,gm(f,d)?l=null:_!==null&&gm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=pd(t,i,X2,null,null,a),ql._currentValue=f),kc(t,i),Yt(t,i,l,a),i.child;case 6:return t===null&&ke&&((t=a=rt)&&(a=Pw(a,i.pendingProps,Fn),a!==null?(i.stateNode=a,Kt=i,rt=null,t=!0):t=!1),t||Ui(i)),null;case 13:return N_(t,i,a);case 4:return Pt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=na(i,null,l,a):Yt(t,i,l,a),i.child;case 11:return E_(t,i,i.type,i.pendingProps,a);case 7:return Yt(t,i,i.pendingProps,a),i.child;case 8:return Yt(t,i,i.pendingProps.children,a),i.child;case 12:return Yt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,zi(i,i.type,l.value),Yt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Js(i),f=Qt(f),l=l(f),i.flags|=1,Yt(t,i,l,a),i.child;case 14:return T_(t,i,i.type,i.pendingProps,a);case 15:return w_(t,i,i.type,i.pendingProps,a);case 19:return O_(t,i,a);case 31:return rw(t,i,a);case 22:return A_(t,i,a,i.pendingProps);case 24:return Js(i),l=Qt(Rt),t===null?(f=sd(),f===null&&(f=et,d=rd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},od(i),zi(i,Rt,f)):((t.lanes&a)!==0&&(ld(t,i),Tl(i,null,null,a),El()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),zi(i,Rt,l)):(l=d.cache,zi(i,Rt,l),l!==f.cache&&nd(i,[Rt],a,!0))),Yt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ii(t){t.flags|=4}function Hd(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(av())t.flags|=8192;else throw ta=Ec,ad}else t.flags&=-16777217}function V_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xv(i))if(av())t.flags|=8192;else throw ta=Ec,ad}function jc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Fu():536870912,t.lanes|=i,ao|=i)}function Cl(t,i){if(!ke)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function sw(t,i,a){var l=i.pendingProps;switch(Wf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ei(Rt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Qa(i)?ii(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Zf())),it(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(ii(i),d!==null?(it(i),V_(i,d)):(it(i),Hd(i,f,null,l,a))):d?d!==t.memoizedState?(ii(i),it(i),V_(i,d)):(it(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ii(i),it(i),Hd(i,f,t,l,a)),null;case 27:if(Sa(i),a=Re.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ii(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=fe.current,Qa(i)?dy(i):(t=Bv(f,l,a),i.stateNode=t,ii(i))}return it(i),null;case 5:if(Sa(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ii(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(d=fe.current,Qa(i))dy(i);else{var _=Zc(Re.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[At]=i,d[Ut]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Xt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ii(i)}}return it(i),Hd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ii(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Re.current,Qa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Kt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[At]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Nv(t.nodeValue,a)),t||Ui(i,!0)}else t=Zc(t).createTextNode(l),t[At]=i,i.stateNode=t}return it(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Qa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[At]=i}else $s(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),t=!1}else a=Zf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Cn(i),i):(Cn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Qa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[At]=i}else $s(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),f=!1}else f=Zf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Cn(i),i):(Cn(i),null)}return Cn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),jc(i,i.updateQueue),it(i),null);case 4:return at(),t===null&&hm(i.stateNode.containerInfo),it(i),null;case 10:return ei(i.type),it(i),null;case 19:if(ne(vt),l=i.memoizedState,l===null)return it(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Cl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Sc(t),d!==null){for(i.flags|=128,Cl(l,!1),t=d.updateQueue,i.updateQueue=t,jc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)ly(a,t),a=a.sibling;return oe(vt,vt.current&1|2),ke&&Jr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&on()>Hc&&(i.flags|=128,f=!0,Cl(l,!1),i.lanes=4194304)}else{if(!f)if(t=Sc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,jc(i,t),Cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ke)return it(i),null}else 2*on()-l.renderingStartTime>Hc&&a!==536870912&&(i.flags|=128,f=!0,Cl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=on(),t.sibling=null,a=vt.current,oe(vt,f?a&1|2:a&1),ke&&Jr(i,l.treeForkCount),t):(it(i),null);case 22:case 23:return Cn(i),fd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&jc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ne(Zs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ei(Rt),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function aw(t,i){switch(Wf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ei(Rt),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Sa(i),null;case 31:if(i.memoizedState!==null){if(Cn(i),i.alternate===null)throw Error(s(340));$s()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Cn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));$s()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ne(vt),null;case 4:return at(),null;case 10:return ei(i.type),null;case 22:case 23:return Cn(i),fd(),t!==null&&ne(Zs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ei(Rt),null;case 25:return null;default:return null}}function P_(t,i){switch(Wf(i),i.tag){case 3:ei(Rt),at();break;case 26:case 27:case 5:Sa(i);break;case 4:at();break;case 31:i.memoizedState!==null&&Cn(i);break;case 13:Cn(i);break;case 19:ne(vt);break;case 10:ei(i.type);break;case 22:case 23:Cn(i),fd(),t!==null&&ne(Zs);break;case 24:ei(Rt)}}function Il(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(w){Xe(i,i.return,w)}}function Ki(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,f=i;var N=a,G=w;try{G()}catch(W){Xe(f,N,W)}}}l=l.next}while(l!==d)}}catch(W){Xe(i,i.return,W)}}function k_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{xy(i,a)}catch(l){Xe(t,t.return,l)}}}function L_(t,i,a){a.props=ia(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,i,l)}}function Nl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Xe(t,i,f)}}function Mr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xe(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xe(t,i,f)}else a.current=null}function j_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xe(t,t.return,f)}}function Fd(t,i,a){try{var l=t.stateNode;Cw(l,t.type,a,i),l[Ut]=i}catch(f){Xe(t,t.return,f)}}function U_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zi(t.type)||t.tag===4}function Gd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||U_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=tr));else if(l!==4&&(l===27&&Zi(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Kd(t,i,a),t=t.sibling;t!==null;)Kd(t,i,a),t=t.sibling}function Uc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Zi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Uc(t,i,a),t=t.sibling;t!==null;)Uc(t,i,a),t=t.sibling}function z_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Xt(i,l,a),i[At]=t,i[Ut]=a}catch(d){Xe(t,t.return,d)}}var si=!1,Nt=!1,Qd=!1,B_=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function ow(t,i){if(t=t.containerInfo,mm=ah,t=Zg(t),zf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,w=-1,N=-1,G=0,W=0,te=t,K=null;t:for(;;){for(var X;te!==a||f!==0&&te.nodeType!==3||(w=_+f),te!==d||l!==0&&te.nodeType!==3||(N=_+l),te.nodeType===3&&(_+=te.nodeValue.length),(X=te.firstChild)!==null;)K=te,te=X;for(;;){if(te===t)break t;if(K===a&&++G===f&&(w=_),K===d&&++W===l&&(N=_),(X=te.nextSibling)!==null)break;te=K,K=te.parentNode}te=X}a=w===-1||N===-1?null:{start:w,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(pm={focusedElem:t,selectionRange:a},ah=!1,Bt=i;Bt!==null;)if(i=Bt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Bt=t;else for(;Bt!==null;){switch(i=Bt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var de=ia(a.type,f);t=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Xe(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)_m(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_m(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Bt=t;break}Bt=i.return}}function q_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:oi(t,a),l&4&&Il(5,a);break;case 1:if(oi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var f=ia(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}l&64&&k_(a),l&512&&Nl(a,a.return);break;case 3:if(oi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{xy(t,i)}catch(_){Xe(a,a.return,_)}}break;case 27:i===null&&l&4&&z_(a);case 26:case 5:oi(t,a),i===null&&l&4&&j_(a),l&512&&Nl(a,a.return);break;case 12:oi(t,a);break;case 31:oi(t,a),l&4&&G_(t,a);break;case 13:oi(t,a),l&4&&K_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=gw.bind(null,a),kw(t,a))));break;case 22:if(l=a.memoizedState!==null||si,!l){i=i!==null&&i.memoizedState!==null||Nt,f=si;var d=Nt;si=l,(Nt=i)&&!d?li(t,a,(a.subtreeFlags&8772)!==0):oi(t,a),si=f,Nt=d}break;case 30:break;default:oi(t,a)}}function H_(t){var i=t.alternate;i!==null&&(t.alternate=null,H_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Na(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,dn=!1;function ai(t,i,a){for(a=a.child;a!==null;)F_(t,i,a),a=a.sibling}function F_(t,i,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Wn,a)}catch{}switch(a.tag){case 26:Nt||Mr(a,i),ai(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Mr(a,i);var l=lt,f=dn;Zi(a.type)&&(lt=a.stateNode,dn=!1),ai(t,i,a),Ul(a.stateNode),lt=l,dn=f;break;case 5:Nt||Mr(a,i);case 6:if(l=lt,f=dn,lt=null,ai(t,i,a),lt=l,dn=f,lt!==null)if(dn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){Xe(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){Xe(a,i,d)}break;case 18:lt!==null&&(dn?(t=lt,kv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),po(t)):kv(lt,a.stateNode));break;case 4:l=lt,f=dn,lt=a.stateNode.containerInfo,dn=!0,ai(t,i,a),lt=l,dn=f;break;case 0:case 11:case 14:case 15:Ki(2,a,i),Nt||Ki(4,a,i),ai(t,i,a);break;case 1:Nt||(Mr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&L_(a,i,l)),ai(t,i,a);break;case 21:ai(t,i,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,ai(t,i,a),Nt=l;break;default:ai(t,i,a)}}function G_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{po(t)}catch(a){Xe(i,i.return,a)}}}function K_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{po(t)}catch(a){Xe(i,i.return,a)}}function lw(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new B_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new B_),i;default:throw Error(s(435,t.tag))}}function zc(t,i){var a=lw(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=yw.bind(null,t,l);l.then(f,f)}})}function mn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,w=_;e:for(;w!==null;){switch(w.tag){case 27:if(Zi(w.type)){lt=w.stateNode,dn=!1;break e}break;case 5:lt=w.stateNode,dn=!1;break e;case 3:case 4:lt=w.stateNode.containerInfo,dn=!0;break e}w=w.return}if(lt===null)throw Error(s(160));F_(d,_,f),lt=null,dn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Q_(i,t),i=i.sibling}var or=null;function Q_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(i,t),pn(t),l&4&&(Ki(3,t,t.return),Il(3,t),Ki(5,t,t.return));break;case 1:mn(i,t),pn(t),l&512&&(Nt||a===null||Mr(a,a.return)),l&64&&si&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=or;if(mn(i,t),pn(t),l&512&&(Nt||a===null||Mr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[vr]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Xt(d,l,a),d[At]=t,St(d),l=d;break e;case"link":var _=Qv("link","href",f).get(l+(a.href||""));if(_){for(var w=0;w<_.length;w++)if(d=_[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(w,1);break t}}d=f.createElement(l),Xt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=Qv("meta","content",f).get(l+(a.content||""))){for(w=0;w<_.length;w++)if(d=_[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(w,1);break t}}d=f.createElement(l),Xt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[At]=t,St(d),l=d}t.stateNode=l}else Yv(f,t.type,t.stateNode);else t.stateNode=Kv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Yv(f,t.type,t.stateNode):Kv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Fd(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(i,t),pn(t),l&512&&(Nt||a===null||Mr(a,a.return)),a!==null&&l&4&&Fd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(i,t),pn(t),l&512&&(Nt||a===null||Mr(a,a.return)),t.flags&32){f=t.stateNode;try{fn(f,"")}catch(de){Xe(t,t.return,de)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Fd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Qd=!0);break;case 6:if(mn(i,t),pn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){Xe(t,t.return,de)}}break;case 3:if(nh=null,f=or,or=eh(i.containerInfo),mn(i,t),or=f,pn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{po(i.containerInfo)}catch(de){Xe(t,t.return,de)}Qd&&(Qd=!1,Y_(t));break;case 4:l=or,or=eh(t.stateNode.containerInfo),mn(i,t),pn(t),or=l;break;case 12:mn(i,t),pn(t);break;case 31:mn(i,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zc(t,l)));break;case 13:mn(i,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qc=on()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zc(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,G=si,W=Nt;if(si=G||f,Nt=W||N,mn(i,t),Nt=W,si=G,pn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||N||si||Nt||sa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=N.stateNode;var te=N.memoizedProps.style,K=te!=null&&te.hasOwnProperty("display")?te.display:null;w.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(de){Xe(N,N.return,de)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(de){Xe(N,N.return,de)}}}else if(i.tag===18){if(a===null){N=i;try{var X=N.stateNode;f?Lv(X,!0):Lv(N.stateNode,!1)}catch(de){Xe(N,N.return,de)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,zc(t,a))));break;case 19:mn(i,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zc(t,l)));break;case 30:break;case 21:break;default:mn(i,t),pn(t)}}function pn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(U_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Gd(t);Uc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(fn(_,""),a.flags&=-33);var w=Gd(t);Uc(t,w,_);break;case 3:case 4:var N=a.stateNode.containerInfo,G=Gd(t);Kd(t,G,N);break;default:throw Error(s(161))}}catch(W){Xe(t,t.return,W)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Y_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Y_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function oi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)q_(t,i.alternate,i),i=i.sibling}function sa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ki(4,i,i.return),sa(i);break;case 1:Mr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&L_(i,i.return,a),sa(i);break;case 27:Ul(i.stateNode);case 26:case 5:Mr(i,i.return),sa(i);break;case 22:i.memoizedState===null&&sa(i);break;case 30:sa(i);break;default:sa(i)}t=t.sibling}}function li(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:li(f,d,a),Il(4,d);break;case 1:if(li(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){Xe(l,l.return,G)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)Sy(N[f],w)}catch(G){Xe(l,l.return,G)}}a&&_&64&&k_(d),Nl(d,d.return);break;case 27:z_(d);case 26:case 5:li(f,d,a),a&&l===null&&_&4&&j_(d),Nl(d,d.return);break;case 12:li(f,d,a);break;case 31:li(f,d,a),a&&_&4&&G_(f,d);break;case 13:li(f,d,a),a&&_&4&&K_(f,d);break;case 22:d.memoizedState===null&&li(f,d,a),Nl(d,d.return);break;case 30:break;default:li(f,d,a)}i=i.sibling}}function Yd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&gl(a))}function Xd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&gl(t))}function lr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)X_(t,i,a,l),i=i.sibling}function X_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:lr(t,i,a,l),f&2048&&Il(9,i);break;case 1:lr(t,i,a,l);break;case 3:lr(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&gl(t)));break;case 12:if(f&2048){lr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,w=d.onPostCommit;typeof w=="function"&&w(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Xe(i,i.return,N)}}else lr(t,i,a,l);break;case 31:lr(t,i,a,l);break;case 13:lr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?lr(t,i,a,l):Dl(t,i):d._visibility&2?lr(t,i,a,l):(d._visibility|=2,ro(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Yd(_,i);break;case 24:lr(t,i,a,l),f&2048&&Xd(i.alternate,i);break;default:lr(t,i,a,l)}}function ro(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,w=a,N=l,G=_.flags;switch(_.tag){case 0:case 11:case 15:ro(d,_,w,N,f),Il(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?ro(d,_,w,N,f):Dl(d,_):(W._visibility|=2,ro(d,_,w,N,f)),f&&G&2048&&Yd(_.alternate,_);break;case 24:ro(d,_,w,N,f),f&&G&2048&&Xd(_.alternate,_);break;default:ro(d,_,w,N,f)}i=i.sibling}}function Dl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:Dl(a,l),f&2048&&Yd(l.alternate,l);break;case 24:Dl(a,l),f&2048&&Xd(l.alternate,l);break;default:Dl(a,l)}i=i.sibling}}var Ol=8192;function io(t,i,a){if(t.subtreeFlags&Ol)for(t=t.child;t!==null;)$_(t,i,a),t=t.sibling}function $_(t,i,a){switch(t.tag){case 26:io(t,i,a),t.flags&Ol&&t.memoizedState!==null&&Yw(a,or,t.memoizedState,t.memoizedProps);break;case 5:io(t,i,a);break;case 3:case 4:var l=or;or=eh(t.stateNode.containerInfo),io(t,i,a),or=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ol,Ol=16777216,io(t,i,a),Ol=l):io(t,i,a));break;default:io(t,i,a)}}function W_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ml(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,Z_(l,t)}W_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)J_(t),t=t.sibling}function J_(t){switch(t.tag){case 0:case 11:case 15:Ml(t),t.flags&2048&&Ki(9,t,t.return);break;case 3:Ml(t);break;case 12:Ml(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Bc(t)):Ml(t);break;default:Ml(t)}}function Bc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,Z_(l,t)}W_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ki(8,i,i.return),Bc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Bc(i));break;default:Bc(i)}t=t.sibling}}function Z_(t,i){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Ki(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var f=l.sibling,d=l.return;if(H_(l),l===a){Bt=null;break e}if(f!==null){f.return=d,Bt=f;break e}Bt=d}}}var uw={getCacheForType:function(t){var i=Qt(Rt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Qt(Rt).controller.signal}},cw=typeof WeakMap=="function"?WeakMap:Map,He=0,et=null,Ie=null,De=0,Ye=0,In=null,Qi=!1,so=!1,$d=!1,ui=0,dt=0,Yi=0,aa=0,Wd=0,Nn=0,ao=0,Vl=null,gn=null,Jd=!1,qc=0,ev=0,Hc=1/0,Fc=null,Xi=null,Lt=0,$i=null,oo=null,ci=0,Zd=0,em=null,tv=null,Pl=0,tm=null;function Dn(){return(He&2)!==0&&De!==0?De&-De:J.T!==null?om():Gu()}function nv(){if(Nn===0)if((De&536870912)===0||ke){var t=Ms;Ms<<=1,(Ms&3932160)===0&&(Ms=262144),Nn=t}else Nn=536870912;return t=Rn.current,t!==null&&(t.flags|=32),Nn}function yn(t,i,a){(t===et&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(lo(t,0),Wi(t,De,Nn,!1)),Vs(t,a),((He&2)===0||t!==et)&&(t===et&&((He&2)===0&&(aa|=a),dt===4&&Wi(t,De,Nn,!1)),Vr(t))}function rv(t,i,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Jn(t,i),f=l?dw(t,i):rm(t,i,!0),d=l;do{if(f===0){so&&!l&&Wi(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!hw(a)){f=rm(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var w=t;f=Vl;var N=w.current.memoizedState.isDehydrated;if(N&&(lo(w,_).flags|=256),_=rm(w,_,!1),_!==2){if($d&&!N){w.errorRecoveryDisabledLanes|=d,aa|=d,f=4;break e}d=gn,gn=f,d!==null&&(gn===null?gn=d:gn.push.apply(gn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){lo(t,0),Wi(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Wi(l,i,Nn,!Qi);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=qc+300-on(),10<f)){if(Wi(l,i,Nn,!Qi),gr(l,0,!0)!==0)break e;ci=i,l.timeoutHandle=Vv(iv.bind(null,l,a,gn,Fc,Jd,i,Nn,aa,ao,Qi,d,"Throttled",-0,0),f);break e}iv(l,a,gn,Fc,Jd,i,Nn,aa,ao,Qi,d,null,-0,0)}}break}while(!0);Vr(t)}function iv(t,i,a,l,f,d,_,w,N,G,W,te,K,X){if(t.timeoutHandle=-1,te=i.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:tr},$_(i,d,te);var de=(d&62914560)===d?qc-on():(d&4194048)===d?ev-on():0;if(de=Xw(te,de),de!==null){ci=d,t.cancelPendingCommit=de(fv.bind(null,t,i,d,a,l,f,_,w,N,W,te,null,K,X)),Wi(t,d,_,!G);return}}fv(t,i,d,a,l,f,_,w,N)}function hw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Sn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Wi(t,i,a,l){i&=~Wd,i&=~aa,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-yt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Ps(t,a,i)}function Gc(){return(He&6)===0?(kl(0),!1):!0}function nm(){if(Ie!==null){if(Ye===0)var t=Ie.return;else t=Ie,Zr=Ws=null,_d(t),Ja=null,_l=0,t=Ie;for(;t!==null;)P_(t.alternate,t),t=t.return;Ie=null}}function lo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Dw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ci=0,nm(),et=t,Ie=a=Wr(t.current,null),De=i,Ye=0,In=null,Qi=!1,so=Jn(t,i),$d=!1,ao=Nn=Wd=aa=Yi=dt=0,gn=Vl=null,Jd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-yt(l),d=1<<f;i|=t[f],l&=~d}return ui=i,fc(),a}function sv(t,i){xe=null,J.H=xl,i===Wa||i===bc?(i=Ey(),Ye=3):i===ad?(i=Ey(),Ye=4):Ye=i===Vd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,In=i,Ie===null&&(dt=1,Vc(t,Bn(i,t.current)))}function av(){var t=Rn.current;return t===null?!0:(De&4194048)===De?Gn===null:(De&62914560)===De||(De&536870912)!==0?t===Gn:!1}function ov(){var t=J.H;return J.H=xl,t===null?xl:t}function lv(){var t=J.A;return J.A=uw,t}function Kc(){dt=4,Qi||(De&4194048)!==De&&Rn.current!==null||(so=!0),(Yi&134217727)===0&&(aa&134217727)===0||et===null||Wi(et,De,Nn,!1)}function rm(t,i,a){var l=He;He|=2;var f=ov(),d=lv();(et!==t||De!==i)&&(Fc=null,lo(t,i)),i=!1;var _=dt;e:do try{if(Ye!==0&&Ie!==null){var w=Ie,N=In;switch(Ye){case 8:nm(),_=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(i=!0);var G=Ye;if(Ye=0,In=null,uo(t,w,N,G),a&&so){_=0;break e}break;default:G=Ye,Ye=0,In=null,uo(t,w,N,G)}}fw(),_=dt;break}catch(W){sv(t,W)}while(!0);return i&&t.shellSuspendCounter++,Zr=Ws=null,He=l,J.H=f,J.A=d,Ie===null&&(et=null,De=0,fc()),_}function fw(){for(;Ie!==null;)uv(Ie)}function dw(t,i){var a=He;He|=2;var l=ov(),f=lv();et!==t||De!==i?(Fc=null,Hc=on()+500,lo(t,i)):so=Jn(t,i);e:do try{if(Ye!==0&&Ie!==null){i=Ie;var d=In;t:switch(Ye){case 1:Ye=0,In=null,uo(t,i,d,1);break;case 2:case 9:if(vy(d)){Ye=0,In=null,cv(i);break}i=function(){Ye!==2&&Ye!==9||et!==t||(Ye=7),Vr(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:vy(d)?(Ye=0,In=null,cv(i)):(Ye=0,In=null,uo(t,i,d,7));break;case 5:var _=null;switch(Ie.tag){case 26:_=Ie.memoizedState;case 5:case 27:var w=Ie;if(_?Xv(_):w.stateNode.complete){Ye=0,In=null;var N=w.sibling;if(N!==null)Ie=N;else{var G=w.return;G!==null?(Ie=G,Qc(G)):Ie=null}break t}}Ye=0,In=null,uo(t,i,d,5);break;case 6:Ye=0,In=null,uo(t,i,d,6);break;case 8:nm(),dt=6;break e;default:throw Error(s(462))}}mw();break}catch(W){sv(t,W)}while(!0);return Zr=Ws=null,J.H=l,J.A=f,He=a,Ie!==null?0:(et=null,De=0,fc(),dt)}function mw(){for(;Ie!==null&&!Mf();)uv(Ie)}function uv(t){var i=M_(t.alternate,t,ui);t.memoizedProps=t.pendingProps,i===null?Qc(t):Ie=i}function cv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=R_(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=R_(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:_d(i);default:P_(a,i),i=Ie=ly(i,ui),i=M_(a,i,ui)}t.memoizedProps=t.pendingProps,i===null?Qc(t):Ie=i}function uo(t,i,a,l){Zr=Ws=null,_d(i),Ja=null,_l=0;var f=i.return;try{if(nw(t,f,i,a,De)){dt=1,Vc(t,Bn(a,t.current)),Ie=null;return}}catch(d){if(f!==null)throw Ie=f,d;dt=1,Vc(t,Bn(a,t.current)),Ie=null;return}i.flags&32768?(ke||l===1?t=!0:so||(De&536870912)!==0?t=!1:(Qi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),hv(i,t)):Qc(i)}function Qc(t){var i=t;do{if((i.flags&32768)!==0){hv(i,Qi);return}t=i.return;var a=sw(i.alternate,i,ui);if(a!==null){Ie=a;return}if(i=i.sibling,i!==null){Ie=i;return}Ie=i=t}while(i!==null);dt===0&&(dt=5)}function hv(t,i){do{var a=aw(t.alternate,t);if(a!==null){a.flags&=32767,Ie=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=a}while(t!==null);dt=6,Ie=null}function fv(t,i,a,l,f,d,_,w,N){t.cancelPendingCommit=null;do Yc();while(Lt!==0);if((He&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Gf,kf(t,a,d,_,w,N),t===et&&(Ie=et=null,De=0),oo=i,$i=t,ci=a,Zd=d,em=f,tv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,_w(Ri,function(){return yv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,f=ae.p,ae.p=2,_=He,He|=4;try{ow(t,i,a)}finally{He=_,ae.p=f,J.T=l}}Lt=1,dv(),mv(),pv()}}function dv(){if(Lt===1){Lt=0;var t=$i,i=oo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var l=ae.p;ae.p=2;var f=He;He|=4;try{Q_(i,t);var d=pm,_=Zg(t.containerInfo),w=d.focusedElem,N=d.selectionRange;if(_!==w&&w&&w.ownerDocument&&Jg(w.ownerDocument.documentElement,w)){if(N!==null&&zf(w)){var G=N.start,W=N.end;if(W===void 0&&(W=G),"selectionStart"in w)w.selectionStart=G,w.selectionEnd=Math.min(W,w.value.length);else{var te=w.ownerDocument||document,K=te&&te.defaultView||window;if(K.getSelection){var X=K.getSelection(),de=w.textContent.length,_e=Math.min(N.start,de),Ze=N.end===void 0?_e:Math.min(N.end,de);!X.extend&&_e>Ze&&(_=Ze,Ze=_e,_e=_);var k=Wg(w,_e),V=Wg(w,Ze);if(k&&V&&(X.rangeCount!==1||X.anchorNode!==k.node||X.anchorOffset!==k.offset||X.focusNode!==V.node||X.focusOffset!==V.offset)){var H=te.createRange();H.setStart(k.node,k.offset),X.removeAllRanges(),_e>Ze?(X.addRange(H),X.extend(V.node,V.offset)):(H.setEnd(V.node,V.offset),X.addRange(H))}}}}for(te=[],X=w;X=X.parentNode;)X.nodeType===1&&te.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<te.length;w++){var Z=te[w];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}ah=!!mm,pm=mm=null}finally{He=f,ae.p=l,J.T=a}}t.current=i,Lt=2}}function mv(){if(Lt===2){Lt=0;var t=$i,i=oo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var l=ae.p;ae.p=2;var f=He;He|=4;try{q_(t,i.alternate,i)}finally{He=f,ae.p=l,J.T=a}}Lt=3}}function pv(){if(Lt===4||Lt===3){Lt=0,ju();var t=$i,i=oo,a=ci,l=tv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Lt=5:(Lt=0,oo=$i=null,gv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Xi=null),Qr(a),i=i.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Wn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=J.T,f=ae.p,ae.p=2,J.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var w=l[_];d(w.value,{componentStack:w.stack})}}finally{J.T=i,ae.p=f}}(ci&3)!==0&&Yc(),Vr(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===tm?Pl++:(Pl=0,tm=t):Pl=0,kl(0)}}function gv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,gl(i)))}function Yc(){return dv(),mv(),pv(),yv()}function yv(){if(Lt!==5)return!1;var t=$i,i=Zd;Zd=0;var a=Qr(ci),l=J.T,f=ae.p;try{ae.p=32>a?32:a,J.T=null,a=em,em=null;var d=$i,_=ci;if(Lt=0,oo=$i=null,ci=0,(He&6)!==0)throw Error(s(331));var w=He;if(He|=4,J_(d.current),X_(d,d.current,_,a),He=w,kl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Wn,d)}catch{}return!0}finally{ae.p=f,J.T=l,gv(t,i)}}function _v(t,i,a){i=Bn(a,i),i=Md(t.stateNode,i,2),t=Hi(t,i,2),t!==null&&(Vs(t,2),Vr(t))}function Xe(t,i,a){if(t.tag===3)_v(t,t,a);else for(;i!==null;){if(i.tag===3){_v(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xi===null||!Xi.has(l))){t=Bn(a,t),a=v_(2),l=Hi(i,a,2),l!==null&&(b_(a,l,i,t),Vs(l,2),Vr(l));break}}i=i.return}}function im(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new cw;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||($d=!0,f.add(a),t=pw.bind(null,t,i,a),i.then(t,t))}function pw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(De&a)===a&&(dt===4||dt===3&&(De&62914560)===De&&300>on()-qc?(He&2)===0&&lo(t,0):Wd|=a,ao===De&&(ao=0)),Vr(t)}function vv(t,i){i===0&&(i=Fu()),t=Ys(t,i),t!==null&&(Vs(t,i),Vr(t))}function gw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),vv(t,a)}function yw(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),vv(t,a)}function _w(t,i){return kt(t,i)}var Xc=null,co=null,sm=!1,$c=!1,am=!1,Ji=0;function Vr(t){t!==co&&t.next===null&&(co===null?Xc=co=t:co=co.next=t),$c=!0,sm||(sm=!0,bw())}function kl(t,i){if(!am&&$c){am=!0;do for(var a=!1,l=Xc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-yt(42|t)+1)-1,d&=f&~(_&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,wv(l,d))}else d=De,d=gr(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Jn(l,d)||(a=!0,wv(l,d));l=l.next}while(a);am=!1}}function vw(){bv()}function bv(){$c=sm=!1;var t=0;Ji!==0&&Nw()&&(t=Ji);for(var i=on(),a=null,l=Xc;l!==null;){var f=l.next,d=Ev(l,i);d===0?(l.next=null,a===null?Xc=f:a.next=f,f===null&&(co=a)):(a=l,(t!==0||(d&3)!==0)&&($c=!0)),l=f}Lt!==0&&Lt!==5||kl(t),Ji!==0&&(Ji=0)}function Ev(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-yt(d),w=1<<_,N=f[_];N===-1?((w&a)===0||(w&l)!==0)&&(f[_]=Pf(w,i)):N<=i&&(t.expiredLanes|=w),d&=~w}if(i=et,a=De,a=gr(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&xi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Jn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&xi(l),Qr(a)){case 2:case 8:a=Ko;break;case 32:a=Ri;break;case 268435456:a=Uu;break;default:a=Ri}return l=Tv.bind(null,t),a=kt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&xi(l),t.callbackPriority=2,t.callbackNode=null,2}function Tv(t,i){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Yc()&&t.callbackNode!==a)return null;var l=De;return l=gr(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(rv(t,l,i),Ev(t,on()),t.callbackNode!=null&&t.callbackNode===a?Tv.bind(null,t):null)}function wv(t,i){if(Yc())return null;rv(t,i,!0)}function bw(){Ow(function(){(He&6)!==0?kt(Go,vw):bv()})}function om(){if(Ji===0){var t=Xa;t===0&&(t=mr,mr<<=1,(mr&261888)===0&&(mr=256)),Ji=t}return Ji}function Av(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Va(""+t)}function Sv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Ew(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=Av((f[Ut]||null).action),_=l.submitter;_&&(i=(i=_[Ut]||null)?Av(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var w=new Rr("action","action",null,l,f);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ji!==0){var N=_?Sv(f,_):new FormData(f);Rd(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(w.preventDefault(),N=_?Sv(f,_):new FormData(f),Rd(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var lm=0;lm<Ff.length;lm++){var um=Ff[lm],Tw=um.toLowerCase(),ww=um[0].toUpperCase()+um.slice(1);ar(Tw,"on"+ww)}ar(ny,"onAnimationEnd"),ar(ry,"onAnimationIteration"),ar(iy,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(U2,"onTransitionRun"),ar(z2,"onTransitionStart"),ar(B2,"onTransitionCancel"),ar(sy,"onTransitionEnd"),wr("onMouseEnter",["mouseout","mouseover"]),wr("onMouseLeave",["mouseout","mouseover"]),wr("onPointerEnter",["pointerout","pointerover"]),wr("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Aw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function xv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var w=l[_],N=w.instance,G=w.currentTarget;if(w=w.listener,N!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=G;try{d(f)}catch(W){hc(W)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(w=l[_],N=w.instance,G=w.currentTarget,w=w.listener,N!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=G;try{d(f)}catch(W){hc(W)}f.currentTarget=null,d=N}}}}function Ne(t,i){var a=i[Ia];a===void 0&&(a=i[Ia]=new Set);var l=t+"__bubble";a.has(l)||(Rv(i,t,2,!1),a.add(l))}function cm(t,i,a){var l=0;i&&(l|=4),Rv(a,t,l,i)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function hm(t){if(!t[Wc]){t[Wc]=!0,Xo.forEach(function(a){a!=="selectionchange"&&(Aw.has(a)||cm(a,!1,t),cm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Wc]||(i[Wc]=!0,cm("selectionchange",!1,i))}}function Rv(t,i,a,l){switch(n0(i)){case 2:var f=Jw;break;case 8:f=Zw;break;default:f=xm}a=f.bind(null,i,a,t),f=void 0,!zs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function fm(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var w=l.stateNode.containerInfo;if(w===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;w!==null;){if(_=br(w),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}w=w.parentNode}}l=l.return}Mi(function(){var G=d,W=Ln(a),te=[];e:{var K=ay.get(t);if(K!==void 0){var X=Rr,de=t;switch(t){case"keypress":if(qs(a)===0)break e;case"keydown":case"keyup":X=lc;break;case"focusin":de="focus",X=Fs;break;case"focusout":de="blur",X=Fs;break;case"beforeblur":case"afterblur":X=Fs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=y;break;case ny:case ry:case iy:X=tc;break;case sy:X=A;break;case"scroll":case"scrollend":X=ol;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=nc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=$r;break;case"toggle":case"beforetoggle":X=Se}var _e=(i&4)!==0,Ze=!_e&&(t==="scroll"||t==="scrollend"),k=_e?K!==null?K+"Capture":null:K;_e=[];for(var V=G,H;V!==null;){var Z=V;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||k===null||(Z=nr(V,k),Z!=null&&_e.push(jl(V,Z,H))),Ze)break;V=V.return}0<_e.length&&(K=new X(K,de,null,a,W),te.push({event:K,listeners:_e}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",K&&a!==il&&(de=a.relatedTarget||a.fromElement)&&(br(de)||de[_r]))break e;if((X||K)&&(K=W.window===W?W:(K=W.ownerDocument)?K.defaultView||K.parentWindow:window,X?(de=a.relatedTarget||a.toElement,X=G,de=de?br(de):null,de!==null&&(Ze=u(de),_e=de.tag,de!==Ze||_e!==5&&_e!==27&&_e!==6)&&(de=null)):(X=null,de=G),X!==de)){if(_e=ll,Z="onMouseLeave",k="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(_e=$r,Z="onPointerLeave",k="onPointerEnter",V="pointer"),Ze=X==null?K:wn(X),H=de==null?K:wn(de),K=new _e(Z,V+"leave",X,a,W),K.target=Ze,K.relatedTarget=H,Z=null,br(W)===G&&(_e=new _e(k,V+"enter",de,a,W),_e.target=H,_e.relatedTarget=Ze,Z=_e),Ze=Z,X&&de)t:{for(_e=Sw,k=X,V=de,H=0,Z=k;Z;Z=_e(Z))H++;Z=0;for(var pe=V;pe;pe=_e(pe))Z++;for(;0<H-Z;)k=_e(k),H--;for(;0<Z-H;)V=_e(V),Z--;for(;H--;){if(k===V||V!==null&&k===V.alternate){_e=k;break t}k=_e(k),V=_e(V)}_e=null}else _e=null;X!==null&&Cv(te,K,X,_e,!1),de!==null&&Ze!==null&&Cv(te,Ze,de,_e,!0)}}e:{if(K=G?wn(G):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var ze=Gg;else if(Hg(K))if(Kg)ze=k2;else{ze=V2;var me=M2}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&Ma(G.elementType)&&(ze=Gg):ze=P2;if(ze&&(ze=ze(t,G))){Fg(te,ze,a,W);break e}me&&me(t,K,G),t==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&tl(K,"number",K.value)}switch(me=G?wn(G):window,t){case"focusin":(Hg(me)||me.contentEditable==="true")&&(Ba=me,Bf=G,dl=null);break;case"focusout":dl=Bf=Ba=null;break;case"mousedown":qf=!0;break;case"contextmenu":case"mouseup":case"dragend":qf=!1,ey(te,a,W);break;case"selectionchange":if(j2)break;case"keydown":case"keyup":ey(te,a,W)}var Ce;if(qe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else za?Gs(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Nr&&a.locale!=="ko"&&(za||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&za&&(Ce=al()):(xr=W,sl="value"in xr?xr.value:xr.textContent,za=!0)),me=Jc(G,Oe),0<me.length&&(Oe=new Ir(Oe,t,null,a,W),te.push({event:Oe,listeners:me}),Ce?Oe.data=Ce:(Ce=Ua(a),Ce!==null&&(Oe.data=Ce)))),(Ce=Un?I2(t,a):N2(t,a))&&(Oe=Jc(G,"onBeforeInput"),0<Oe.length&&(me=new Ir("onBeforeInput","beforeinput",null,a,W),te.push({event:me,listeners:Oe}),me.data=Ce)),Ew(te,t,G,a,W)}xv(te,i)})}function jl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Jc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=nr(t,a),f!=null&&l.unshift(jl(t,f,d)),f=nr(t,i),f!=null&&l.push(jl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function Sw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Cv(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var w=a,N=w.alternate,G=w.stateNode;if(w=w.tag,N!==null&&N===l)break;w!==5&&w!==26&&w!==27||G===null||(N=G,f?(G=nr(a,d),G!=null&&_.unshift(jl(a,G,N))):f||(G=nr(a,d),G!=null&&_.push(jl(a,G,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var xw=/\r\n?/g,Rw=/\u0000|\uFFFD/g;function Iv(t){return(typeof t=="string"?t:""+t).replace(xw,`
`).replace(Rw,"")}function Nv(t,i){return i=Iv(i),Iv(t)===i}function Je(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&fn(t,""+l);break;case"className":An(t,"class",l);break;case"tabIndex":An(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":An(t,a,l);break;case"style":rl(t,l,d);break;case"data":if(i!=="object"){An(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Va(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",f.name,f,null),Je(t,i,"formEncType",f.formEncType,f,null),Je(t,i,"formMethod",f.formMethod,f,null),Je(t,i,"formTarget",f.formTarget,f,null)):(Je(t,i,"encType",f.encType,f,null),Je(t,i,"method",f.method,f,null),Je(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Va(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=tr);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),Da(t,"popover",l);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Da(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ju.get(a)||a,Da(t,a,l))}}function dm(t,i,a,l,f,d){switch(a){case"style":rl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=tr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$o.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[Ut]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Da(t,a,l)}}}function Xt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}f&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var w=d=_=f=null,N=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":_=W;break;case"checked":N=W;break;case"defaultChecked":G=W;break;case"value":d=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:Je(t,i,l,W,a,null)}}Xu(t,d,w,N,G,_,f,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":_=w;break;case"multiple":l=w;default:Je(t,i,f,w,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Ii(t,!!l,i,!1):a!=null&&Ii(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Je(t,i,_,w,a,null)}Ni(t,l,f,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,i,N,l,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<Ll.length;l++)Ne(Ll[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,G,l,a,null)}return;default:if(Ma(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&dm(t,i,W,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Je(t,i,w,l,a,null))}function Cw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,w=null,N=null,G=null,W=null;for(X in a){var te=a[X];if(a.hasOwnProperty(X)&&te!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":N=te;default:l.hasOwnProperty(X)||Je(t,i,X,null,l,te)}}for(var K in l){var X=l[K];if(te=a[K],l.hasOwnProperty(K)&&(X!=null||te!=null))switch(K){case"type":d=X;break;case"name":f=X;break;case"checked":G=X;break;case"defaultChecked":W=X;break;case"value":_=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==te&&Je(t,i,K,X,l,te)}}Oa(t,_,w,N,G,W,d,f);return;case"select":X=_=w=K=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":X=N;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":K=d;break;case"defaultValue":w=d;break;case"multiple":_=d;default:d!==N&&Je(t,i,f,d,l,N)}i=w,a=_,l=X,K!=null?Ii(t,!!a,K,!1):!!l!=!!a&&(i!=null?Ii(t,!!a,i,!0):Ii(t,!!a,a?[]:"",!1));return;case"textarea":X=K=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Je(t,i,w,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":K=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Je(t,i,_,f,l,d)}$u(t,K,X);return;case"option":for(var de in a)if(K=a[de],a.hasOwnProperty(de)&&K!=null&&!l.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:Je(t,i,de,null,l,K)}for(N in l)if(K=l[N],X=a[N],l.hasOwnProperty(N)&&K!==X&&(K!=null||X!=null))switch(N){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Je(t,i,N,K,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)K=a[_e],a.hasOwnProperty(_e)&&K!=null&&!l.hasOwnProperty(_e)&&Je(t,i,_e,null,l,K);for(G in l)if(K=l[G],X=a[G],l.hasOwnProperty(G)&&K!==X&&(K!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Je(t,i,G,K,l,X)}return;default:if(Ma(i)){for(var Ze in a)K=a[Ze],a.hasOwnProperty(Ze)&&K!==void 0&&!l.hasOwnProperty(Ze)&&dm(t,i,Ze,void 0,l,K);for(W in l)K=l[W],X=a[W],!l.hasOwnProperty(W)||K===X||K===void 0&&X===void 0||dm(t,i,W,K,l,X);return}}for(var k in a)K=a[k],a.hasOwnProperty(k)&&K!=null&&!l.hasOwnProperty(k)&&Je(t,i,k,null,l,K);for(te in l)K=l[te],X=a[te],!l.hasOwnProperty(te)||K===X||K==null&&X==null||Je(t,i,te,K,l,X)}function Dv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Iw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,w=f.duration;if(d&&w&&Dv(_)){for(_=0,w=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],G=N.startTime;if(G>w)break;var W=N.transferSize,te=N.initiatorType;W&&Dv(te)&&(N=N.responseEnd,_+=W*(N<w?1:(w-G)/(N-G)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var mm=null,pm=null;function Zc(t){return t.nodeType===9?t:t.ownerDocument}function Ov(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function gm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ym=null;function Nw(){var t=window.event;return t&&t.type==="popstate"?t===ym?!1:(ym=t,!0):(ym=null,!1)}var Vv=typeof setTimeout=="function"?setTimeout:void 0,Dw=typeof clearTimeout=="function"?clearTimeout:void 0,Pv=typeof Promise=="function"?Promise:void 0,Ow=typeof queueMicrotask=="function"?queueMicrotask:typeof Pv<"u"?function(t){return Pv.resolve(null).then(t).catch(Mw)}:Vv;function Mw(t){setTimeout(function(){throw t})}function Zi(t){return t==="head"}function kv(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),po(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ul(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ul(a);for(var d=a.firstChild;d;){var _=d.nextSibling,w=d.nodeName;d[vr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ul(t.ownerDocument.body);a=f}while(a);po(i)}function Lv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function _m(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_m(a),Na(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Vw(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function Pw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Kn(t.nextSibling),t===null))return null;return t}function jv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Kn(t.nextSibling),t===null))return null;return t}function vm(t){return t.data==="$?"||t.data==="$~"}function bm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function kw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Em=null;function Uv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Kn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function zv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Bv(t,i,a){switch(i=Zc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ul(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Na(t)}var Qn=new Map,qv=new Set;function eh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hi=ae.d;ae.d={f:Lw,r:jw,D:Uw,C:zw,L:Bw,m:qw,X:Fw,S:Hw,M:Gw};function Lw(){var t=hi.f(),i=Gc();return t||i}function jw(t){var i=kn(t);i!==null&&i.tag===5&&i.type==="form"?s_(i):hi.r(t)}var ho=typeof document>"u"?null:document;function Hv(t,i,a){var l=ho;if(l&&typeof i=="string"&&i){var f=hn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),qv.has(f)||(qv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Xt(i,"link",t),St(i),l.head.appendChild(i)))}}function Uw(t){hi.D(t),Hv("dns-prefetch",t,null)}function zw(t,i){hi.C(t,i),Hv("preconnect",t,i)}function Bw(t,i,a){hi.L(t,i,a);var l=ho;if(l&&t&&i){var f='link[rel="preload"][as="'+hn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+hn(a.imageSizes)+'"]')):f+='[href="'+hn(t)+'"]';var d=f;switch(i){case"style":d=fo(t);break;case"script":d=mo(t)}Qn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Qn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(zl(d))||i==="script"&&l.querySelector(Bl(d))||(i=l.createElement("link"),Xt(i,"link",t),St(i),l.head.appendChild(i)))}}function qw(t,i){hi.m(t,i);var a=ho;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=mo(t)}if(!Qn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Qn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bl(d)))return}l=a.createElement("link"),Xt(l,"link",t),St(l),a.head.appendChild(l)}}}function Hw(t,i,a){hi.S(t,i,a);var l=ho;if(l&&t){var f=Er(l).hoistableStyles,d=fo(t);i=i||"default";var _=f.get(d);if(!_){var w={loading:0,preload:null};if(_=l.querySelector(zl(d)))w.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Qn.get(d))&&Tm(t,a);var N=_=l.createElement("link");St(N),Xt(N,"link",t),N._p=new Promise(function(G,W){N.onload=G,N.onerror=W}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,th(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:w},f.set(d,_)}}}function Fw(t,i){hi.X(t,i);var a=ho;if(a&&t){var l=Er(a).hoistableScripts,f=mo(t),d=l.get(f);d||(d=a.querySelector(Bl(f)),d||(t=T({src:t,async:!0},i),(i=Qn.get(f))&&wm(t,i),d=a.createElement("script"),St(d),Xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Gw(t,i){hi.M(t,i);var a=ho;if(a&&t){var l=Er(a).hoistableScripts,f=mo(t),d=l.get(f);d||(d=a.querySelector(Bl(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Qn.get(f))&&wm(t,i),d=a.createElement("script"),St(d),Xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Fv(t,i,a,l){var f=(f=Re.current)?eh(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=fo(a.href),a=Er(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=fo(a.href);var d=Er(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(zl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(t,a),d||Kw(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=mo(a),a=Er(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function fo(t){return'href="'+hn(t)+'"'}function zl(t){return'link[rel="stylesheet"]['+t+"]"}function Gv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Kw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Xt(i,"link",a),St(i),t.head.appendChild(i))}function mo(t){return'[src="'+hn(t)+'"]'}function Bl(t){return"script[async]"+t}function Kv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+hn(a.href)+'"]');if(l)return i.instance=l,St(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Xt(l,"style",f),th(l,a.precedence,t),i.instance=l;case"stylesheet":f=fo(a.href);var d=t.querySelector(zl(f));if(d)return i.state.loading|=4,i.instance=d,St(d),d;l=Gv(a),(f=Qn.get(f))&&Tm(l,f),d=(t.ownerDocument||t).createElement("link"),St(d);var _=d;return _._p=new Promise(function(w,N){_.onload=w,_.onerror=N}),Xt(d,"link",l),i.state.loading|=4,th(d,a.precedence,t),i.instance=d;case"script":return d=mo(a.src),(f=t.querySelector(Bl(d)))?(i.instance=f,St(f),f):(l=a,(f=Qn.get(d))&&(l=T({},a),wm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),St(f),Xt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,th(l,a.precedence,t));return i.instance}function th(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var w=l[_];if(w.dataset.precedence===i)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Tm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function wm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var nh=null;function Qv(t,i,a){if(nh===null){var l=new Map,f=nh=new Map;f.set(a,l)}else f=nh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[vr]||d[At]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var w=l.get(_);w?w.push(d):l.set(_,[d])}}return l}function Yv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Qw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Xv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Yw(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=fo(l.href),d=i.querySelector(zl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=rh.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=i.ownerDocument||i,l=Gv(l),(f=Qn.get(f))&&Tm(l,f),d=d.createElement("link"),St(d);var _=d;_._p=new Promise(function(w,N){_.onload=w,_.onerror=N}),Xt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=rh.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Am=0;function Xw(t,i){return t.stylesheets&&t.count===0&&sh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&sh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Am===0&&(Am=62500*Iw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&sh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Am?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function rh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ih=null;function sh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ih=new Map,i.forEach($w,t),ih=null,rh.call(t))}function $w(t,i){if(!(i.state.loading&4)){var a=ih.get(t);if(a)var l=a.get(null);else{a=new Map,ih.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=rh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var ql={$$typeof:q,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function Ww(t,i,a,l,f,d,_,w,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yr(0),this.hiddenUpdates=yr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function $v(t,i,a,l,f,d,_,w,N,G,W,te){return t=new Ww(t,i,a,_,N,G,W,te,w),i=1,d===!0&&(i|=24),d=xn(3,null,null,i),t.current=d,d.stateNode=t,i=rd(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},od(d),t}function Wv(t){return t?(t=Fa,t):Fa}function Jv(t,i,a,l,f,d){f=Wv(f),l.context===null?l.context=f:l.pendingContext=f,l=qi(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Hi(t,l,i),a!==null&&(yn(a,t,i),bl(a,t,i))}function Zv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Sm(t,i){Zv(t,i),(t=t.alternate)&&Zv(t,i)}function e0(t){if(t.tag===13||t.tag===31){var i=Ys(t,67108864);i!==null&&yn(i,t,67108864),Sm(t,67108864)}}function t0(t){if(t.tag===13||t.tag===31){var i=Dn();i=ks(i);var a=Ys(t,i);a!==null&&yn(a,t,i),Sm(t,i)}}var ah=!0;function Jw(t,i,a,l){var f=J.T;J.T=null;var d=ae.p;try{ae.p=2,xm(t,i,a,l)}finally{ae.p=d,J.T=f}}function Zw(t,i,a,l){var f=J.T;J.T=null;var d=ae.p;try{ae.p=8,xm(t,i,a,l)}finally{ae.p=d,J.T=f}}function xm(t,i,a,l){if(ah){var f=Rm(l);if(f===null)fm(t,i,l,oh,a),r0(t,l);else if(tA(f,t,i,a,l))l.stopPropagation();else if(r0(t,l),i&4&&-1<eA.indexOf(t)){for(;f!==null;){var d=kn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=pr(d.pendingLanes);if(_!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var N=1<<31-yt(_);w.entanglements[1]|=N,_&=~N}Vr(d),(He&6)===0&&(Hc=on()+500,kl(0))}}break;case 31:case 13:w=Ys(d,2),w!==null&&yn(w,d,2),Gc(),Sm(d,2)}if(d=Rm(l),d===null&&fm(t,i,l,oh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else fm(t,i,l,null,a)}}function Rm(t){return t=Ln(t),Cm(t)}var oh=null;function Cm(t){if(oh=null,t=br(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return oh=t,null}function n0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Os()){case Go:return 2;case Ko:return 8;case Ri:case Vf:return 32;case Uu:return 268435456;default:return 32}default:return 32}}var Im=!1,es=null,ts=null,ns=null,Hl=new Map,Fl=new Map,rs=[],eA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function r0(t,i){switch(t){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":Hl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(i.pointerId)}}function Gl(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=kn(i),i!==null&&e0(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function tA(t,i,a,l,f){switch(i){case"focusin":return es=Gl(es,t,i,a,l,f),!0;case"dragenter":return ts=Gl(ts,t,i,a,l,f),!0;case"mouseover":return ns=Gl(ns,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Hl.set(d,Gl(Hl.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Fl.set(d,Gl(Fl.get(d)||null,t,i,a,l,f)),!0}return!1}function i0(t){var i=br(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Zn(t.priority,function(){t0(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Zn(t.priority,function(){t0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Rm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);il=l,a.target.dispatchEvent(l),il=null}else return i=kn(a),i!==null&&e0(i),t.blockedOn=a,!1;i.shift()}return!0}function s0(t,i,a){lh(t)&&a.delete(i)}function nA(){Im=!1,es!==null&&lh(es)&&(es=null),ts!==null&&lh(ts)&&(ts=null),ns!==null&&lh(ns)&&(ns=null),Hl.forEach(s0),Fl.forEach(s0)}function uh(t,i){t.blockedOn===i&&(t.blockedOn=null,Im||(Im=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,nA)))}var ch=null;function a0(t){ch!==t&&(ch=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ch===t&&(ch=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(Cm(l||a)===null)continue;break}var d=kn(a);d!==null&&(t.splice(i,3),i-=3,Rd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function po(t){function i(N){return uh(N,t)}es!==null&&uh(es,t),ts!==null&&uh(ts,t),ns!==null&&uh(ns,t),Hl.forEach(i),Fl.forEach(i);for(var a=0;a<rs.length;a++){var l=rs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<rs.length&&(a=rs[0],a.blockedOn===null);)i0(a),a.blockedOn===null&&rs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Ut]||null;if(typeof d=="function")_||a0(a);else if(_){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Ut]||null)w=_.formAction;else if(Cm(f)!==null)continue}else w=_.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),a0(a)}}}function o0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Nm(t){this._internalRoot=t}hh.prototype.render=Nm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Dn();Jv(a,l,t,i,null,null)},hh.prototype.unmount=Nm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Jv(t.current,2,null,t,null,null),Gc(),i[_r]=null}};function hh(t){this._internalRoot=t}hh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Gu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<rs.length&&i!==0&&i<rs[a].priority;a++);rs.splice(a,0,t),a===0&&i0(t)}};var l0=e.version;if(l0!=="19.2.0")throw Error(s(527,l0,"19.2.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var rA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{Wn=fh.inject(rA),Ft=fh}catch{}}return Ql.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=p_,d=g_,_=y_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=$v(t,1,!1,null,null,a,l,null,f,d,_,o0),t[_r]=i.current,hm(t),new Nm(i)},Ql.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=p_,_=g_,w=y_,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=$v(t,1,!0,i,a??null,l,f,N,d,_,w,o0),i.context=Wv(null),a=i.current,l=Dn(),l=ks(l),f=qi(l),f.callback=null,Hi(a,f,l),a=l,i.current.lanes=a,Vs(i,a),Vr(i),t[_r]=i.current,hm(t),new hh(i)},Ql.version="19.2.0",Ql}var _0;function dA(){if(_0)return Mm.exports;_0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mm.exports=fA(),Mm.exports}var mA=dA();const pA=cb(mA);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var v0="popstate";function gA(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Zm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:hu(o)}return _A(e,n,null,r)}function ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Hr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yA(){return Math.random().toString(36).substring(2,10)}function b0(r,e){return{usr:r.state,key:r.key,idx:e}}function Zm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Vo(e):e,state:n,key:e&&e.key||s||yA()}}function hu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Vo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function _A(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function T(){m="POP";let B=v(),$=B==null?null:B-g;g=B,p&&p({action:m,location:Y.location,delta:$})}function x(B,$){m="PUSH";let U=Zm(Y.location,B,$);g=v()+1;let q=b0(U,g),ie=Y.createHref(U);try{h.pushState(q,"",ie)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(ie)}u&&p&&p({action:m,location:Y.location,delta:1})}function O(B,$){m="REPLACE";let U=Zm(Y.location,B,$);g=v();let q=b0(U,g),ie=Y.createHref(U);h.replaceState(q,"",ie),u&&p&&p({action:m,location:Y.location,delta:0})}function F(B){return vA(B)}let Y={get action(){return m},get location(){return r(o,h)},listen(B){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(v0,T),p=B,()=>{o.removeEventListener(v0,T),p=null}},createHref(B){return e(o,B)},createURL:F,encodeLocation(B){let $=F(B);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:x,replace:O,go(B){return h.go(B)}};return Y}function vA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:hu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function hb(r,e,n="/"){return bA(r,e,n,!1)}function bA(r,e,n,s){let o=typeof e=="string"?Vo(e):e,u=_i(o.pathname||"/",n);if(u==null)return null;let h=fb(r);EA(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=OA(u);m=NA(h[p],g,s)}return m}function fb(r,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let v={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;ct(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let T=pi([s,v.relativePath]),x=n.concat(v);h.children&&h.children.length>0&&(ct(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),fb(h.children,e,x,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:CA(T,h.index),routesMeta:x})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of db(h.path))u(h,m,!0,p)}),e}function db(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=db(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function EA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:IA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var TA=/^:[\w-]+$/,wA=3,AA=2,SA=1,xA=10,RA=-2,E0=r=>r==="*";function CA(r,e){let n=r.split("/"),s=n.length;return n.some(E0)&&(s+=RA),e&&(s+=AA),n.filter(o=>!E0(o)).reduce((o,u)=>o+(TA.test(u)?wA:u===""?SA:xA),s)}function IA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function NA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",T=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),x=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:pi([u,T.pathname]),pathnameBase:kA(pi([u,T.pathnameBase])),route:x}),T.pathnameBase!=="/"&&(u=pi([u,T.pathnameBase]))}return h}function Vh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=DA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:T},x)=>{if(v==="*"){let F=m[x]||"";h=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const O=m[x];return T&&!O?g[v]=void 0:g[v]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function DA(r,e=!1,n=!0){Hr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function OA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function _i(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function MA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Vo(r):r;return{pathname:n?n.startsWith("/")?n:VA(n,e):e,search:LA(s),hash:jA(o)}}function VA(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Lm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mb(r){let e=PA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function pb(r,e,n,s=!1){let o;typeof r=="string"?o=Vo(r):(o={...r},ct(!o.pathname||!o.pathname.includes("?"),Lm("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),Lm("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),Lm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let x=h.split("/");for(;x[0]==="..";)x.shift(),T-=1;o.pathname=x.join("/")}m=T>=0?e[T]:"/"}let p=MA(o,m),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var pi=r=>r.join("/").replace(/\/\/+/g,"/"),kA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),LA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,jA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function UA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var gb=["POST","PUT","PATCH","DELETE"];new Set(gb);var zA=["GET",...gb];new Set(zA);var Po=L.createContext(null);Po.displayName="DataRouter";var nf=L.createContext(null);nf.displayName="DataRouterState";L.createContext(!1);var yb=L.createContext({isTransitioning:!1});yb.displayName="ViewTransition";var BA=L.createContext(new Map);BA.displayName="Fetchers";var qA=L.createContext(null);qA.displayName="Await";var Gr=L.createContext(null);Gr.displayName="Navigation";var Tu=L.createContext(null);Tu.displayName="Location";var Ai=L.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var Op=L.createContext(null);Op.displayName="RouteError";function HA(r,{relative:e}={}){ct(wu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(Gr),{hash:o,pathname:u,search:h}=Au(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:pi([n,u])),s.createHref({pathname:m,search:h,hash:o})}function wu(){return L.useContext(Tu)!=null}function Ea(){return ct(wu(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Tu).location}var _b="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vb(r){L.useContext(Gr).static||L.useLayoutEffect(r)}function FA(){let{isDataRoute:r}=L.useContext(Ai);return r?rS():GA()}function GA(){ct(wu(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(Po),{basename:e,navigator:n}=L.useContext(Gr),{matches:s}=L.useContext(Ai),{pathname:o}=Ea(),u=JSON.stringify(mb(s)),h=L.useRef(!1);return vb(()=>{h.current=!0}),L.useCallback((p,g={})=>{if(Hr(h.current,_b),!h.current)return;if(typeof p=="number"){n.go(p);return}let v=pb(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:pi([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,r])}L.createContext(null);function Au(r,{relative:e}={}){let{matches:n}=L.useContext(Ai),{pathname:s}=Ea(),o=JSON.stringify(mb(n));return L.useMemo(()=>pb(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function KA(r,e){return bb(r,e)}function bb(r,e,n,s,o){ct(wu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(Gr),{matches:h}=L.useContext(Ai),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",T=m&&m.route;{let U=T&&T.path||"";Eb(g,!T||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let x=Ea(),O;if(e){let U=typeof e=="string"?Vo(e):e;ct(v==="/"||U.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${U.pathname}" was given in the \`location\` prop.`),O=U}else O=x;let F=O.pathname||"/",Y=F;if(v!=="/"){let U=v.replace(/^\//,"").split("/");Y="/"+F.replace(/^\//,"").split("/").slice(U.length).join("/")}let B=hb(r,{pathname:Y});Hr(T||B!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Hr(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=WA(B&&B.map(U=>Object.assign({},U,{params:Object.assign({},p,U.params),pathname:pi([v,u.encodeLocation?u.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?v:pi([v,u.encodeLocation?u.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),h,n,s,o);return e&&$?L.createElement(Tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},$):$}function QA(){let r=nS(),e=UA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,h)}var YA=L.createElement(QA,null),XA=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?L.createElement(Ai.Provider,{value:this.props.routeContext},L.createElement(Op.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $A({routeContext:r,match:e,children:n}){let s=L.useContext(Po);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Ai.Provider,{value:r},n)}function WA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let g=u.findIndex(v=>v.route.id&&h?.[v.route.id]!==void 0);ct(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let v=u[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:T,errors:x}=n,O=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!x||x[v.route.id]===void 0);if(v.route.lazy||O){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,v,T)=>{let x,O=!1,F=null,Y=null;n&&(x=h&&v.route.id?h[v.route.id]:void 0,F=v.route.errorElement||YA,m&&(p<0&&T===0?(Eb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,Y=null):p===T&&(O=!0,Y=v.route.hydrateFallbackElement||null)));let B=e.concat(u.slice(0,T+1)),$=()=>{let U;return x?U=F:O?U=Y:v.route.Component?U=L.createElement(v.route.Component,null):v.route.element?U=v.route.element:U=g,L.createElement($A,{match:v,routeContext:{outlet:g,matches:B,isDataRoute:n!=null},children:U})};return n&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?L.createElement(XA,{location:n.location,revalidation:n.revalidation,component:F,error:x,children:$(),routeContext:{outlet:null,matches:B,isDataRoute:!0},unstable_onError:s}):$()},null)}function Mp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JA(r){let e=L.useContext(Po);return ct(e,Mp(r)),e}function ZA(r){let e=L.useContext(nf);return ct(e,Mp(r)),e}function eS(r){let e=L.useContext(Ai);return ct(e,Mp(r)),e}function Vp(r){let e=eS(r),n=e.matches[e.matches.length-1];return ct(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function tS(){return Vp("useRouteId")}function nS(){let r=L.useContext(Op),e=ZA("useRouteError"),n=Vp("useRouteError");return r!==void 0?r:e.errors?.[n]}function rS(){let{router:r}=JA("useNavigate"),e=Vp("useNavigate"),n=L.useRef(!1);return vb(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{Hr(n.current,_b),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var T0={};function Eb(r,e,n){!e&&!T0[r]&&(T0[r]=!0,Hr(!1,n))}L.memo(iS);function iS({routes:r,future:e,state:n,unstable_onError:s}){return bb(r,void 0,n,s,e)}function oa(r){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sS({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ct(!wu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=L.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Vo(n));let{pathname:p="/",search:g="",hash:v="",state:T=null,key:x="default"}=n,O=L.useMemo(()=>{let F=_i(p,h);return F==null?null:{location:{pathname:F,search:g,hash:v,state:T,key:x},navigationType:s}},[h,p,g,v,T,x,s]);return Hr(O!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:L.createElement(Gr.Provider,{value:m},L.createElement(Tu.Provider,{children:e,value:O}))}function aS({children:r,location:e}){return KA(ep(r),e)}function ep(r,e=[]){let n=[];return L.Children.forEach(r,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){n.push.apply(n,ep(s.props.children,u));return}ct(s.type===oa,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=ep(s.props.children,u)),n.push(h)}),n}var Th="get",wh="application/x-www-form-urlencoded";function rf(r){return r!=null&&typeof r.tagName=="string"}function oS(r){return rf(r)&&r.tagName.toLowerCase()==="button"}function lS(r){return rf(r)&&r.tagName.toLowerCase()==="form"}function uS(r){return rf(r)&&r.tagName.toLowerCase()==="input"}function cS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function hS(r,e){return r.button===0&&(!e||e==="_self")&&!cS(r)}var dh=null;function fS(){if(dh===null)try{new FormData(document.createElement("form"),0),dh=!1}catch{dh=!0}return dh}var dS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jm(r){return r!=null&&!dS.has(r)?(Hr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):r}function mS(r,e){let n,s,o,u,h;if(lS(r)){let m=r.getAttribute("action");s=m?_i(m,e):null,n=r.getAttribute("method")||Th,o=jm(r.getAttribute("enctype"))||wh,u=new FormData(r)}else if(oS(r)||uS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?_i(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Th,o=jm(r.getAttribute("formenctype"))||jm(m.getAttribute("enctype"))||wh,u=new FormData(m,r),!fS()){let{name:g,type:v,value:T}=r;if(v==="image"){let x=g?`${g}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else g&&u.append(g,T)}}else{if(rf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Th,s=null,o=wh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function pS(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&_i(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function gS(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function _S(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await gS(u,n);return h.links?h.links():[]}return[]}));return TS(s.flat(1).filter(yS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function w0(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function vS(r,e,{includeHydrateFallback:n}={}){return bS(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function bS(r){return[...new Set(r)]}function ES(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function TS(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(ES(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Tb(){let r=L.useContext(Po);return Pp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function wS(){let r=L.useContext(nf);return Pp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var kp=L.createContext(void 0);kp.displayName="FrameworkContext";function wb(){let r=L.useContext(kp);return Pp(r,"You must render this element inside a <HydratedRouter> element"),r}function AS(r,e){let n=L.useContext(kp),[s,o]=L.useState(!1),[u,h]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,x=L.useRef(null);L.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let Y=$=>{$.forEach(U=>{h(U.isIntersecting)})},B=new IntersectionObserver(Y,{threshold:.5});return x.current&&B.observe(x.current),()=>{B.disconnect()}}},[r]),L.useEffect(()=>{if(s){let Y=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let O=()=>{o(!0)},F=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,x,{}]:[u,x,{onFocus:Yl(m,O),onBlur:Yl(p,F),onMouseEnter:Yl(g,O),onMouseLeave:Yl(v,F),onTouchStart:Yl(T,O)}]:[!1,x,{}]}function Yl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function SS({page:r,...e}){let{router:n}=Tb(),s=L.useMemo(()=>hb(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?L.createElement(RS,{page:r,matches:s,...e}):null}function xS(r){let{manifest:e,routeModules:n}=wb(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return _S(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function RS({page:r,matches:e,...n}){let s=Ea(),{manifest:o,routeModules:u}=wb(),{basename:h}=Tb(),{loaderData:m,matches:p}=wS(),g=L.useMemo(()=>w0(r,e,p,o,s,"data"),[r,e,p,o,s]),v=L.useMemo(()=>w0(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=L.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let F=new Set,Y=!1;if(e.forEach($=>{let U=o.routes[$.route.id];!U||!U.hasLoader||(!g.some(q=>q.route.id===$.route.id)&&$.route.id in m&&u[$.route.id]?.shouldRevalidate||U.hasClientLoader?Y=!0:F.add($.route.id))}),F.size===0)return[];let B=pS(r,h,"data");return Y&&F.size>0&&B.searchParams.set("_routes",e.filter($=>F.has($.route.id)).map($=>$.route.id).join(",")),[B.pathname+B.search]},[h,m,s,o,g,e,r,u]),x=L.useMemo(()=>vS(v,o),[v,o]),O=xS(v);return L.createElement(L.Fragment,null,T.map(F=>L.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),x.map(F=>L.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),O.map(({key:F,link:Y})=>L.createElement("link",{key:F,nonce:n.nonce,...Y})))}function CS(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Ab=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ab&&(window.__reactRouterVersion="7.9.4")}catch{}function IS({basename:r,children:e,window:n}){let s=L.useRef();s.current==null&&(s.current=gA({window:n,v5Compat:!0}));let o=s.current,[u,h]=L.useState({action:o.action,location:o.location}),m=L.useCallback(p=>{L.startTransition(()=>h(p))},[h]);return L.useLayoutEffect(()=>o.listen(m),[o,m]),L.createElement(sS,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var Sb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vn=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:v,viewTransition:T,...x},O){let{basename:F}=L.useContext(Gr),Y=typeof g=="string"&&Sb.test(g),B,$=!1;if(typeof g=="string"&&Y&&(B=g,Ab))try{let C=new URL(window.location.href),D=g.startsWith("//")?new URL(C.protocol+g):new URL(g),M=_i(D.pathname,F);D.origin===C.origin&&M!=null?g=M+D.search+D.hash:$=!0}catch{Hr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=HA(g,{relative:o}),[q,ie,le]=AS(s,x),ce=MS(g,{replace:h,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:T});function R(C){e&&e(C),C.defaultPrevented||ce(C)}let S=L.createElement("a",{...x,...le,href:B||U,onClick:$||u?e:R,ref:CS(O,ie),target:p,"data-discover":!Y&&n==="render"?"true":void 0});return q&&!Y?L.createElement(L.Fragment,null,S,L.createElement(SS,{page:U})):S});vn.displayName="Link";var NS=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},v){let T=Au(h,{relative:g.relative}),x=Ea(),O=L.useContext(nf),{navigator:F,basename:Y}=L.useContext(Gr),B=O!=null&&jS(T)&&m===!0,$=F.encodeLocation?F.encodeLocation(T).pathname:T.pathname,U=x.pathname,q=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(U=U.toLowerCase(),q=q?q.toLowerCase():null,$=$.toLowerCase()),q&&Y&&(q=_i(q,Y)||q);const ie=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let le=U===$||!o&&U.startsWith($)&&U.charAt(ie)==="/",ce=q!=null&&(q===$||!o&&q.startsWith($)&&q.charAt($.length)==="/"),R={isActive:le,isPending:ce,isTransitioning:B},S=le?e:void 0,C;typeof s=="function"?C=s(R):C=[s,le?"active":null,ce?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(R):u;return L.createElement(vn,{...g,"aria-current":S,className:C,ref:v,style:D,to:h,viewTransition:m},typeof p=="function"?p(R):p)});NS.displayName="NavLink";var DS=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Th,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,...x},O)=>{let F=kS(),Y=LS(m,{relative:g}),B=h.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&Sb.test(m),U=q=>{if(p&&p(q),q.defaultPrevented)return;q.preventDefault();let ie=q.nativeEvent.submitter,le=ie?.getAttribute("formmethod")||h;F(ie||q.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:T})};return L.createElement("form",{ref:O,method:B,action:Y,onSubmit:s?p:U,...x,"data-discover":!$&&r==="render"?"true":void 0})});DS.displayName="Form";function OS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xb(r){let e=L.useContext(Po);return ct(e,OS(r)),e}function MS(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=FA(),p=Ea(),g=Au(r,{relative:u});return L.useCallback(v=>{if(hS(v,e)){v.preventDefault();let T=n!==void 0?n:hu(p)===hu(g);m(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,r,o,u,h])}var VS=0,PS=()=>`__${String(++VS)}__`;function kS(){let{router:r}=xb("useSubmit"),{basename:e}=L.useContext(Gr),n=tS();return L.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=mS(s,e);if(o.navigate===!1){let v=o.fetcherKey||PS();await r.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function LS(r,{relative:e}={}){let{basename:n}=L.useContext(Gr),s=L.useContext(Ai);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Au(r||".",{relative:e})},h=Ea();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:pi([n,u.pathname])),hu(u)}function jS(r,{relative:e}={}){let n=L.useContext(yb);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=xb("useViewTransitionState"),o=Au(r,{relative:e});if(!n.isTransitioning)return!1;let u=_i(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=_i(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Vh(o.pathname,h)!=null||Vh(o.pathname,u)!=null}var Rb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},A0=hs.createContext&&hs.createContext(Rb),US=["attr","size","title"];function zS(r,e){if(r==null)return{};var n=BS(r,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function BS(r,e){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;n[s]=r[s]}return n}function Ph(){return Ph=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Ph.apply(this,arguments)}function S0(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,s)}return n}function kh(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S0(Object(n),!0).forEach(function(s){qS(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):S0(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function qS(r,e,n){return e=HS(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function HS(r){var e=FS(r,"string");return typeof e=="symbol"?e:e+""}function FS(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Cb(r){return r&&r.map((e,n)=>hs.createElement(e.tag,kh({key:n},e.attr),Cb(e.child)))}function Zt(r){return e=>hs.createElement(GS,Ph({attr:kh({},r.attr)},e),Cb(r.child))}function GS(r){var e=n=>{var{attr:s,size:o,title:u}=r,h=zS(r,US),m=o||n.size||"1em",p;return n.className&&(p=n.className),r.className&&(p=(p?p+" ":"")+r.className),hs.createElement("svg",Ph({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,h,{className:p,style:kh(kh({color:r.color||n.color},n.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&hs.createElement("title",null,u),r.children)};return A0!==void 0?hs.createElement(A0.Consumer,null,n=>e(n)):e(Rb)}function KS(r){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(r)}function QS(r){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(r)}function YS(r){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"},child:[]}]})(r)}function XS(r){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(r)}function $S(r){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(r)}function WS(r){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(r)}function JS(r){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(r)}function ZS(r){return Zt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(r)}function Ib(r){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(r)}function ex(r){return Zt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(r)}function tx(r){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(r)}function nx(r){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(r)}function tp(r){return Zt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(r)}function Nb(r){return Zt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(r)}function rx(r){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(r)}function ix(r){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(r)}const sx=()=>{};var x0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},ax=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Ob={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let x=(m&15)<<2|g>>6,O=g&63;p||(O=64,h||(x=64)),s.push(n[v],n[T],n[x],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Db(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):ax(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new ox;const x=u<<2|m>>4;if(s.push(x),g!==64){const O=m<<4&240|g>>2;if(s.push(O),T!==64){const F=g<<6&192|T;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ox extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lx=function(r){const e=Db(r);return Ob.encodeByteArray(e,!0)},Lh=function(r){return lx(r).replace(/\./g,"")},Mb=function(r){try{return Ob.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=()=>ux().__FIREBASE_DEFAULTS__,hx=()=>{if(typeof process>"u"||typeof x0>"u")return;const r=x0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},fx=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Mb(r[1]);return e&&JSON.parse(e)},sf=()=>{try{return sx()||cx()||hx()||fx()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Vb=r=>sf()?.emulatorHosts?.[r],Pb=r=>{const e=Vb(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},kb=()=>sf()?.config,Lb=r=>sf()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lp(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Lh(JSON.stringify(n)),Lh(JSON.stringify(h)),""].join(".")}const ru={};function mx(){const r={prod:[],emulator:[]};for(const e of Object.keys(ru))ru[e]?r.emulator.push(e):r.prod.push(e);return r}function px(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let R0=!1;function jp(r,e){if(typeof window>"u"||typeof document>"u"||!ws(window.location.host)||ru[r]===e||ru[r]||R0)return;ru[r]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=mx().prod.length>0;function h(){const x=document.getElementById(s);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,O){x.setAttribute("width","24"),x.setAttribute("id",O),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{R0=!0,h()},x}function v(x,O){x.setAttribute("id",O),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function T(){const x=px(s),O=n("text"),F=document.getElementById(O)||document.createElement("span"),Y=n("learnmore"),B=document.getElementById(Y)||document.createElement("a"),$=n("preprendIcon"),U=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const q=x.element;m(q),v(B,Y);const ie=g();p(U,$),q.append(U,F,B,ie),document.body.appendChild(q)}u?(F.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function yx(){const r=sf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _x(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vx(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function bx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ex(){const r=an();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Tx(){return!yx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wx(){try{return typeof indexedDB=="object"}catch{return!1}}function Ax(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="FirebaseError";class Kr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Sx,Object.setPrototypeOf(this,Kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Su.prototype.create)}}class Su{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?xx(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Kr(o,m,s)}}function xx(r,e){return r.replace(Rx,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Rx=/\{\$([^}]+)}/g;function Cx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ma(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(C0(u)&&C0(h)){if(!ma(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function C0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Wl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Jl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function Ix(r,e){const n=new Nx(r,e);return n.subscribe.bind(n)}class Nx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Dx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Um),o.error===void 0&&(o.error=Um),o.complete===void 0&&(o.complete=Um);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dx(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Um(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(r){return r&&r._delegate?r._delegate:r}class gs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new dx;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Vx(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Mx(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Mx(r){return r===la?void 0:r}function Vx(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ox(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const kx={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Lx=Me.INFO,jx={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},Ux=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=jx[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Up{constructor(e){this.name=e,this._logLevel=Lx,this._logHandler=Ux,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const zx=(r,e)=>e.some(n=>r instanceof n);let I0,N0;function Bx(){return I0||(I0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qx(){return N0||(N0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ub=new WeakMap,np=new WeakMap,zb=new WeakMap,zm=new WeakMap,zp=new WeakMap;function Hx(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(fs(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Ub.set(n,r)}).catch(()=>{}),zp.set(e,r),e}function Fx(r){if(np.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});np.set(r,e)}let rp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return np.get(r);if(e==="objectStoreNames")return r.objectStoreNames||zb.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Gx(r){rp=r(rp)}function Kx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Bm(this),e,...n);return zb.set(s,e.sort?e.sort():[e]),fs(s)}:qx().includes(r)?function(...e){return r.apply(Bm(this),e),fs(Ub.get(this))}:function(...e){return fs(r.apply(Bm(this),e))}}function Qx(r){return typeof r=="function"?Kx(r):(r instanceof IDBTransaction&&Fx(r),zx(r,Bx())?new Proxy(r,rp):r)}function fs(r){if(r instanceof IDBRequest)return Hx(r);if(zm.has(r))return zm.get(r);const e=Qx(r);return e!==r&&(zm.set(r,e),zp.set(e,r)),e}const Bm=r=>zp.get(r);function Yx(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=fs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(fs(h.result),p.oldVersion,p.newVersion,fs(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Xx=["get","getKey","getAll","getAllKeys","count"],$x=["put","add","delete","clear"],qm=new Map;function D0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(qm.get(e))return qm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=$x.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Xx.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return qm.set(e,u),u}Gx(r=>({...r,get:(e,n,s)=>D0(e,n)||r.get(e,n,s),has:(e,n)=>!!D0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Jx(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Jx(r){return r.getComponent()?.type==="VERSION"}const ip="@firebase/app",O0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new Up("@firebase/app"),Zx="@firebase/app-compat",eR="@firebase/analytics-compat",tR="@firebase/analytics",nR="@firebase/app-check-compat",rR="@firebase/app-check",iR="@firebase/auth",sR="@firebase/auth-compat",aR="@firebase/database",oR="@firebase/data-connect",lR="@firebase/database-compat",uR="@firebase/functions",cR="@firebase/functions-compat",hR="@firebase/installations",fR="@firebase/installations-compat",dR="@firebase/messaging",mR="@firebase/messaging-compat",pR="@firebase/performance",gR="@firebase/performance-compat",yR="@firebase/remote-config",_R="@firebase/remote-config-compat",vR="@firebase/storage",bR="@firebase/storage-compat",ER="@firebase/firestore",TR="@firebase/ai",wR="@firebase/firestore-compat",AR="firebase",SR="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="[DEFAULT]",xR={[ip]:"fire-core",[Zx]:"fire-core-compat",[tR]:"fire-analytics",[eR]:"fire-analytics-compat",[rR]:"fire-app-check",[nR]:"fire-app-check-compat",[iR]:"fire-auth",[sR]:"fire-auth-compat",[aR]:"fire-rtdb",[oR]:"fire-data-connect",[lR]:"fire-rtdb-compat",[uR]:"fire-fn",[cR]:"fire-fn-compat",[hR]:"fire-iid",[fR]:"fire-iid-compat",[dR]:"fire-fcm",[mR]:"fire-fcm-compat",[pR]:"fire-perf",[gR]:"fire-perf-compat",[yR]:"fire-rc",[_R]:"fire-rc-compat",[vR]:"fire-gcs",[bR]:"fire-gcs-compat",[ER]:"fire-fst",[wR]:"fire-fst-compat",[TR]:"fire-vertex","fire-js":"fire-js",[AR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new Map,RR=new Map,ap=new Map;function M0(r,e){try{r.container.addComponent(e)}catch(n){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function pa(r){const e=r.name;if(ap.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;ap.set(e,r);for(const n of jh.values())M0(n,r);for(const n of RR.values())M0(n,r);return!0}function af(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function bn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ds=new Su("app","Firebase",CR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=SR;function Bb(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:sp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ds.create("bad-app-name",{appName:String(o)});if(n||(n=kb()),!n)throw ds.create("no-options");const u=jh.get(o);if(u){if(ma(n,u.options)&&ma(s,u.config))return u;throw ds.create("duplicate-app",{appName:o})}const h=new Px(o);for(const p of ap.values())h.addComponent(p);const m=new IR(n,s,h);return jh.set(o,m),m}function Bp(r=sp){const e=jh.get(r);if(!e&&r===sp&&kb())return Bb();if(!e)throw ds.create("no-app",{appName:r});return e}function Lr(r,e,n){let s=xR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(h.join(" "));return}pa(new gs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="firebase-heartbeat-database",DR=1,fu="firebase-heartbeat-store";let Hm=null;function qb(){return Hm||(Hm=Yx(NR,DR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(fu)}catch(n){console.warn(n)}}}}).catch(r=>{throw ds.create("idb-open",{originalErrorMessage:r.message})})),Hm}async function OR(r){try{const n=(await qb()).transaction(fu),s=await n.objectStore(fu).get(Hb(r));return await n.done,s}catch(e){if(e instanceof Kr)vi.warn(e.message);else{const n=ds.create("idb-get",{originalErrorMessage:e?.message});vi.warn(n.message)}}}async function V0(r,e){try{const s=(await qb()).transaction(fu,"readwrite");await s.objectStore(fu).put(e,Hb(r)),await s.done}catch(n){if(n instanceof Kr)vi.warn(n.message);else{const s=ds.create("idb-set",{originalErrorMessage:n?.message});vi.warn(s.message)}}}function Hb(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=1024,VR=30;class PR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=P0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>VR){const o=jR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=P0(),{heartbeatsToSend:n,unsentEntries:s}=kR(this._heartbeatsCache.heartbeats),o=Lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return vi.warn(e),""}}}function P0(){return new Date().toISOString().substring(0,10)}function kR(r,e=MR){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),k0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),k0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class LR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wx()?Ax().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return V0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return V0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function k0(r){return Lh(JSON.stringify({version:2,heartbeats:r})).length}function jR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(r){pa(new gs("platform-logger",e=>new Wx(e),"PRIVATE")),pa(new gs("heartbeat",e=>new PR(e),"PRIVATE")),Lr(ip,O0,r),Lr(ip,O0,"esm2020"),Lr("fire-js","")}UR("");function Fb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zR=Fb,Gb=new Su("auth","Firebase",Fb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Up("@firebase/auth");function BR(r,...e){Uh.logLevel<=Me.WARN&&Uh.warn(`Auth (${Ta}): ${r}`,...e)}function Ah(r,...e){Uh.logLevel<=Me.ERROR&&Uh.error(`Auth (${Ta}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(r,...e){throw Hp(r,...e)}function hr(r,...e){return Hp(r,...e)}function qp(r,e,n){const s={...zR(),[e]:n};return new Su("auth","Firebase",s).create(e,{appName:r.name})}function gi(r){return qp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qR(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&$n(r,"argument-error"),qp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Gb.create(r,...e)}function ve(r,e,...n){if(!r)throw Hp(e,...n)}function di(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ah(e),new Error(e)}function bi(r,e){r||di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(){return typeof self<"u"&&self.location?.href||""}function HR(){return L0()==="http:"||L0()==="https:"}function L0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HR()||vx()||"connection"in navigator)?navigator.onLine:!0}function GR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,bi(n>e,"Short delay should be less than long delay!"),this.isMobile=gx()||bx()}get(){return FR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(r,e){bi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YR=new Ru(3e4,6e4);function As(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Si(r,e,n,s,o={}){return Qb(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=xu({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return _x()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&ws(r.emulatorConfig.host)&&(g.credentials="include"),Kb.fetch()(await Yb(r,r.config.apiHost,n,m),g)})}async function Qb(r,e,n){r._canInitEmulator=!1;const s={...KR,...e};try{const o=new $R(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw mh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw mh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw mh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw mh(r,"user-disabled",h);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw qp(r,v,g);$n(r,v)}}catch(o){if(o instanceof Kr)throw o;$n(r,"network-request-failed",{message:String(o)})}}async function Cu(r,e,n,s,o={}){const u=await Si(r,e,n,s,o);return"mfaPendingCredential"in u&&$n(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Yb(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?Fp(r.config,o):`${r.config.apiScheme}://${o}`;return QR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function XR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $R{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(hr(this.auth,"network-request-failed")),YR.get())})}}function mh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=hr(r,e,s);return o.customData._tokenResponse=n,o}function j0(r){return r!==void 0&&r.enterprise!==void 0}class WR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return XR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function JR(r,e){return Si(r,"GET","/v2/recaptchaConfig",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(r,e){return Si(r,"POST","/v1/accounts:delete",e)}async function zh(r,e){return Si(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eC(r,e=!1){const n=ut(r),s=await n.getIdToken(e),o=Gp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:iu(Fm(o.auth_time)),issuedAtTime:iu(Fm(o.iat)),expirationTime:iu(Fm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Fm(r){return Number(r)*1e3}function Gp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=Mb(n);return o?JSON.parse(o):(Ah("Failed to decode base64 JWT payload"),null)}catch(o){return Ah("Caught error parsing JWT payload as JSON",o?.toString()),null}}function U0(r){const e=Gp(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Kr&&tC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function tC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(r){const e=r.auth,n=await r.getIdToken(),s=await Ro(r,zh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?Xb(o.providerUserInfo):[],h=iC(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new lp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function rC(r){const e=ut(r);await Bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Xb(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(r,e){const n=await Qb(r,{},async()=>{const s=xu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await Yb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&ws(r.emulatorConfig.host)&&(p.credentials="include"),Kb.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aC(r,e){return Si(r,"POST","/v2/accounts:revokeToken",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):U0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=U0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await sC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Eo;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class cr{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new nC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new lp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ro(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eC(this,e)}reload(){return rC(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(gi(this.auth));const e=await this.getIdToken();return await Ro(this,ZR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:T,emailVerified:x,isAnonymous:O,providerData:F,stsTokenManager:Y}=n;ve(T&&Y,e,"internal-error");const B=Eo.fromJSON(this.name,Y);ve(typeof T=="string",e,"internal-error"),ss(s,e.name),ss(o,e.name),ve(typeof x=="boolean",e,"internal-error"),ve(typeof O=="boolean",e,"internal-error"),ss(u,e.name),ss(h,e.name),ss(m,e.name),ss(p,e.name),ss(g,e.name),ss(v,e.name);const $=new cr({uid:T,auth:e,email:o,emailVerified:x,displayName:s,isAnonymous:O,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:B,createdAt:g,lastLoginAt:v});return F&&Array.isArray(F)&&($.providerData=F.map(U=>({...U}))),p&&($._redirectEventId=p),$}static async _fromIdTokenResponse(e,n,s=!1){const o=new Eo;o.updateFromServerResponse(n);const u=new cr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Bh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Xb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Eo;m.updateFromIdToken(s);const p=new cr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new lp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=new Map;function mi(r){bi(r instanceof Function,"Expected a class definition");let e=z0.get(r);return e?(bi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,z0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$b.type="NONE";const B0=$b;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(r,e,n){return`firebase:${r}:${e}:${n}`}class To{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Sh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Sh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zh(this.auth,{idToken:e}).catch(()=>{});return n?cr._fromGetAccountInfoResponse(this.auth,n,e):null}return cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new To(mi(B0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||mi(B0);const h=Sh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(h);if(v){let T;if(typeof v=="string"){const x=await zh(e,{idToken:v}).catch(()=>{});if(!x)break;T=await cr._fromGetAccountInfoResponse(e,x,v)}else T=cr._fromJSON(e,v);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new To(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new To(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Wb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nE(e))return"Blackberry";if(rE(e))return"Webos";if(Jb(e))return"Safari";if((e.includes("chrome/")||Zb(e))&&!e.includes("edge/"))return"Chrome";if(tE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function Wb(r=an()){return/firefox\//i.test(r)}function Jb(r=an()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zb(r=an()){return/crios\//i.test(r)}function eE(r=an()){return/iemobile/i.test(r)}function tE(r=an()){return/android/i.test(r)}function nE(r=an()){return/blackberry/i.test(r)}function rE(r=an()){return/webos/i.test(r)}function Kp(r=an()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function oC(r=an()){return Kp(r)&&!!window.navigator?.standalone}function lC(){return Ex()&&document.documentMode===10}function iE(r=an()){return Kp(r)||tE(r)||rE(r)||nE(r)||/windows phone/i.test(r)||eE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(r,e=[]){let n;switch(r){case"Browser":n=q0(an());break;case"Worker":n=`${q0(an())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ta}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(r,e={}){return Si(r,"GET","/v2/passwordPolicy",As(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=6;class fC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??hC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H0(this),this.idTokenSubscription=new H0(this),this.beforeStateQueue=new uC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await To.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zh(this,{idToken:e}),s=await cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(bn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(gi(this));const n=e?ut(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cC(this),n=new fC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Su("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await aC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mi(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&BR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ss(r){return ut(r)}class H0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ix(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mC(r){of=r}function aE(r){return of.loadJS(r)}function pC(){return of.recaptchaEnterpriseScript}function gC(){return of.gapiScript}function yC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class _C{constructor(){this.enterprise=new vC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class vC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const bC="recaptcha-enterprise",oE="NO_RECAPTCHA";class EC{constructor(e){this.type=bC,this.auth=Ss(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{JR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new WR(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;j0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(oE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _C().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&j0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=pC();p.length!==0&&(p+=m),aE(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function F0(r,e,n,s=!1,o=!1){const u=new EC(r);let h;if(o)h=oE;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function up(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await F0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await F0(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(r,e){const n=af(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ma(u,e??{}))return o;$n(o,"already-initialized")}return n.initialize({options:e})}function wC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(mi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function AC(r,e,n){const s=Ss(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=lE(e),{host:h,port:m}=SC(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(ma(g,s.config.emulator)&&ma(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,ws(h)?(Lp(`${u}//${h}${p}`),jp("Auth",!0)):xC()}function lE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function SC(r){const e=lE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:G0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:G0(h)}}}function G0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function xC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,n){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}async function RC(r,e){return Si(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(r,e){return Cu(r,"POST","/v1/accounts:signInWithPassword",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(r,e){return Cu(r,"POST","/v1/accounts:signInWithEmailLink",As(r,e))}async function NC(r,e){return Cu(r,"POST","/v1/accounts:signInWithEmailLink",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends Qp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new du(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new du(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return up(e,n,"signInWithPassword",CC);case"emailLink":return IC(e,{email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return up(e,s,"signUpPassword",RC);case"emailLink":return NC(e,{idToken:n,email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(r,e){return Cu(r,"POST","/v1/accounts:signInWithIdp",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="http://localhost";class ga extends Qp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ga(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,wo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}buildRequest(){const e={requestUri:DC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MC(r){const e=Wl(Jl(r)).link,n=e?Wl(Jl(e)).deep_link_id:null,s=Wl(Jl(r)).deep_link_id;return(s?Wl(Jl(s)).link:null)||s||n||e||r}class Yp{constructor(e){const n=Wl(Jl(e)),s=n.apiKey??null,o=n.oobCode??null,u=OC(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=MC(e);try{return new Yp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.providerId=ko.PROVIDER_ID}static credential(e,n){return du._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Yp.parseLink(n);return ve(s,"argument-error"),du._fromEmailAndCode(e,s.code,s.tenantId)}}ko.PROVIDER_ID="password";ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends Xp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Iu{constructor(){super("facebook.com")}static credential(e){return ga._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com";as.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ga._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return fi.credential(n,s)}catch{return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com";fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Iu{constructor(){super("github.com")}static credential(e){return ga._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.GITHUB_SIGN_IN_METHOD="github.com";os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Iu{constructor(){super("twitter.com")}static credential(e,n){return ga._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ls.credential(n,s)}catch{return null}}}ls.TWITTER_SIGN_IN_METHOD="twitter.com";ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(r,e){return Cu(r,"POST","/v1/accounts:signUp",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await cr._fromIdTokenResponse(e,s,o),h=K0(s);return new ya({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=K0(s);return new ya({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function K0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends Kr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new qh(e,n,s,o)}}function uE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(r,u,e,s):u})}async function PC(r,e,n=!1){const s=await Ro(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ya._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(r,e,n=!1){const{auth:s}=r;if(bn(s.app))return Promise.reject(gi(s));const o="reauthenticate";try{const u=await Ro(r,uE(s,o,e,r),n);ve(u.idToken,s,"internal-error");const h=Gp(u.idToken);ve(h,s,"internal-error");const{sub:m}=h;return ve(r.uid===m,s,"user-mismatch"),ya._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&$n(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cE(r,e,n=!1){if(bn(r.app))return Promise.reject(gi(r));const s="signIn",o=await uE(r,s,e),u=await ya._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function LC(r,e){return cE(Ss(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hE(r){const e=Ss(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function jC(r,e,n){if(bn(r.app))return Promise.reject(gi(r));const s=Ss(r),h=await up(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&hE(r),p}),m=await ya._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function UC(r,e,n){return bn(r.app)?Promise.reject(gi(r)):LC(ut(r),ko.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&hE(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zC(r,e){return Si(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BC(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=ut(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},h=await Ro(s,zC(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function qC(r,e,n,s){return ut(r).onIdTokenChanged(e,n,s)}function HC(r,e,n){return ut(r).beforeAuthStateChanged(e,n)}function FC(r,e,n,s){return ut(r).onAuthStateChanged(e,n,s)}function fE(r){return ut(r).signOut()}const Hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hh,"1"),this.storage.removeItem(Hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=1e3,KC=10;class mE extends dE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);lC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,KC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},GC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mE.type="LOCAL";const QC=mE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE extends dE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pE.type="SESSION";const gE=pE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new lf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await YC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=$p("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const x=T;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return window}function $C(r){jr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(){return typeof jr().WorkerGlobalScope<"u"&&typeof jr().importScripts=="function"}async function WC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JC(){return navigator?.serviceWorker?.controller||null}function ZC(){return yE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="firebaseLocalStorageDb",e4=1,Fh="firebaseLocalStorage",vE="fbase_key";class Nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uf(r,e){return r.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function t4(){const r=indexedDB.deleteDatabase(_E);return new Nu(r).toPromise()}function cp(){const r=indexedDB.open(_E,e4);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Fh,{keyPath:vE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Fh)?e(s):(s.close(),await t4(),e(await cp()))})})}async function Q0(r,e,n){const s=uf(r,!0).put({[vE]:e,value:n});return new Nu(s).toPromise()}async function n4(r,e){const n=uf(r,!1).get(e),s=await new Nu(n).toPromise();return s===void 0?null:s.value}function Y0(r,e){const n=uf(r,!0).delete(e);return new Nu(n).toPromise()}const r4=800,i4=3;class bE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>i4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lf._getInstance(ZC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await WC(),!this.activeServiceWorker)return;this.sender=new XC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cp();return await Q0(e,Hh,"1"),await Y0(e,Hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Q0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>n4(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Y0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=uf(o,!1).getAll();return new Nu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),r4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bE.type="LOCAL";const s4=bE;new Ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(r,e){return e?mi(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp extends Qp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function a4(r){return cE(r.auth,new Wp(r),r.bypassAuthState)}function o4(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),kC(n,new Wp(r),r.bypassAuthState)}async function l4(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),PC(n,new Wp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a4;case"linkViaPopup":case"linkViaRedirect":return l4;case"reauthViaPopup":case"reauthViaRedirect":return o4;default:$n(this.auth,"internal-error")}}resolve(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=new Ru(2e3,1e4);async function c4(r,e,n){if(bn(r.app))return Promise.reject(hr(r,"operation-not-supported-in-this-environment"));const s=Ss(r);qR(r,e,Xp);const o=EE(s,n);return new ua(s,"signInViaPopup",e,o).executeNotNull()}class ua extends TE{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ua.currentPopupAction&&ua.currentPopupAction.cancel(),ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){bi(this.filter.length===1,"Popup operations only handle one event");const e=$p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u4.get())};e()}}ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="pendingRedirect",xh=new Map;class f4 extends TE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=xh.get(this.auth._key());if(!e){try{const s=await d4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}xh.set(this.auth._key(),e)}return this.bypassAuthState||xh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d4(r,e){const n=g4(e),s=p4(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function m4(r,e){xh.set(r._key(),e)}function p4(r){return mi(r._redirectPersistence)}function g4(r){return Sh(h4,r.config.apiKey,r.name)}async function y4(r,e,n=!1){if(bn(r.app))return Promise.reject(gi(r));const s=Ss(r),o=EE(s,e),h=await new f4(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=600*1e3;class v4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!wE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(hr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_4&&this.cachedEventUids.clear(),this.cachedEventUids.has(X0(e))}saveEventToCache(e){this.cachedEventUids.add(X0(e)),this.lastProcessedEventTime=Date.now()}}function X0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function wE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function b4(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(r,e={}){return Si(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,w4=/^https?/;async function A4(r){if(r.config.emulator)return;const{authorizedDomains:e}=await E4(r);for(const n of e)try{if(S4(n))return}catch{}$n(r,"unauthorized-domain")}function S4(r){const e=op(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!w4.test(n))return!1;if(T4.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=new Ru(3e4,6e4);function $0(){const r=jr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function R4(r){return new Promise((e,n)=>{function s(){$0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$0(),n(hr(r,"network-request-failed"))},timeout:x4.get()})}if(jr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(jr().gapi?.load)s();else{const o=yC("iframefcb");return jr()[o]=()=>{gapi.load?s():n(hr(r,"network-request-failed"))},aE(`${gC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function C4(r){return Rh=Rh||R4(r),Rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=new Ru(5e3,15e3),N4="__/auth/iframe",D4="emulator/auth/iframe",O4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V4(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Fp(e,D4):`https://${r.config.authDomain}/${N4}`,s={apiKey:e.apiKey,appName:r.name,v:Ta},o=M4.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${xu(s).slice(1)}`}async function P4(r){const e=await C4(r),n=jr().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:V4(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O4,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=hr(r,"network-request-failed"),m=jr().setTimeout(()=>{u(h)},I4.get());function p(){jr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},L4=500,j4=600,U4="_blank",z4="http://localhost";class W0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function B4(r,e,n,s=L4,o=j4){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...k4,width:s.toString(),height:o.toString(),top:u,left:h},g=an().toLowerCase();n&&(m=Zb(g)?U4:n),Wb(g)&&(e=e||z4,p.scrollbars="yes");const v=Object.entries(p).reduce((x,[O,F])=>`${x}${O}=${F},`,"");if(oC(g)&&m!=="_self")return q4(e||"",m),new W0(null);const T=window.open(e||"",m,v);ve(T,r,"popup-blocked");try{T.focus()}catch{}return new W0(T)}function q4(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4="__/auth/handler",F4="emulator/auth/handler",G4=encodeURIComponent("fac");async function J0(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ta,eventId:o};if(e instanceof Xp){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",Cx(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))h[v]=T}if(e instanceof Iu){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(h.scopes=v.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await r._getAppCheckToken(),g=p?`#${G4}=${encodeURIComponent(p)}`:"";return`${K4(r)}?${xu(m).slice(1)}${g}`}function K4({config:r}){return r.emulator?Fp(r,F4):`https://${r.authDomain}/${H4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="webStorageSupport";class Q4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gE,this._completeRedirectFn=y4,this._overrideRedirectResult=m4}async _openPopup(e,n,s,o){bi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await J0(e,n,s,op(),o);return B4(e,u,$p())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await J0(e,n,s,op(),o);return $C(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(bi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await P4(e),s=new v4(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gm,{type:Gm},o=>{const u=o?.[0]?.[Gm];u!==void 0&&n(!!u),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=A4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iE()||Jb()||Kp()}}const Y4=Q4;var Z0="@firebase/auth",e1="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W4(r){pa(new gs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sE(r)},g=new dC(s,o,u,p);return wC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),pa(new gs("auth-internal",e=>{const n=Ss(e.getProvider("auth").getImmediate());return(s=>new X4(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(Z0,e1,$4(r)),Lr(Z0,e1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=300,Z4=Lb("authIdTokenMaxAge")||J4;let t1=null;const eI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Z4)return;const o=n?.token;t1!==o&&(t1=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function AE(r=Bp()){const e=af(r,"auth");if(e.isInitialized())return e.getImmediate();const n=TC(r,{popupRedirectResolver:Y4,persistence:[s4,QC,gE]}),s=Lb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=eI(u.toString());HC(n,h,()=>h(n.currentUser)),qC(n,m=>h(m))}}const o=Vb("auth");return o&&AC(n,`http://${o}`),n}function tI(){return document.getElementsByTagName("head")?.[0]??document}mC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=hr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",tI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W4("Browser");var nI="firebase",rI="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(nI,rI,"app");var n1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ms,SE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,S){function C(){}C.prototype=S.prototype,R.F=S.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(D,M,j){for(var I=Array(arguments.length-2),st=2;st<arguments.length;st++)I[st-2]=arguments[st];return S.prototype[M].apply(D,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,S,C){C||(C=0);const D=Array(16);if(typeof S=="string")for(var M=0;M<16;++M)D[M]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(M=0;M<16;++M)D[M]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=R.g[0],C=R.g[1],M=R.g[2];let j=R.g[3],I;I=S+(j^C&(M^j))+D[0]+3614090360&4294967295,S=C+(I<<7&4294967295|I>>>25),I=j+(M^S&(C^M))+D[1]+3905402710&4294967295,j=S+(I<<12&4294967295|I>>>20),I=M+(C^j&(S^C))+D[2]+606105819&4294967295,M=j+(I<<17&4294967295|I>>>15),I=C+(S^M&(j^S))+D[3]+3250441966&4294967295,C=M+(I<<22&4294967295|I>>>10),I=S+(j^C&(M^j))+D[4]+4118548399&4294967295,S=C+(I<<7&4294967295|I>>>25),I=j+(M^S&(C^M))+D[5]+1200080426&4294967295,j=S+(I<<12&4294967295|I>>>20),I=M+(C^j&(S^C))+D[6]+2821735955&4294967295,M=j+(I<<17&4294967295|I>>>15),I=C+(S^M&(j^S))+D[7]+4249261313&4294967295,C=M+(I<<22&4294967295|I>>>10),I=S+(j^C&(M^j))+D[8]+1770035416&4294967295,S=C+(I<<7&4294967295|I>>>25),I=j+(M^S&(C^M))+D[9]+2336552879&4294967295,j=S+(I<<12&4294967295|I>>>20),I=M+(C^j&(S^C))+D[10]+4294925233&4294967295,M=j+(I<<17&4294967295|I>>>15),I=C+(S^M&(j^S))+D[11]+2304563134&4294967295,C=M+(I<<22&4294967295|I>>>10),I=S+(j^C&(M^j))+D[12]+1804603682&4294967295,S=C+(I<<7&4294967295|I>>>25),I=j+(M^S&(C^M))+D[13]+4254626195&4294967295,j=S+(I<<12&4294967295|I>>>20),I=M+(C^j&(S^C))+D[14]+2792965006&4294967295,M=j+(I<<17&4294967295|I>>>15),I=C+(S^M&(j^S))+D[15]+1236535329&4294967295,C=M+(I<<22&4294967295|I>>>10),I=S+(M^j&(C^M))+D[1]+4129170786&4294967295,S=C+(I<<5&4294967295|I>>>27),I=j+(C^M&(S^C))+D[6]+3225465664&4294967295,j=S+(I<<9&4294967295|I>>>23),I=M+(S^C&(j^S))+D[11]+643717713&4294967295,M=j+(I<<14&4294967295|I>>>18),I=C+(j^S&(M^j))+D[0]+3921069994&4294967295,C=M+(I<<20&4294967295|I>>>12),I=S+(M^j&(C^M))+D[5]+3593408605&4294967295,S=C+(I<<5&4294967295|I>>>27),I=j+(C^M&(S^C))+D[10]+38016083&4294967295,j=S+(I<<9&4294967295|I>>>23),I=M+(S^C&(j^S))+D[15]+3634488961&4294967295,M=j+(I<<14&4294967295|I>>>18),I=C+(j^S&(M^j))+D[4]+3889429448&4294967295,C=M+(I<<20&4294967295|I>>>12),I=S+(M^j&(C^M))+D[9]+568446438&4294967295,S=C+(I<<5&4294967295|I>>>27),I=j+(C^M&(S^C))+D[14]+3275163606&4294967295,j=S+(I<<9&4294967295|I>>>23),I=M+(S^C&(j^S))+D[3]+4107603335&4294967295,M=j+(I<<14&4294967295|I>>>18),I=C+(j^S&(M^j))+D[8]+1163531501&4294967295,C=M+(I<<20&4294967295|I>>>12),I=S+(M^j&(C^M))+D[13]+2850285829&4294967295,S=C+(I<<5&4294967295|I>>>27),I=j+(C^M&(S^C))+D[2]+4243563512&4294967295,j=S+(I<<9&4294967295|I>>>23),I=M+(S^C&(j^S))+D[7]+1735328473&4294967295,M=j+(I<<14&4294967295|I>>>18),I=C+(j^S&(M^j))+D[12]+2368359562&4294967295,C=M+(I<<20&4294967295|I>>>12),I=S+(C^M^j)+D[5]+4294588738&4294967295,S=C+(I<<4&4294967295|I>>>28),I=j+(S^C^M)+D[8]+2272392833&4294967295,j=S+(I<<11&4294967295|I>>>21),I=M+(j^S^C)+D[11]+1839030562&4294967295,M=j+(I<<16&4294967295|I>>>16),I=C+(M^j^S)+D[14]+4259657740&4294967295,C=M+(I<<23&4294967295|I>>>9),I=S+(C^M^j)+D[1]+2763975236&4294967295,S=C+(I<<4&4294967295|I>>>28),I=j+(S^C^M)+D[4]+1272893353&4294967295,j=S+(I<<11&4294967295|I>>>21),I=M+(j^S^C)+D[7]+4139469664&4294967295,M=j+(I<<16&4294967295|I>>>16),I=C+(M^j^S)+D[10]+3200236656&4294967295,C=M+(I<<23&4294967295|I>>>9),I=S+(C^M^j)+D[13]+681279174&4294967295,S=C+(I<<4&4294967295|I>>>28),I=j+(S^C^M)+D[0]+3936430074&4294967295,j=S+(I<<11&4294967295|I>>>21),I=M+(j^S^C)+D[3]+3572445317&4294967295,M=j+(I<<16&4294967295|I>>>16),I=C+(M^j^S)+D[6]+76029189&4294967295,C=M+(I<<23&4294967295|I>>>9),I=S+(C^M^j)+D[9]+3654602809&4294967295,S=C+(I<<4&4294967295|I>>>28),I=j+(S^C^M)+D[12]+3873151461&4294967295,j=S+(I<<11&4294967295|I>>>21),I=M+(j^S^C)+D[15]+530742520&4294967295,M=j+(I<<16&4294967295|I>>>16),I=C+(M^j^S)+D[2]+3299628645&4294967295,C=M+(I<<23&4294967295|I>>>9),I=S+(M^(C|~j))+D[0]+4096336452&4294967295,S=C+(I<<6&4294967295|I>>>26),I=j+(C^(S|~M))+D[7]+1126891415&4294967295,j=S+(I<<10&4294967295|I>>>22),I=M+(S^(j|~C))+D[14]+2878612391&4294967295,M=j+(I<<15&4294967295|I>>>17),I=C+(j^(M|~S))+D[5]+4237533241&4294967295,C=M+(I<<21&4294967295|I>>>11),I=S+(M^(C|~j))+D[12]+1700485571&4294967295,S=C+(I<<6&4294967295|I>>>26),I=j+(C^(S|~M))+D[3]+2399980690&4294967295,j=S+(I<<10&4294967295|I>>>22),I=M+(S^(j|~C))+D[10]+4293915773&4294967295,M=j+(I<<15&4294967295|I>>>17),I=C+(j^(M|~S))+D[1]+2240044497&4294967295,C=M+(I<<21&4294967295|I>>>11),I=S+(M^(C|~j))+D[8]+1873313359&4294967295,S=C+(I<<6&4294967295|I>>>26),I=j+(C^(S|~M))+D[15]+4264355552&4294967295,j=S+(I<<10&4294967295|I>>>22),I=M+(S^(j|~C))+D[6]+2734768916&4294967295,M=j+(I<<15&4294967295|I>>>17),I=C+(j^(M|~S))+D[13]+1309151649&4294967295,C=M+(I<<21&4294967295|I>>>11),I=S+(M^(C|~j))+D[4]+4149444226&4294967295,S=C+(I<<6&4294967295|I>>>26),I=j+(C^(S|~M))+D[11]+3174756917&4294967295,j=S+(I<<10&4294967295|I>>>22),I=M+(S^(j|~C))+D[2]+718787259&4294967295,M=j+(I<<15&4294967295|I>>>17),I=C+(j^(M|~S))+D[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+j&4294967295}s.prototype.v=function(R,S){S===void 0&&(S=R.length);const C=S-this.blockSize,D=this.C;let M=this.h,j=0;for(;j<S;){if(M==0)for(;j<=C;)o(this,R,j),j+=this.blockSize;if(typeof R=="string"){for(;j<S;)if(D[M++]=R.charCodeAt(j++),M==this.blockSize){o(this,D),M=0;break}}else for(;j<S;)if(D[M++]=R[j++],M==this.blockSize){o(this,D),M=0;break}}this.h=M,this.o+=S},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;S=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=S&255,S/=256;for(this.v(R),R=Array(16),S=0,C=0;C<4;++C)for(let D=0;D<32;D+=8)R[S++]=this.g[C]>>>D&255;return R};function u(R,S){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=S(R)}function h(R,S){this.h=S;const C=[];let D=!0;for(let M=R.length-1;M>=0;M--){const j=R[M]|0;D&&j==S||(C[M]=j,D=!1)}this.g=C}var m={};function p(R){return-128<=R&&R<128?u(R,function(S){return new h([S|0],S<0?-1:0)}):new h([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return B(g(-R));const S=[];let C=1;for(let D=0;R>=C;D++)S[D]=R/C|0,C*=4294967296;return new h(S,0)}function v(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return B(v(R.substring(1),S));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(S,8));let D=T;for(let j=0;j<R.length;j+=8){var M=Math.min(8,R.length-j);const I=parseInt(R.substring(j,j+M),S);M<8?(M=g(Math.pow(S,M)),D=D.j(M).add(g(I))):(D=D.j(C),D=D.add(g(I)))}return D}var T=p(0),x=p(1),O=p(16777216);r=h.prototype,r.m=function(){if(Y(this))return-B(this).m();let R=0,S=1;for(let C=0;C<this.g.length;C++){const D=this.i(C);R+=(D>=0?D:4294967296+D)*S,S*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(F(this))return"0";if(Y(this))return"-"+B(this).toString(R);const S=g(Math.pow(R,6));var C=this;let D="";for(;;){const M=ie(C,S).g;C=$(C,M.j(S));let j=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=M,F(C))return j+D;for(;j.length<6;)j="0"+j;D=j+D}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function F(R){if(R.h!=0)return!1;for(let S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function Y(R){return R.h==-1}r.l=function(R){return R=$(this,R),Y(R)?-1:F(R)?0:1};function B(R){const S=R.g.length,C=[];for(let D=0;D<S;D++)C[D]=~R.g[D];return new h(C,~R.h).add(x)}r.abs=function(){return Y(this)?B(this):this},r.add=function(R){const S=Math.max(this.g.length,R.g.length),C=[];let D=0;for(let M=0;M<=S;M++){let j=D+(this.i(M)&65535)+(R.i(M)&65535),I=(j>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);D=I>>>16,j&=65535,I&=65535,C[M]=I<<16|j}return new h(C,C[C.length-1]&-2147483648?-1:0)};function $(R,S){return R.add(B(S))}r.j=function(R){if(F(this)||F(R))return T;if(Y(this))return Y(R)?B(this).j(B(R)):B(B(this).j(R));if(Y(R))return B(this.j(B(R)));if(this.l(O)<0&&R.l(O)<0)return g(this.m()*R.m());const S=this.g.length+R.g.length,C=[];for(var D=0;D<2*S;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(let M=0;M<R.g.length;M++){const j=this.i(D)>>>16,I=this.i(D)&65535,st=R.i(M)>>>16,Vt=R.i(M)&65535;C[2*D+2*M]+=I*Vt,U(C,2*D+2*M),C[2*D+2*M+1]+=j*Vt,U(C,2*D+2*M+1),C[2*D+2*M+1]+=I*st,U(C,2*D+2*M+1),C[2*D+2*M+2]+=j*st,U(C,2*D+2*M+2)}for(R=0;R<S;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=S;R<2*S;R++)C[R]=0;return new h(C,0)};function U(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function q(R,S){this.g=R,this.h=S}function ie(R,S){if(F(S))throw Error("division by zero");if(F(R))return new q(T,T);if(Y(R))return S=ie(B(R),S),new q(B(S.g),B(S.h));if(Y(S))return S=ie(R,B(S)),new q(B(S.g),S.h);if(R.g.length>30){if(Y(R)||Y(S))throw Error("slowDivide_ only works with positive integers.");for(var C=x,D=S;D.l(R)<=0;)C=le(C),D=le(D);var M=ce(C,1),j=ce(D,1);for(D=ce(D,2),C=ce(C,2);!F(D);){var I=j.add(D);I.l(R)<=0&&(M=M.add(C),j=I),D=ce(D,1),C=ce(C,1)}return S=$(R,M.j(S)),new q(M,S)}for(M=T;R.l(S)>=0;){for(C=Math.max(1,Math.floor(R.m()/S.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),j=g(C),I=j.j(S);Y(I)||I.l(R)>0;)C-=D,j=g(C),I=j.j(S);F(j)&&(j=x),M=M.add(j),R=$(R,I)}return new q(M,R)}r.B=function(R){return ie(this,R).h},r.and=function(R){const S=Math.max(this.g.length,R.g.length),C=[];for(let D=0;D<S;D++)C[D]=this.i(D)&R.i(D);return new h(C,this.h&R.h)},r.or=function(R){const S=Math.max(this.g.length,R.g.length),C=[];for(let D=0;D<S;D++)C[D]=this.i(D)|R.i(D);return new h(C,this.h|R.h)},r.xor=function(R){const S=Math.max(this.g.length,R.g.length),C=[];for(let D=0;D<S;D++)C[D]=this.i(D)^R.i(D);return new h(C,this.h^R.h)};function le(R){const S=R.g.length+1,C=[];for(let D=0;D<S;D++)C[D]=R.i(D)<<1|R.i(D-1)>>>31;return new h(C,R.h)}function ce(R,S){const C=S>>5;S%=32;const D=R.g.length-C,M=[];for(let j=0;j<D;j++)M[j]=S>0?R.i(j+C)>>>S|R.i(j+C+1)<<32-S:R.i(j+C);return new h(M,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,SE=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,ms=h}).apply(typeof n1<"u"?n1:typeof self<"u"?self:typeof window<"u"?window:{});var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xE,Zl,RE,Ch,hp,CE,IE,NE;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ph=="object"&&ph];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in E))break e;E=E[z]}c=c[c.length-1],A=E[c],y=y(A),y!=A&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,E){return c.call.apply(c.bind,arguments)}function g(c,y,E){return g=p,g.apply(null,arguments)}function v(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(A,z,Q){for(var se=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)se[Se-2]=arguments[Se];return y.prototype[z].apply(A,se)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function O(c){const y=c.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=c[A];return E}return[]}function F(c,y){for(let A=1;A<arguments.length;A++){const z=arguments[A];var E=typeof z;if(E=E!="object"?E:z?Array.isArray(z)?"array":E:"null",E=="array"||E=="object"&&typeof z.length=="number"){E=c.length||0;const Q=z.length||0;c.length=E+Q;for(let se=0;se<Q;se++)c[E+se]=z[se]}else c.push(z)}}class Y{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(c){h.setTimeout(()=>{throw c},0)}function $(){var c=R;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class U{constructor(){this.h=this.g=null}add(y,E){const A=q.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var q=new Y(()=>new ie,c=>c.reset());class ie{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let le,ce=!1,R=new U,S=()=>{const c=Promise.resolve(void 0);le=()=>{c.then(C)}};function C(){for(var c;c=$();){try{c.h.call(c.g)}catch(E){B(E)}var y=q;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ce=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function st(c,y){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(st,M),st.prototype.init=function(c,y){const E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Vt="closure_listenable_"+(Math.random()*1e6|0),J=0;function ae(c,y,E,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=z,this.key=++J,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,y,E){for(const A in c)y.call(E,c[A],A,c)}function Ke(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function P(c){const y={};for(const E in c)y[E]=c[E];return y}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,y){let E,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(E in A)c[E]=A[E];for(let Q=0;Q<ne.length;Q++)E=ne[Q],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function fe(c){this.src=c,this.g={},this.h=0}fe.prototype.add=function(c,y,E,A,z){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const se=Re(c,y,A,z);return se>-1?(y=c[se],E||(y.fa=!1)):(y=new ae(y,this.src,Q,!!A,z),y.fa=E,c.push(y)),y};function Ee(c,y){const E=y.type;if(E in c.g){var A=c.g[E],z=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=z>=0)&&Array.prototype.splice.call(A,z,1),Q&&(ye(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Re(c,y,E,A){for(let z=0;z<c.length;++z){const Q=c[z];if(!Q.da&&Q.listener==y&&Q.capture==!!E&&Q.ha==A)return z}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Pt={};function at(c,y,E,A,z){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)at(c,y[Q],E,A,z);return null}return E=Fo(E),c&&c[Vt]?c.J(y,E,m(A)?!!A.capture:!1,z):Ns(c,y,E,!1,A,z)}function Ns(c,y,E,A,z,Q){if(!y)throw Error("Invalid event type");const se=m(z)?!!z.capture:!!z;let Se=Ds(c);if(Se||(c[Le]=Se=new fe(c)),E=Se.add(y,E,A,se,Q),E.proxy)return E;if(A=Sa(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)j||(z=se),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent(dr(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Sa(){function c(E){return y.call(c.src,c.listener,E)}const y=qo;return c}function xa(c,y,E,A,z){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)xa(c,y[Q],E,A,z);else A=m(A)?!!A.capture:!!A,E=Fo(E),c&&c[Vt]?(c=c.i,Q=String(y).toString(),Q in c.g&&(y=c.g[Q],E=Re(y,E,A,z),E>-1&&(ye(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[Q],c.h--)))):c&&(c=Ds(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Re(y,E,A,z)),(E=c>-1?y[c]:null)&&Ra(E))}function Ra(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Vt])Ee(y.i,c);else{var E=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(E,A,c.capture):y.detachEvent?y.detachEvent(dr(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=Ds(y))?(Ee(E,c),E.h==0&&(E.src=null,y[Le]=null)):ye(c)}}}function dr(c){return c in Pt?Pt[c]:Pt[c]="on"+c}function qo(c,y){if(c.da)c=!0;else{y=new st(y,this);const E=c.listener,A=c.ha||c.src;c.fa&&Ra(c),c=E.call(A,y)}return c}function Ds(c){return c=c[Le],c instanceof fe?c:null}var Ho="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fo(c){return typeof c=="function"?c:(c[Ho]||(c[Ho]=function(y){return c.handleEvent(y)}),c[Ho])}function Tt(){D.call(this),this.i=new fe(this),this.M=this,this.G=null}T(Tt,D),Tt.prototype[Vt]=!0,Tt.prototype.removeEventListener=function(c,y,E,A){xa(this,c,y,E,A)};function kt(c,y){var E,A=c.G;if(A)for(E=[];A;A=A.G)E.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new M(y,c);else if(y instanceof M)y.target=y.target||c;else{var z=y;y=new M(A,c),oe(y,z)}z=!0;let Q,se;if(E)for(se=E.length-1;se>=0;se--)Q=y.g=E[se],z=xi(Q,A,!0,y)&&z;if(Q=y.g=c,z=xi(Q,A,!0,y)&&z,z=xi(Q,A,!1,y)&&z,E)for(se=0;se<E.length;se++)Q=y.g=E[se],z=xi(Q,A,!1,y)&&z}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let A=0;A<E.length;A++)ye(E[A]);delete c.g[y],c.h--}}this.G=null},Tt.prototype.J=function(c,y,E,A){return this.i.add(String(c),y,!1,E,A)},Tt.prototype.K=function(c,y,E,A){return this.i.add(String(c),y,!0,E,A)};function xi(c,y,E,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let Q=0;Q<y.length;++Q){const se=y[Q];if(se&&!se.da&&se.capture==E){const Se=se.listener,_t=se.ha||se.src;se.fa&&Ee(c.i,se),z=Se.call(_t,A)!==!1&&z}}return z&&!A.defaultPrevented}function Mf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function ju(c){c.g=Mf(()=>{c.g=null,c.i&&(c.i=!1,ju(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class on extends D{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ju(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Os(c){D.call(this),this.h=c,this.g={}}T(Os,D);var Go=[];function Ko(c){Ue(c.g,function(y,E){this.g.hasOwnProperty(E)&&Ra(y)},c),c.g={}}Os.prototype.N=function(){Os.Z.N.call(this),Ko(this)},Os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ri=h.JSON.stringify,Vf=h.JSON.parse,Uu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function zu(){}function Bu(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){M.call(this,"d")}T(Ft,M);function Pn(){M.call(this,"c")}T(Pn,M);var yt={},qu=null;function Ca(){return qu=qu||new Tt}yt.Ia="serverreachability";function Hu(c){M.call(this,yt.Ia,c)}T(Hu,M);function mr(c){const y=Ca();kt(y,new Hu(y))}yt.STAT_EVENT="statevent";function Ms(c,y){M.call(this,yt.STAT_EVENT,c),this.stat=y}T(Ms,M);function wt(c){const y=Ca();kt(y,new Ms(y,c))}yt.Ja="timingevent";function pr(c,y){M.call(this,yt.Ja,c),this.size=y}T(pr,M);function gr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function Pf(c,y,E,A,z,Q){c.info(function(){if(c.g)if(Q){var se="",Se=Q.split("&");for(let qe=0;qe<Se.length;qe++){var _t=Se[qe].split("=");if(_t.length>1){const ot=_t[0];_t=_t[1];const Un=ot.split("_");se=Un.length>=2&&Un[1]=="type"?se+(ot+"="+_t+"&"):se+(ot+"=redacted&")}}}else se=null;else se=Q;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+E+`
`+se})}function Fu(c,y,E,A,z,Q,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+E+`
`+Q+" "+se})}function yr(c,y,E,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+kf(c,E)+(A?" "+A:"")})}function Vs(c,y){c.info(function(){return"TIMEOUT: "+y})}Jn.prototype.info=function(){};function kf(c,y){if(!c.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var E=Q[c];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let se=1;se<A.length;se++)A[se]=""}}}}return Ri(Q)}catch{return y}}var Ps={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yo;function ks(){}T(ks,zu),ks.prototype.g=function(){return new XMLHttpRequest},Yo=new ks;function Qr(c){return encodeURIComponent(String(c))}function Gu(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function Zn(c,y,E,A){this.j=c,this.i=y,this.l=E,this.S=A||1,this.V=new Os(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new er}function er(){this.i=null,this.g="",this.h=!1}var At={},Ut={};function _r(c,y,E){c.M=1,c.A=Ls(xt(y)),c.u=E,c.R=!0,Ia(c,null)}function Ia(c,y){c.F=Date.now(),vr(c),c.B=xt(c.A);var E=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Ma(E.i,"t",A),c.C=0,E=c.j.L,c.h=new er,c.g=ac(c.j,E?y:null,!c.u),c.P>0&&(c.O=new on(g(c.Y,c,c.g),c.P)),y=c.V,E=c.g,A=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Go[0]=z.toString()),z=Go);for(let Q=0;Q<z.length;Q++){const se=at(E,z[Q],A||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?P(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),mr(),Pf(c.i,c.v,c.B,c.l,c.S,c.u)}Zn.prototype.ba=function(c){c=c.target;const y=this.O;y&&rr(c)==3?y.j():this.Y(c)},Zn.prototype.Y=function(c){try{if(c==this.g)e:{const Se=rr(this.g),_t=this.g.ya(),qe=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Gt(this.g)))){this.K||Se!=4||_t==7||(_t==8||qe<=0?mr(3):mr(2)),br(this);var y=this.g.ca();this.X=y;var E=Lf(this);if(this.o=y==200,Fu(this.i,this.v,this.B,this.l,this.S,Se,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var Q=A;break t}}Q=null}if(c=Q)yr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Er(this,c);else{this.o=!1,this.m=3,wt(12),wn(this),kn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<E.length;)if(ot=Qu(this,E),ot==Ut){Se==4&&(this.m=4,wt(14),c=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==At){this.m=4,wt(15),yr(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else yr(this.i,this.l,ot,null),Er(this,ot);if(Ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||E.length!=0||this.h.h||(this.m=1,wt(16),c=!1),this.o=this.o&&c,!c)yr(this.i,this.l,E,"[Invalid Chunked Response]"),wn(this),kn(this);else if(E.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),ul(se),se.P=!0,wt(11))}}else yr(this.i,this.l,E,null),Er(this,E);Se==4&&wn(this),this.o&&!this.K&&(Se==4?nc(this.j,this):(this.o=!1,vr(this)))}else Xr(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),wn(this),kn(this)}}}catch{}finally{}};function Lf(c){if(!Ku(c))return c.g.la();const y=Gt(c.g);if(y==="")return"";let E="";const A=y.length,z=rr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return wn(c),kn(c),"";c.h.i=new h.TextDecoder}for(let Q=0;Q<A;Q++)c.h.h=!0,E+=c.h.i.decode(y[Q],{stream:!(z&&Q==A-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function Ku(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Qu(c,y){var E=c.C,A=y.indexOf(`
`,E);return A==-1?Ut:(E=Number(y.substring(E,A)),isNaN(E)?At:(A+=1,A+E>y.length?Ut:(y=y.slice(A,A+E),c.C=A+E,y)))}Zn.prototype.cancel=function(){this.K=!0,wn(this)};function vr(c){c.T=Date.now()+c.H,Na(c,c.H)}function Na(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=gr(g(c.aa,c),y)}function br(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Vs(this.i,this.B),this.M!=2&&(mr(),wt(17)),wn(this),this.m=2,kn(this)):Na(this,this.T-c)};function kn(c){c.j.I==0||c.K||nc(c.j,c)}function wn(c){br(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Ko(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Er(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||wr(E.h,c))){if(!c.L&&wr(E.h,c)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)ja(E),Pi(E);else break e;Fs(E),wt(18)}}else E.xa=z[1],0<E.xa-E.K&&z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=gr(g(E.Va,E),6e3));Tr(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ir(E,11)}else if((c.L||E.g==c)&&ja(E),!I(y))for(z=E.Ba.g.parse(y),y=0;y<z.length;y++){let qe=z[y];const ot=qe[0];if(!(ot<=E.K))if(E.K=ot,qe=qe[1],E.I==2)if(qe[0]=="c"){E.M=qe[1],E.ba=qe[2];const Un=qe[3];Un!=null&&(E.ka=Un,E.j.info("VER="+E.ka));const Nr=qe[4];Nr!=null&&(E.za=Nr,E.j.info("SVER="+E.za));const ir=qe[5];ir!=null&&typeof ir=="number"&&ir>0&&(A=1.5*ir,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const sr=c.g;if(sr){const Gs=sr.g?sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gs){var Q=A.h;Q.g||Gs.indexOf("spdy")==-1&&Gs.indexOf("quic")==-1&&Gs.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Wo(Q,Q.h),Q.h=null))}if(A.G){const Ua=sr.g?sr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ua&&(A.wa=Ua,Qe(A.J,A.G,Ua))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var se=c;if(A.na=sc(A,A.L?A.ba:null,A.W),se.L){Jo(A.h,se);var Se=se,_t=A.O;_t&&(Se.H=_t),Se.D&&(br(Se),vr(Se)),A.g=se}else ec(A);E.i.length>0&&Cr(E)}else qe[0]!="stop"&&qe[0]!="close"||Ir(E,7);else E.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ir(E,7):ol(E):qe[0]!="noop"&&E.l&&E.l.qa(qe),E.A=0)}}mr(4)}catch{}}var St=class{constructor(c,y){this.g=c,this.map=y}};function Xo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $o(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Tr(c){return c.h?1:c.g?c.g.size:0}function wr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Wo(c,y){c.g?c.g.add(y):c.h=y}function Jo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Xo.prototype.cancel=function(){if(this.i=Zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Zo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return O(c.i)}var Yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Da(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const A=c[E].indexOf("=");let z,Q=null;A>=0?(z=c[E].substring(0,A),Q=c[E].substring(A+1)):z=c[E],y(z,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function An(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof An?(this.l=c.l,zt(this,c.j),this.o=c.o,this.g=c.g,Ci(this,c.u),this.h=c.h,el(this,Ju(c.i)),this.m=c.m):c&&(y=String(c).match(Yu))?(this.l=!1,zt(this,y[1]||"",!0),this.o=Ar(y[2]||""),this.g=Ar(y[3]||"",!0),Ci(this,y[4]),this.h=Ar(y[5]||"",!0),el(this,y[6]||"",!0),this.m=Ar(y[7]||"")):(this.l=!1,this.i=new Ni(null,this.l))}An.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(js(y,Oa,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(js(y,Oa,!0),"@"),c.push(Qr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(js(E,E.charAt(0)=="/"?tl:Xu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",js(E,$u)),c.join("")},An.prototype.resolve=function(c){const y=xt(this);let E=!!c.j;E?zt(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var A=c.h;if(E)Ci(y,c.u);else if(E=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=y.h.lastIndexOf("/");z!=-1&&(A=y.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const Q=[];for(let se=0;se<z.length;){const Se=z[se++];Se=="."?A&&se==z.length&&Q.push(""):Se==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&se==z.length&&Q.push("")):(Q.push(Se),A=!0)}A=Q.join("/")}else A=z}return E?y.h=A:E=c.i.toString()!=="",E?el(y,Ju(c.i)):E=!!c.m,E&&(y.m=c.m),y};function xt(c){return new An(c)}function zt(c,y,E){c.j=E?Ar(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ci(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function el(c,y,E){y instanceof Ni?(c.i=y,Va(c.i,c.l)):(E||(y=js(y,Ii)),c.i=new Ni(y,c.l))}function Qe(c,y,E){c.i.set(y,E)}function Ls(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ar(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function js(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,hn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Oa=/[#\/\?@]/g,Xu=/[#\?:]/g,tl=/[#\?]/g,Ii=/[#\?@]/g,$u=/#/g;function Ni(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function fn(c){c.g||(c.g=new Map,c.h=0,c.i&&Da(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=Ni.prototype,r.add=function(c,y){fn(this),this.i=null,c=Di(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Wu(c,y){fn(c),y=Di(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function nl(c,y){return fn(c),y=Di(c,y),c.g.has(y)}r.forEach=function(c,y){fn(this),this.g.forEach(function(E,A){E.forEach(function(z){c.call(y,z,A,this)},this)},this)};function rl(c,y){fn(c);let E=[];if(typeof y=="string")nl(c,y)&&(E=E.concat(c.g.get(Di(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}r.set=function(c,y){return fn(this),this.i=null,c=Di(this,c),nl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=rl(this,c),c.length>0?String(c[0]):y):y};function Ma(c,y,E){Wu(c,y),E.length>0&&(c.i=null,c.g.set(Di(c,y),O(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const z=Qr(E);E=rl(this,E);for(let Q=0;Q<E.length;Q++){let se=z;E[Q]!==""&&(se+="="+Qr(E[Q])),c.push(se)}}return this.i=c.join("&")};function Ju(c){const y=new Ni;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Di(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Va(c,y){y&&!c.j&&(fn(c),c.i=null,c.g.forEach(function(E,A){const z=A.toLowerCase();A!=z&&(Wu(this,A),Ma(this,z,E))},c)),c.j=y}function tr(c,y){const E=new Jn;if(h.Image){const A=new Image;A.onload=v(Ln,E,"TestLoadImage: loaded",!0,y,A),A.onerror=v(Ln,E,"TestLoadImage: error",!1,y,A),A.onabort=v(Ln,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=v(Ln,E,"TestLoadImage: timeout",!1,y,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function il(c,y){const E=new Jn,A=new AbortController,z=setTimeout(()=>{A.abort(),Ln(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(z),Q.ok?Ln(E,"TestPingServer: ok",!0,y):Ln(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Ln(E,"TestPingServer: error",!1,y)})}function Ln(c,y,E,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(E)}catch{}}function Oi(){this.g=new Uu}function Sr(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Sr,zu),Sr.prototype.g=function(){return new Us(this.i,this.h)};function Us(c,y){Tt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Us,Tt),r=Us.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,nr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Mi(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,nr(this)),this.g&&(this.readyState=3,nr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Mi(this):nr(this),this.readyState==3&&Pa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Mi(this))},r.Na=function(c){this.g&&(this.response=c,Mi(this))},r.ga=function(){this.g&&Mi(this)};function Mi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,nr(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function nr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function jn(c){let y="";return Ue(c,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function zs(c,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=jn(E),typeof c=="string"?E!=null&&Qr(E):Qe(c,y,E))}function $e(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($e,Tt);var xr=/^https?$/i,sl=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yo.g(),this.g.onreadystatechange=x(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Bs(this,Q);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)E.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())E.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(sl,y,void 0)>=0)||A||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,se]of E)this.g.setRequestHeader(Q,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Bs(this,Q)}};function Bs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,al(c),Yr(c)}function al(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,kt(this,"complete"),kt(this,"abort"),Yr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yr(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?qs(this):this.Xa())},r.Xa=function(){qs(this)};function qs(c){if(c.h&&typeof u<"u"){if(c.v&&rr(c)==4)setTimeout(c.Ca.bind(c),0);else if(kt(c,"readystatechange"),rr(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=Q===0){let se=String(c.D).match(Yu)[1]||null;!se&&h.self&&h.self.location&&(se=h.self.location.protocol.slice(0,-1)),A=!xr.test(se?se.toLowerCase():"")}E=A}if(E)kt(c,"complete"),kt(c,"success");else{c.o=6;try{var z=rr(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",al(c)}}finally{Yr(c)}}}}function Yr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||kt(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function rr(c){return c.g?c.g.readyState:0}r.ca=function(){try{return rr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Vf(y)}};function Gt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Xr(c){const y={};c=(c.g&&rr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var E=Gu(c[A]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=y[z]||[];y[z]=Q,Q.push(E)}Ke(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rr(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Vi(c){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Rr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Rr("baseRetryDelayMs",5e3,c),this.Za=Rr("retryDelaySeedMs",1e4,c),this.Ta=Rr("forwardChannelMaxRetries",2,c),this.va=Rr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Xo(c&&c.concurrentRequestLimit),this.Ba=new Oi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Vi.prototype,r.ka=8,r.I=1,r.connect=function(c,y,E,A){wt(0),this.W=c,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=sc(this,null,this.W),Cr(this)};function ol(c){if(ka(c),c.I==3){var y=c.V++,E=xt(c.J);if(Qe(E,"SID",c.M),Qe(E,"RID",y),Qe(E,"TYPE","terminate"),Hs(c,E),y=new Zn(c,c.j,y),y.M=2,y.A=Ls(xt(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.A,E=!0),E||(y.g=ac(y.j,null),y.g.ea(y.A)),y.F=Date.now(),vr(y)}ic(c)}function Pi(c){c.g&&(ul(c),c.g.cancel(),c.g=null)}function ka(c){Pi(c),c.v&&(h.clearTimeout(c.v),c.v=null),ja(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Cr(c){if(!$o(c.h)&&!c.m){c.m=!0;var y=c.Ea;le||S(),ce||(le(),ce=!0),R.add(y,c),c.D=0}}function La(c,y){return Tr(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=gr(g(c.Ea,c,y),rc(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Zn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=P(Q),oe(Q,this.U)):Q=this.U),this.u!==null||this.R||(z.J=Q,Q=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Zu(this,z,y),E=xt(this.J),Qe(E,"RID",c),Qe(E,"CVER",22),this.G&&Qe(E,"X-HTTP-Session-Id",this.G),Hs(this,E),Q&&(this.R?y="headers="+Qr(jn(Q))+"&"+y:this.u&&zs(E,this.u,Q)),Wo(this.h,z),this.Ra&&Qe(E,"TYPE","init"),this.S?(Qe(E,"$req",y),Qe(E,"SID","null"),z.U=!0,_r(z,E,null)):_r(z,E,y),this.I=2}}else this.I==3&&(c?ll(this,c):this.i.length==0||$o(this.h)||ll(this))};function ll(c,y){var E;y?E=y.l:E=c.V++;const A=xt(c.J);Qe(A,"SID",c.M),Qe(A,"RID",E),Qe(A,"AID",c.K),Hs(c,A),c.u&&c.o&&zs(A,c.u,c.o),E=new Zn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Zu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Wo(c.h,E),_r(E,A,y)}function Hs(c,y){c.H&&Ue(c.H,function(E,A){Qe(y,A,E)}),c.l&&Ue({},function(E,A){Qe(y,A,E)})}function Zu(c,y,E){E=Math.min(c.i.length,E);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var z=c.i;let Se=-1;for(;;){const _t=["count="+E];Se==-1?E>0?(Se=z[0].g,_t.push("ofs="+Se)):Se=0:_t.push("ofs="+Se);let qe=!0;for(let ot=0;ot<E;ot++){var Q=z[ot].g;const Un=z[ot].map;if(Q-=Se,Q<0)Se=Math.max(0,z[ot].g-100),qe=!1;else try{Q="req"+Q+"_"||"";try{var se=Un instanceof Map?Un:Object.entries(Un);for(const[Nr,ir]of se){let sr=ir;m(ir)&&(sr=Ri(ir)),_t.push(Q+Nr+"="+encodeURIComponent(sr))}}catch(Nr){throw _t.push(Q+"type="+encodeURIComponent("_badmap")),Nr}}catch{A&&A(Un)}}if(qe){se=_t.join("&");break e}}se=void 0}return c=c.i.splice(0,E),y.G=c,se}function ec(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;le||S(),ce||(le(),ce=!0),R.add(y,c),c.A=0}}function Fs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=gr(g(c.Da,c),rc(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,tc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=gr(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Pi(this),tc(this))};function ul(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function tc(c){c.g=new Zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=xt(c.na);Qe(y,"RID","rpc"),Qe(y,"SID",c.M),Qe(y,"AID",c.K),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(y,"TO",c.ia),Qe(y,"TYPE","xmlhttp"),Hs(c,y),c.u&&c.o&&zs(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Ls(xt(y)),E.u=null,E.R=!0,Ia(E,c)}r.Va=function(){this.C!=null&&(this.C=null,Pi(this),Fs(this),wt(19))};function ja(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function nc(c,y){var E=null;if(c.g==y){ja(c),ul(c),c.g=null;var A=2}else if(wr(c.h,y))E=y.G,Jo(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;A=Ca(),kt(A,new pr(A,E)),Cr(c)}else ec(c);else if(z=y.m,z==3||z==0&&y.X>0||!(A==1&&La(c,y)||A==2&&Fs(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),z){case 1:Ir(c,5);break;case 4:Ir(c,10);break;case 3:Ir(c,6);break;default:Ir(c,2)}}}function rc(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function Ir(c,y){if(c.j.info("Error code "+y),y==2){var E=g(c.bb,c),A=c.Ua;const z=!A;A=new An(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||zt(A,"https"),Ls(A),z?tr(A.toString(),E):il(A.toString(),E)}else wt(2);c.I=0,c.l&&c.l.pa(y),ic(c),ka(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function ic(c){if(c.I=0,c.ja=[],c.l){const y=Zo(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ja,y),F(c.ja,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.oa()}}function sc(c,y,E){var A=E instanceof An?xt(E):new An(E);if(A.g!="")y&&(A.g=y+"."+A.g),Ci(A,A.u);else{var z=h.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const Q=new An(null);A&&zt(Q,A),y&&(Q.g=y),z&&Ci(Q,z),E&&(Q.h=E),A=Q}return E=c.G,y=c.wa,E&&y&&Qe(A,E,y),Qe(A,"VER",c.ka),Hs(c,A),A}function ac(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new $e(new Sr({ab:E})):new $e(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function oc(){}r=oc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ki(){}ki.prototype.g=function(c,y){return new ln(c,y)};function ln(c,y){Tt.call(this),this.g=new Vi(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new $r(this)}T(ln,Tt),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){ol(this.g)},ln.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=Ri(c),c=E);y.i.push(new St(y.Ya++,c)),y.I==3&&Cr(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,ln.Z.N.call(this)};function lc(c){Ft.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(lc,Ft);function uc(){Pn.call(this),this.status=1}T(uc,Pn);function $r(c){this.g=c}T($r,oc),$r.prototype.ra=function(){kt(this.g,"a")},$r.prototype.qa=function(c){kt(this.g,new lc(c))},$r.prototype.pa=function(c){kt(this.g,new uc)},$r.prototype.oa=function(){kt(this.g,"b")},ki.prototype.createWebChannel=ki.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,NE=function(){return new ki},IE=function(){return Ca()},CE=yt,hp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ps.NO_ERROR=0,Ps.TIMEOUT=8,Ps.HTTP_ERROR=6,Ch=Ps,Qo.COMPLETE="complete",RE=Qo,Bu.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Zl=Bu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,xE=$e}).apply(typeof ph<"u"?ph:typeof self<"u"?self:typeof window<"u"?window:{});const r1="@firebase/firestore",i1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new Up("@firebase/firestore");function yo(){return _a.logLevel}function he(r,...e){if(_a.logLevel<=Me.DEBUG){const n=e.map(Jp);_a.debug(`Firestore (${Lo}): ${r}`,...n)}}function Ei(r,...e){if(_a.logLevel<=Me.ERROR){const n=e.map(Jp);_a.error(`Firestore (${Lo}): ${r}`,...n)}}function Co(r,...e){if(_a.logLevel<=Me.WARN){const n=e.map(Jp);_a.warn(`Firestore (${Lo}): ${r}`,...n)}}function Jp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,DE(r,s,n)}function DE(r,e,n){let s=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ei(s),new Error(s)}function Ge(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||DE(e,o,s)}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(rn.UNAUTHENTICATED)))}shutdown(){}}class sI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class aI{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new yi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new yi)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new OE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class oI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new oI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class s1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new s1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new s1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=cI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function fp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Km(o)===Km(u)?Ve(o,u):Km(o)?1:-1}return Ve(r.length,e.length)}const hI=55296,fI=57343;function Km(r){const e=r.charCodeAt(0);return e>=hI&&e<=fI}function Io(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="__name__";class Pr{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Pr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Pr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Pr.isNumericId(e),o=Pr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Pr.extractNumericId(e).compare(Pr.extractNumericId(n)):fp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ms.fromString(e.substring(4,e.length-2))}}class tt extends Pr{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const dI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Pr{construct(e,n,s){return new Wt(e,n,s)}static isValidIdentifier(e){return dI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a1}static keyField(){return new Wt([a1])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ue(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(r,e,n){if(!n)throw new ue(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function mI(r,e,n,s){if(e===!0&&s===!0)throw new ue(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function o1(r){if(!ge.isDocumentKey(r))throw new ue(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function l1(r){if(ge.isDocumentKey(r))throw new ue(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function VE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function cf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be(12329,{type:typeof r})}function Tn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cf(r);throw new ue(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Du(r,e){if(!VE(r))throw new ue(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=-62135596800,c1=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*c1);return new nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<u1)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c1}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Du(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-u1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:Mt("string",nt._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new nt(0,0))}static max(){return new Te(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=-1;function pI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new nt(n+1,0):new nt(n,s));return new ys(o,ge.empty(),e)}function gI(r){return new ys(r.readTime,r.key,mu)}class ys{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ys(Te.min(),ge.empty(),mu)}static max(){return new ys(Te.max(),ge.empty(),mu)}}function yI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==_I)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,s)=>{n(e)}))}static reject(e){return new re(((n,s)=>{s(e)}))}static waitFor(e){return new re(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=re.resolve(!1);for(const s of e)n=n.next((o=>o?re.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new re(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((v=>{h[g]=v,++m,m===u&&s(h)}),(v=>o(v)))}}))}static doWhile(e,n){return new re(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function bI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg=-1;function ff(r){return r==null}function Gh(r){return r===0&&1/r==-1/0}function EI(r){return typeof r=="number"&&Number.isInteger(r)&&!Gh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="";function TI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=h1(e)),e=wI(r.get(n),e);return h1(e)}function wI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case PE:n+="";break;default:n+=u}}return n}function h1(r){return r+PE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function xs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function kE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gh(this.root,e,this.comparator,!0)}}class gh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new $t(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new d1(this.data.getIterator())}getIteratorFrom(e){return new d1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class d1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new jt(Wt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new LE("Invalid base64 string: "+u):u}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const AI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const n=AI.exec(r);if(Ge(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(r.seconds),nanos:Et(r.nanos)}}function Et(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function vs(r){return typeof r=="string"?Jt.fromBase64String(r):Jt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="server_timestamp",UE="__type__",zE="__previous_value__",BE="__local_write_time__";function tg(r){return(r?.mapValue?.fields||{})[UE]?.stringValue===jE}function df(r){const e=r.mapValue.fields[zE];return tg(e)?df(e):e}function pu(r){const e=_s(r.mapValue.fields[BE].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n,s,o,u,h,m,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Kh="(default)";class gu{constructor(e,n){this.projectId=e,this.database=n||Kh}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===Kh}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="__type__",xI="__max__",yh={mapValue:{}},HE="__vector__",Qh="value";function bs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?tg(r)?4:CI(r)?9007199254740991:RI(r)?10:11:be(28295,{value:r})}function Fr(r,e){if(r===e)return!0;const n=bs(r);if(n!==bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return pu(r).isEqual(pu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=_s(o.timestampValue),m=_s(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return vs(o.bytesValue).isEqual(vs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Et(o.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Et(o.integerValue)===Et(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Et(o.doubleValue),m=Et(u.doubleValue);return h===m?Gh(h)===Gh(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return Io(r.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(f1(h)!==f1(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Fr(h[p],m[p])))return!1;return!0})(r,e);default:return be(52216,{left:r})}}function yu(r,e){return(r.values||[]).find((n=>Fr(n,e)))!==void 0}function No(r,e){if(r===e)return 0;const n=bs(r),s=bs(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=Et(u.integerValue||u.doubleValue),p=Et(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return m1(r.timestampValue,e.timestampValue);case 4:return m1(pu(r),pu(e));case 5:return fp(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=vs(u),p=vs(h);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ve(m[g],p[g]);if(v!==0)return v}return Ve(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ve(Et(u.latitude),Et(h.latitude));return m!==0?m:Ve(Et(u.longitude),Et(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return p1(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Qh]?.arrayValue,v=p[Qh]?.arrayValue,T=Ve(g?.values?.length||0,v?.values?.length||0);return T!==0?T:p1(g,v)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===yh.mapValue&&h===yh.mapValue)return 0;if(u===yh.mapValue)return 1;if(h===yh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const x=fp(p[T],v[T]);if(x!==0)return x;const O=No(m[p[T]],g[v[T]]);if(O!==0)return O}return Ve(p.length,v.length)})(r.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function m1(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=_s(r),s=_s(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function p1(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=No(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function Do(r){return dp(r)}function dp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=_s(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return vs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ge.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=dp(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${dp(n.fields[h])}`;return o+"}"})(r.mapValue):be(61005,{value:r})}function Ih(r){switch(bs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=df(r);return e?16+Ih(e):16;case 5:return 2*r.stringValue.length;case 6:return vs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Ih(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return xs(s.fields,((u,h)=>{o+=u.length+Ih(h)})),o})(r.mapValue);default:throw be(13486,{value:r})}}function g1(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function mp(r){return!!r&&"integerValue"in r}function ng(r){return!!r&&"arrayValue"in r}function y1(r){return!!r&&"nullValue"in r}function _1(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Nh(r){return!!r&&"mapValue"in r}function RI(r){return(r?.mapValue?.fields||{})[qE]?.stringValue===HE}function su(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return xs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=su(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=su(r.arrayValue.values[n]);return e}return{...r}}function CI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===xI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(n)}setAll(e){let n=Wt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=su(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){xs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new En(su(this.value))}}function FE(r){const e=[];return xs(r.fields,((n,s)=>{const o=new Wt([n]);if(Nh(s)){const u=FE(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new sn(e,0,Te.min(),Te.min(),Te.min(),En.empty(),0)}static newFoundDocument(e,n,s,o){return new sn(e,1,n,Te.min(),s,o,0)}static newNoDocument(e,n){return new sn(e,2,n,Te.min(),Te.min(),En.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,Te.min(),Te.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.position=e,this.inclusive=n}}function v1(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),n.key):s=No(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function b1(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Fr(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n="asc"){this.field=e,this.dir=n}}function II(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{}class Ot extends GE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new DI(e,n,s):n==="array-contains"?new VI(e,s):n==="in"?new PI(e,s):n==="not-in"?new kI(e,s):n==="array-contains-any"?new LI(e,s):new Ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new OI(e,s):new MI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(No(n,this.value)):n!==null&&bs(this.value)===bs(n)&&this.matchesComparison(No(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends GE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fr(e,n)}matches(e){return KE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KE(r){return r.op==="and"}function QE(r){return NI(r)&&KE(r)}function NI(r){for(const e of r.filters)if(e instanceof fr)return!1;return!0}function pp(r){if(r instanceof Ot)return r.field.canonicalString()+r.op.toString()+Do(r.value);if(QE(r))return r.filters.map((e=>pp(e))).join(",");{const e=r.filters.map((n=>pp(n))).join(",");return`${r.op}(${e})`}}function YE(r,e){return r instanceof Ot?(function(s,o){return o instanceof Ot&&s.op===o.op&&s.field.isEqual(o.field)&&Fr(s.value,o.value)})(r,e):r instanceof fr?(function(s,o){return o instanceof fr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&YE(h,o.filters[m])),!0):!1})(r,e):void be(19439)}function XE(r){return r instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${Do(n.value)}`})(r):r instanceof fr?(function(n){return n.op.toString()+" {"+n.getFilters().map(XE).join(" ,")+"}"})(r):"Filter"}class DI extends Ot{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class OI extends Ot{constructor(e,n){super(e,"in",n),this.keys=$E("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class MI extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=$E("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function $E(r,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class VI extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ng(n)&&yu(n.arrayValue,this.value)}}class PI extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yu(this.value.arrayValue,n)}}class kI extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yu(this.value.arrayValue,n)}}class LI extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ng(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>yu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function E1(r,e=null,n=[],s=[],o=null,u=null,h=null){return new jI(r,e,n,s,o,u,h)}function rg(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>pp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),ff(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Do(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Do(s))).join(",")),e.Te=n}return e.Te}function ig(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!II(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!YE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!b1(r.startAt,e.startAt)&&b1(r.endAt,e.endAt)}function gp(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function UI(r,e,n,s,o,u,h,m){return new zo(r,e,n,s,o,u,h,m)}function mf(r){return new zo(r)}function T1(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function WE(r){return r.collectionGroup!==null}function au(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new jt(Wt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new _u(u,s))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new _u(Wt.keyField(),s))}return e.Ie}function Ur(r){const e=Ae(r);return e.Ee||(e.Ee=zI(e,au(r))),e.Ee}function zI(r,e){if(r.limitType==="F")return E1(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new _u(o.field,u)}));const n=r.endAt?new Yh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Yh(r.startAt.position,r.startAt.inclusive):null;return E1(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function yp(r,e){const n=r.filters.concat([e]);return new zo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function _p(r,e,n){return new zo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function pf(r,e){return ig(Ur(r),Ur(e))&&r.limitType===e.limitType}function JE(r){return`${rg(Ur(r))}|lt:${r.limitType}`}function _o(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>XE(o))).join(", ")}]`),ff(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Do(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Do(o))).join(",")),`Target(${s})`})(Ur(r))}; limitType=${r.limitType})`}function gf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of au(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=v1(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,au(s),o)||s.endAt&&!(function(h,m,p){const g=v1(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,au(s),o))})(r,e)}function BI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ZE(r){return(e,n)=>{let s=!1;for(const o of au(r)){const u=qI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function qI(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?No(p,g):be(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return kE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=new ht(ge.comparator);function Ti(){return HI}const eT=new ht(ge.comparator);function eu(...r){let e=eT;for(const n of r)e=e.insert(n.key,n);return e}function tT(r){let e=eT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ca(){return ou()}function nT(){return ou()}function ou(){return new wa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const FI=new ht(ge.comparator),GI=new jt(ge.comparator);function Pe(...r){let e=GI;for(const n of r)e=e.add(n);return e}const KI=new jt(Ve);function QI(){return KI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(e)?"-0":e}}function rT(r){return{integerValue:""+r}}function YI(r,e){return EI(e)?rT(e):sg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(){this._=void 0}}function XI(r,e,n){return r instanceof vu?(function(o,u){const h={fields:{[UE]:{stringValue:jE},[BE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&tg(u)&&(u=df(u)),u&&(h.fields[zE]=u),{mapValue:h}})(n,e):r instanceof bu?sT(r,e):r instanceof Eu?aT(r,e):(function(o,u){const h=iT(o,u),m=w1(h)+w1(o.Ae);return mp(h)&&mp(o.Ae)?rT(m):sg(o.serializer,m)})(r,e)}function $I(r,e,n){return r instanceof bu?sT(r,e):r instanceof Eu?aT(r,e):n}function iT(r,e){return r instanceof Xh?(function(s){return mp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class vu extends yf{}class bu extends yf{constructor(e){super(),this.elements=e}}function sT(r,e){const n=oT(e);for(const s of r.elements)n.some((o=>Fr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Eu extends yf{constructor(e){super(),this.elements=e}}function aT(r,e){let n=oT(e);for(const s of r.elements)n=n.filter((o=>!Fr(o,s)));return{arrayValue:{values:n}}}class Xh extends yf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function w1(r){return Et(r.integerValue||r.doubleValue)}function oT(r){return ng(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n){this.field=e,this.transform=n}}function JI(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof bu&&o instanceof bu||s instanceof Eu&&o instanceof Eu?Io(s.elements,o.elements,Fr):s instanceof Xh&&o instanceof Xh?Fr(s.Ae,o.Ae):s instanceof vu&&o instanceof vu})(r.transform,e.transform)}class ZI{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class _f{}function lT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new ag(r.key,Xn.none()):new Ou(r.key,r.data,Xn.none());{const n=r.data,s=En.empty();let o=new jt(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Rs(r.key,s,new Mn(o.toArray()),Xn.none())}}function eN(r,e,n){r instanceof Ou?(function(o,u,h){const m=o.value.clone(),p=S1(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Rs?(function(o,u,h){if(!Dh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=S1(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(uT(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function lu(r,e,n,s){return r instanceof Ou?(function(u,h,m,p){if(!Dh(u.precondition,h))return m;const g=u.value.clone(),v=x1(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof Rs?(function(u,h,m,p){if(!Dh(u.precondition,h))return m;const g=x1(u.fieldTransforms,p,h),v=h.data;return v.setAll(uT(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,h,m){return Dh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function tN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=iT(s.transform,o||null);u!=null&&(n===null&&(n=En.empty()),n.set(s.field,u))}return n||null}function A1(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Io(s,o,((u,h)=>JI(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ou extends _f{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Rs extends _f{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function uT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function S1(r,e,n){const s=new Map;Ge(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,$I(h,m,n[o]))}return s}function x1(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,XI(u,h,e))}return s}class ag extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nN extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&eN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=lu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=lu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=nT();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=lT(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Te.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,((n,s)=>A1(n,s)))&&Io(this.baseMutations,e.baseMutations,((n,s)=>A1(n,s)))}}class og{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return FI})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new og(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,je;function aN(r){switch(r){case ee.OK:return be(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return be(15467,{code:r})}}function cT(r){if(r===void 0)return Ei("GRPC error has no .code"),ee.UNKNOWN;switch(r){case Dt.OK:return ee.OK;case Dt.CANCELLED:return ee.CANCELLED;case Dt.UNKNOWN:return ee.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ee.INTERNAL;case Dt.UNAVAILABLE:return ee.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ee.NOT_FOUND;case Dt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Dt.ABORTED:return ee.ABORTED;case Dt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Dt.DATA_LOSS:return ee.DATA_LOSS;default:return be(39323,{code:r})}}(je=Dt||(Dt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new ms([4294967295,4294967295],0);function R1(r){const e=oN().encode(r),n=new SE;return n.update(e),new Uint8Array(n.digest())}function C1(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ms([n,s],0),new ms([o,u],0)]}class lg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new tu(`Invalid padding: ${n}`);if(s<0)throw new tu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new tu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new tu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ms.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ms.fromNumber(s)));return o.compare(lN)===1&&(o=new ms([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=R1(e),[s,o]=C1(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new lg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=R1(e),[s,o]=C1(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Mu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new vf(Te.min(),o,new ht(Ve),Ti(),Pe())}}class Mu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Mu(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class hT{constructor(e,n){this.targetId=e,this.Ce=n}}class fT{constructor(e,n,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class I1{constructor(){this.ve=0,this.Fe=N1(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:u})}})),new Mu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=N1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ti(),this.Je=_h(),this.He=_h(),this.Ye=new ht(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(gp(u))if(s===0){const h=new ge(u.path);this.et(n,h,sn.newNoDocument(h,Te.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=vs(s).toUint8Array()}catch(p){if(p instanceof LE)return Co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new lg(h,o,u)}catch(p){return Co(p instanceof tu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&gp(m.target)){const p=new ge(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,sn.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new vf(e,n,this.Ye,this.je,s);return this.je=Ti(),this.Je=_h(),this.He=_h(),this.Ye=new ht(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new I1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new jt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new jt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new I1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _h(){return new ht(ge.comparator)}function N1(){return new ht(ge.comparator)}const cN={asc:"ASCENDING",desc:"DESCENDING"},hN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fN={and:"AND",or:"OR"};class dN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vp(r,e){return r.useProto3Json||ff(e)?e:{value:e}}function $h(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function mN(r,e){return $h(r,e.toTimestamp())}function zr(r){return Ge(!!r,49232),Te.fromTimestamp((function(n){const s=_s(n);return new nt(s.seconds,s.nanos)})(r))}function ug(r,e){return bp(r,e).canonicalString()}function bp(r,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function mT(r){const e=tt.fromString(r);return Ge(vT(e),10190,{key:e.toString()}),e}function Ep(r,e){return ug(r.databaseId,e.path)}function Qm(r,e){const n=mT(e);if(n.get(1)!==r.databaseId.projectId)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(gT(n))}function pT(r,e){return ug(r.databaseId,e)}function pN(r){const e=mT(r);return e.length===4?tt.emptyPath():gT(e)}function Tp(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function gT(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function D1(r,e,n){return{name:Ep(r,e),fields:n.value.mapValue.fields}}function gN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Ge(v===void 0||typeof v=="string",58123),Jt.fromBase64String(v||"")):(Ge(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Jt.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const v=g.code===void 0?ee.UNKNOWN:cT(g.code);return new ue(v,g.message||"")})(h);n=new fT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Qm(r,s.document.name),u=zr(s.document.updateTime),h=s.document.createTime?zr(s.document.createTime):Te.min(),m=new En({mapValue:{fields:s.document.fields}}),p=sn.newFoundDocument(o,u,h,m),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Oh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Qm(r,s.document),u=s.readTime?zr(s.readTime):Te.min(),h=sn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Oh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Qm(r,s.document),u=s.removedTargetIds||[];n=new Oh([],u,o,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new sN(o,u),m=s.targetId;n=new hT(m,h)}}return n}function yN(r,e){let n;if(e instanceof Ou)n={update:D1(r,e.key,e.value)};else if(e instanceof ag)n={delete:Ep(r,e.key)};else if(e instanceof Rs)n={update:D1(r,e.key,e.data),updateMask:xN(e.fieldMask)};else{if(!(e instanceof nN))return be(16599,{Vt:e.type});n={verify:Ep(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof vu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof bu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Eu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Xh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw be(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:mN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)})(r,e.precondition)),n}function _N(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?zr(o.updateTime):zr(u);return h.isEqual(Te.min())&&(h=zr(u)),new ZI(h,o.transformResults||[])})(n,e)))):[]}function vN(r,e){return{documents:[pT(r,e.path)]}}function bN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=pT(r,o);const u=(function(g){if(g.length!==0)return _T(fr.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((v=>(function(x){return{field:vo(x.field),direction:wN(x.dir)}})(v)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=vp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function EN(r){let e=pN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=(function(T){const x=yT(T);return x instanceof fr&&QE(x)?x.getFilters():[x]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((x=>(function(F){return new _u(bo(F.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(x)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let x;return x=typeof T=="object"?T.value:T,ff(x)?null:x})(n.limit));let p=null;n.startAt&&(p=(function(T){const x=!!T.before,O=T.values||[];return new Yh(O,x)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const x=!T.before,O=T.values||[];return new Yh(O,x)})(n.endAt)),UI(e,o,h,u,m,"F",p,g)}function TN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=bo(n.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=bo(n.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=bo(n.unaryFilter.field);return Ot.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=bo(n.unaryFilter.field);return Ot.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ot.create(bo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return fr.create(n.compositeFilter.filters.map((s=>yT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(r):be(30097,{filter:r})}function wN(r){return cN[r]}function AN(r){return hN[r]}function SN(r){return fN[r]}function vo(r){return{fieldPath:r.canonicalString()}}function bo(r){return Wt.fromServerFormat(r.fieldPath)}function _T(r){return r instanceof Ot?(function(n){if(n.op==="=="){if(_1(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NAN"}};if(y1(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_1(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NAN"}};if(y1(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(n.field),op:AN(n.op),value:n.value}}})(r):r instanceof fr?(function(n){const s=n.getFilters().map((o=>_T(o)));return s.length===1?s[0]:{compositeFilter:{op:SN(n.op),filters:s}}})(r):be(54877,{filter:r})}function xN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function vT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n,s,o,u=Te.min(),h=Te.min(),m=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.yt=e}}function CN(r){const e=EN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?_p(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.Cn=new NN}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(ys.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(ys.min())}updateCollectionGroup(e,n,s){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class NN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new jt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new jt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bT=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(bT,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Oo(0)}static cr(){return new Oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="LruGarbageCollector",DN=1048576;function V1([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class ON{constructor(e){this.Ir=e,this.buffer=new jt(V1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();V1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(M1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Uo(n)?he(M1,"Ignoring IndexedDB error during garbage collection: ",n):await jo(n)}await this.Vr(3e5)}))}}class VN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(hf.ce);const s=new ON(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(O1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),yo()<=Me.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function PN(r,e){return new VN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.changes=new wa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?re.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&lu(s.mutation,o,Mn.empty(),nt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=ca();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=eu();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ca();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=Ti();const h=ou(),m=(function(){return ou()})();return n.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Rs)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),lu(v.mutation,g,v.mutation.getFieldMask(),nt.now())):h.set(g.key,Mn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,v)=>h.set(g,v))),n.forEach(((g,v)=>m.set(g,new LN(v,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=ou();let o=new ht(((h,m)=>h-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||Mn.empty();v=m.applyToLocalView(g,v),s.set(p,v);const T=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,T=nT();v.forEach((x=>{if(!u.has(x)){const O=lT(n.get(x),s.get(x));O!==null&&T.set(x,O),u=u.add(x)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return re.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):re.resolve(ca());let m=mu,p=u;return h.next((g=>re.forEach(g,((v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?re.resolve():this.remoteDocumentCache.getEntry(e,v).next((x=>{p=p.insert(v,x)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Pe()))).next((v=>({batchId:m,changes:tT(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let o=eu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=eu();return this.indexManager.getCollectionParents(e,u).next((m=>re.forEach(m,(p=>{const g=(function(T,x){return new zo(x,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((v=>{v.forEach(((T,x)=>{h=h.insert(T,x)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,sn.newInvalidDocument(v)))}));let m=eu();return h.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&lu(v.mutation,g,Mn.empty(),nt.now()),gf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:zr(o.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:CN(o.bundledQuery),readTime:zr(o.readTime)}})(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.overlays=new ht(ge.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ca();return re.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),re.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),re.resolve()}getOverlaysForCollection(e,n,s){const o=ca(),u=n.length+1,h=new ge(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return re.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht(((g,v)=>g-v));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ca(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=ca(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return re.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new iN(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this.Qr=new jt(qt.$r),this.Ur=new jt(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new qt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new qt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ge(new tt([])),s=new qt(n,e),o=new qt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new tt([])),s=new qt(n,e),o=new qt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new qt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new jt(qt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new rN(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(h)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return re.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?eg:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),re.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new jt(Ve);return n.forEach((o=>{const u=new qt(o,0),h=new qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),re.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const h=new qt(new ge(u),0);let m=new jt(Ve);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),re.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return re.forEach(n.mutations,(o=>{const u=new qt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new qt(n,0),o=this.Zr.firstAfterOrEqual(s);return re.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.ri=e,this.docs=(function(){return new ht(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return re.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let s=Ti();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),re.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ti();const h=n.path,m=new ge(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||yI(gI(v),s)<=0||(o.has(v.key)||gf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return re.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be(9500)}ii(e,n){return re.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new FN(this)}getSize(e){return re.resolve(this.size)}}class FN extends kN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.persistence=e,this.si=new wa((n=>rg(n)),ig),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new cg,this.targetCount=0,this.ai=Oo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Oo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),re.waitFor(u).next((()=>o))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return re.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),re.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),re.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return re.resolve(s)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n){this.ui={},this.overlays={},this.ci=new hf(0),this.li=!1,this.li=!0,this.hi=new BN,this.referenceDelegate=e(this),this.Pi=new GN(this),this.indexManager=new IN,this.remoteDocumentCache=(function(o){return new HN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new RN(n),this.Ii=new UN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new qN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new KN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return re.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class KN extends vI{constructor(e){super(),this.currentSequenceNumber=e}}class hg{constructor(e){this.persistence=e,this.Ri=new cg,this.Vi=null}static mi(e){return new hg(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),re.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(s=>{const o=ge.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Te.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Wh{constructor(e,n){this.persistence=e,this.pi=new wa((s=>TI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=PN(this,n)}static mi(e,n){return new Wh(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?re.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Te.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ih(e.data.value)),n}br(e,n,s){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return re.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new fg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Tx()?8:bI(an())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new QN;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(yo()<=Me.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",_o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(yo()<=Me.DEBUG&&he("QueryEngine","Query:",_o(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(yo()<=Me.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",_o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ur(n))):re.resolve())}ys(e,n){if(T1(n))return re.resolve(null);let s=Ur(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=_p(n,null,"F"),s=Ur(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Pe(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,_p(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return T1(n)||o.isEqual(Te.min())?re.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?re.resolve(null):(yo()<=Me.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(n)),this.vs(e,h,n,pI(o,mu)).next((m=>m)))}))}Ds(e,n){let s=new jt(ZE(e));return n.forEach(((o,u)=>{gf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return yo()<=Me.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",_o(n)),this.ps.getDocumentsMatchingQuery(e,n,ys.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="LocalStore",XN=3e8;class $N{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ht(Ve),this.xs=new wa((u=>rg(u)),ig),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function WN(r,e,n,s){return new $N(r,e,n,s)}async function TT(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Pe();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function JN(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const T=g.batch,x=T.keys();let O=re.resolve();return x.forEach((F=>{O=O.next((()=>v.getEntry(p,F))).next((Y=>{const B=g.docVersions.get(F);Ge(B!==null,48541),Y.version.compareTo(B)<0&&(T.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),v.addEntry(Y)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function wT(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function ZN(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((v,T)=>{const x=o.get(T);if(!x)return;m.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,v.addedDocuments,T))));let O=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(Jt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,s)),o=o.insert(T,O),(function(Y,B,$){return Y.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=XN?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(x,O,v)&&m.push(n.Pi.updateTargetData(u,O))}));let p=Ti(),g=Pe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(e3(u,h,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(Te.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(v)}return re.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function e3(r,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=Ti();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):he(dg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function t3(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=eg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function n3(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,re.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new cs(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function wp(r,e,n){const s=Ae(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Uo(h))throw h;he(dg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function P1(r,e,n){const s=Ae(r);let o=Te.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,v){const T=Ae(p),x=T.xs.get(v);return x!==void 0?re.resolve(T.Ms.get(x)):T.Pi.getTargetData(g,v)})(s,h,Ur(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Te.min(),n?u:Pe()))).next((m=>(r3(s,BI(e),m),{documents:m,Qs:u})))))}function r3(r,e,n){let s=r.Os.get(e)||Te.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class k1{constructor(){this.activeTargetIds=QI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i3{constructor(){this.Mo=new k1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new k1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="ConnectivityMonitor";class j1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(L1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(L1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh=null;function Ap(){return vh===null?vh=(function(){return 268435456+Math.round(2147483648*Math.random())})():vh++,"0x"+vh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="RestConnection",a3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class o3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Kh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=Ap(),m=this.zo(e,n.toUriEncodedString());he(Ym,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=ws(g);return this.Jo(e,m,p,s,v).then((T=>(he(Ym,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw Co(Ym,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Lo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=a3[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class u3 extends o3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=Ap();return new Promise(((m,p)=>{const g=new xE;g.setWithCredentials(!0),g.listenOnce(RE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Ch.NO_ERROR:const T=g.getResponseJson();he(tn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case Ch.TIMEOUT:he(tn,`RPC '${e}' ${h} timed out`),p(new ue(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Ch.HTTP_ERROR:const x=g.getStatus();if(he(tn,`RPC '${e}' ${h} failed with status:`,x,"response text:",g.getResponseText()),x>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const F=O?.error;if(F&&F.status&&F.message){const Y=(function($){const U=$.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(U)>=0?U:ee.UNKNOWN})(F.status);p(new ue(Y,F.message))}else p(new ue(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ue(ee.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(tn,`RPC '${e}' ${h} completed.`)}}));const v=JSON.stringify(o);he(tn,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",v,s,15)}))}T_(e,n,s){const o=Ap(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=NE(),m=IE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");he(tn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const T=h.createWebChannel(v,p);this.I_(T);let x=!1,O=!1;const F=new l3({Yo:B=>{O?he(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(x||(he(tn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),x=!0),he(tn,`RPC '${e}' stream ${o} sending:`,B),T.send(B))},Zo:()=>T.close()}),Y=(B,$,U)=>{B.listen($,(q=>{try{U(q)}catch(ie){setTimeout((()=>{throw ie}),0)}}))};return Y(T,Zl.EventType.OPEN,(()=>{O||(he(tn,`RPC '${e}' stream ${o} transport opened.`),F.o_())})),Y(T,Zl.EventType.CLOSE,(()=>{O||(O=!0,he(tn,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(T))})),Y(T,Zl.EventType.ERROR,(B=>{O||(O=!0,Co(tn,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),F.a_(new ue(ee.UNAVAILABLE,"The operation could not be completed")))})),Y(T,Zl.EventType.MESSAGE,(B=>{if(!O){const $=B.data[0];Ge(!!$,16349);const U=$,q=U?.error||U[0]?.error;if(q){he(tn,`RPC '${e}' stream ${o} received error:`,q);const ie=q.status;let le=(function(S){const C=Dt[S];if(C!==void 0)return cT(C)})(ie),ce=q.message;le===void 0&&(le=ee.INTERNAL,ce="Unknown error status: "+ie+" with message "+q.message),O=!0,F.a_(new ue(le,ce)),T.close()}else he(tn,`RPC '${e}' stream ${o} received:`,$),F.u_($)}})),Y(m,CE.STAT_EVENT,(B=>{B.stat===hp.PROXY?he(tn,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===hp.NOPROXY&&he(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(r){return new dN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="PersistentStream";class ST{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Ei(n.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(U1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(U1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class c3 extends ST{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Te.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?zr(h.readTime):Te.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Tp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=gp(p)?{documents:vN(u,p)}:{query:bN(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=dT(u,h.resumeToken);const g=vp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Te.min())>0){m.readTime=$h(u,h.snapshotVersion.toTimestamp());const g=vp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=TN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Tp(this.serializer),n.removeTarget=e,this.q_(n)}}class h3 extends ST{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=_N(e.writeResults,e.commitTime),s=zr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Tp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>yN(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{}class d3 extends f3{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,bp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(ee.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,bp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ue(ee.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class m3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ei(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class p3{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Aa(this)&&(he(va,"Restarting streams for network reachability change."),await(async function(p){const g=Ae(p);g.Ea.add(4),await Vu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Ef(g)})(this))}))})),this.Ra=new m3(s,o)}}async function Ef(r){if(Aa(r))for(const e of r.da)await e(!0)}async function Vu(r){for(const e of r.da)await e(!1)}function xT(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),yg(n)?gg(n):Bo(n).O_()&&pg(n,e))}function mg(r,e){const n=Ae(r),s=Bo(n);n.Ia.delete(e),s.O_()&&RT(n,e),n.Ia.size===0&&(s.O_()?s.L_():Aa(n)&&n.Ra.set("Unknown"))}function pg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bo(r).Y_(e)}function RT(r,e){r.Va.Ue(e),Bo(r).Z_(e)}function gg(r){r.Va=new uN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Bo(r).start(),r.Ra.ua()}function yg(r){return Aa(r)&&!Bo(r).x_()&&r.Ia.size>0}function Aa(r){return Ae(r).Ea.size===0}function CT(r){r.Va=void 0}async function g3(r){r.Ra.set("Online")}async function y3(r){r.Ia.forEach(((e,n)=>{pg(r,e)}))}async function _3(r,e){CT(r),yg(r)?(r.Ra.ha(e),gg(r)):r.Ra.set("Unknown")}async function v3(r,e,n){if(r.Ra.set("Online"),e instanceof fT&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){he(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Jh(r,s)}else if(e instanceof Oh?r.Va.Ze(e):e instanceof hT?r.Va.st(e):r.Va.tt(e),!n.isEqual(Te.min()))try{const s=await wT(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(Jt.EMPTY_BYTE_STRING,v.snapshotVersion)),RT(u,p);const T=new cs(v.target,p,g,v.sequenceNumber);pg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){he(va,"Failed to raise snapshot:",s),await Jh(r,s)}}async function Jh(r,e,n){if(!Uo(e))throw e;r.Ea.add(1),await Vu(r),r.Ra.set("Offline"),n||(n=()=>wT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(va,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Ef(r)}))}function IT(r,e){return e().catch((n=>Jh(r,n,e)))}async function Tf(r){const e=Ae(r),n=Es(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:eg;for(;b3(e);)try{const o=await t3(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,E3(e,o)}catch(o){await Jh(e,o)}NT(e)&&DT(e)}function b3(r){return Aa(r)&&r.Ta.length<10}function E3(r,e){r.Ta.push(e);const n=Es(r);n.O_()&&n.X_&&n.ea(e.mutations)}function NT(r){return Aa(r)&&!Es(r).x_()&&r.Ta.length>0}function DT(r){Es(r).start()}async function T3(r){Es(r).ra()}async function w3(r){const e=Es(r);for(const n of r.Ta)e.ea(n.mutations)}async function A3(r,e,n){const s=r.Ta.shift(),o=og.from(s,e,n);await IT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Tf(r)}async function S3(r,e){e&&Es(r).X_&&await(async function(s,o){if((function(h){return aN(h)&&h!==ee.ABORTED})(o.code)){const u=s.Ta.shift();Es(s).B_(),await IT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Tf(s)}})(r,e),NT(r)&&DT(r)}async function z1(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),he(va,"RemoteStore received new credentials");const s=Aa(n);n.Ea.add(3),await Vu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ef(n)}async function x3(r,e){const n=Ae(r);e?(n.Ea.delete(2),await Ef(n)):e||(n.Ea.add(2),await Vu(n),n.Ra.set("Unknown"))}function Bo(r){return r.ma||(r.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new c3(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:g3.bind(null,r),t_:y3.bind(null,r),r_:_3.bind(null,r),H_:v3.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),yg(r)?gg(r):r.Ra.set("Unknown")):(await r.ma.stop(),CT(r))}))),r.ma}function Es(r){return r.fa||(r.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new h3(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:T3.bind(null,r),r_:S3.bind(null,r),ta:w3.bind(null,r),na:A3.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Tf(r)):(await r.fa.stop(),r.Ta.length>0&&(he(va,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new _g(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vg(r,e){if(Ei("AsyncQueue",`${e}: ${r}`),Uo(r))return new ue(ee.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{static emptySet(e){return new Ao(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=eu(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ao;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.ga=new ht(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Mo{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Mo(e,n,Ao.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class C3{constructor(){this.queries=q1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=q1(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ue(ee.ABORTED,"Firestore shutting down"))}}function q1(){return new wa((r=>JE(r)),pf)}async function bg(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new R3,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=vg(h,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Tg(n)}async function Eg(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function I3(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&Tg(n)}function N3(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Tg(r){r.Ca.forEach((e=>{e.next()}))}var Sp,H1;(H1=Sp||(Sp={})).Ma="default",H1.Cache="cache";class wg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Mo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this.key=e}}class MT{constructor(e){this.key=e}}class D3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=ZE(e),this.tu=new Ao(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new B1,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,T)=>{const x=o.get(v),O=gf(this.query,T)?T:null,F=!!x&&this.mutatedKeys.has(x.key),Y=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let B=!1;x&&O?x.data.isEqual(O.data)?F!==Y&&(s.track({type:3,doc:O}),B=!0):this.su(x,O)||(s.track({type:2,doc:O}),B=!0,(p&&this.eu(O,p)>0||g&&this.eu(O,g)<0)&&(m=!0)):!x&&O?(s.track({type:0,doc:O}),B=!0):x&&!O&&(s.track({type:1,doc:x}),B=!0,(p||g)&&(m=!0)),B&&(O?(h=h.add(O),u=Y?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((v,T)=>(function(O,F){const Y=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:B})}};return Y(O)-Y(F)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Mo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new B1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new MT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new OT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ag="SyncEngine";class O3{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class M3{constructor(e){this.key=e,this.hu=!1}}class V3{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new wa((m=>JE(m)),pf),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ge.comparator),this.Au=new Map,this.Ru=new cg,this.Vu={},this.mu=new Map,this.fu=Oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function P3(r,e,n=!0){const s=UT(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await VT(s,e,n,!0),o}async function k3(r,e){const n=UT(r);await VT(n,e,!0,!1)}async function VT(r,e,n,s){const o=await n3(r.localStore,Ur(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await L3(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&xT(r.remoteStore,o),m}async function L3(r,e,n,s,o){r.pu=(T,x,O)=>(async function(Y,B,$,U){let q=B.view.ru($);q.Cs&&(q=await P1(Y.localStore,B.query,!1).then((({documents:R})=>B.view.ru(R,q))));const ie=U&&U.targetChanges.get(B.targetId),le=U&&U.targetMismatches.get(B.targetId)!=null,ce=B.view.applyChanges(q,Y.isPrimaryClient,ie,le);return G1(Y,B.targetId,ce.au),ce.snapshot})(r,T,x,O);const u=await P1(r.localStore,e,!0),h=new D3(e,u.Qs),m=h.ru(u.documents),p=Mu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);G1(r,n,g.au);const v=new O3(e,n,h);return r.Tu.set(e,v),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function j3(r,e,n){const s=Ae(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!pf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await wp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&mg(s.remoteStore,o.targetId),xp(s,o.targetId)})).catch(jo)):(xp(s,o.targetId),await wp(s.localStore,o.targetId,!0))}async function U3(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),mg(n.remoteStore,s.targetId))}async function z3(r,e,n){const s=Q3(r);try{const o=await(function(h,m){const p=Ae(h),g=nt.now(),v=m.reduce(((O,F)=>O.add(F.key)),Pe());let T,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let F=Ti(),Y=Pe();return p.Ns.getEntries(O,v).next((B=>{F=B,F.forEach((($,U)=>{U.isValidDocument()||(Y=Y.add($))}))})).next((()=>p.localDocuments.getOverlayedDocuments(O,F))).next((B=>{T=B;const $=[];for(const U of m){const q=tN(U,T.get(U.key).overlayedDocument);q!=null&&$.push(new Rs(U.key,q,FE(q.value.mapValue),Xn.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,$,m)})).next((B=>{x=B;const $=B.applyToLocalDocumentSet(T,Y);return p.documentOverlayCache.saveOverlays(O,B.batchId,$)}))})).then((()=>({batchId:x.batchId,changes:tT(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ht(Ve)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Pu(s,o.changes),await Tf(s.remoteStore)}catch(o){const u=vg(o,"Failed to persist write");n.reject(u)}}async function PT(r,e){const n=Ae(r);try{const s=await ZN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ge(h.hu,14607):o.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))})),await Pu(n,s,e)}catch(s){await jo(s)}}function F1(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Ae(h);p.onlineState=m;let g=!1;p.queries.forEach(((v,T)=>{for(const x of T.Sa)x.va(m)&&(g=!0)})),g&&Tg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function B3(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ht(ge.comparator);h=h.insert(u,sn.newNoDocument(u,Te.min()));const m=Pe().add(u),p=new vf(Te.min(),new Map,new ht(Ve),h,m);await PT(s,p),s.du=s.du.remove(u),s.Au.delete(e),Sg(s)}else await wp(s.localStore,e,!1).then((()=>xp(s,e,n))).catch(jo)}async function q3(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await JN(n.localStore,e);LT(n,s,null),kT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Pu(n,o)}catch(o){await jo(o)}}async function H3(r,e,n){const s=Ae(r);try{const o=await(function(h,m){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Ge(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);LT(s,e,n),kT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Pu(s,o)}catch(o){await jo(o)}}function kT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function LT(r,e,n){const s=Ae(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function xp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||jT(r,s)}))}function jT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(mg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Sg(r))}function G1(r,e,n){for(const s of n)s instanceof OT?(r.Ru.addReference(s.key,e),F3(r,s)):s instanceof MT?(he(Ag,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||jT(r,s.key)):be(19791,{wu:s})}function F3(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(he(Ag,"New document in limbo: "+n),r.Eu.add(s),Sg(r))}function Sg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ge(tt.fromString(e)),s=r.fu.next();r.Au.set(s,new M3(n)),r.du=r.du.insert(n,s),xT(r.remoteStore,new cs(Ur(mf(n.path)),s,"TargetPurposeLimboResolution",hf.ce))}}async function Pu(r,e,n){const s=Ae(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=fg.As(p.targetId,g);u.push(v)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const v=Ae(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>re.forEach(g,(x=>re.forEach(x.Es,(O=>v.persistence.referenceDelegate.addReference(T,x.targetId,O))).next((()=>re.forEach(x.ds,(O=>v.persistence.referenceDelegate.removeReference(T,x.targetId,O)))))))))}catch(T){if(!Uo(T))throw T;he(dg,"Failed to update sequence numbers: "+T)}for(const T of g){const x=T.targetId;if(!T.fromCache){const O=v.Ms.get(x),F=O.snapshotVersion,Y=O.withLastLimboFreeSnapshotVersion(F);v.Ms=v.Ms.insert(x,Y)}}})(s.localStore,u))}async function G3(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){he(Ag,"User change. New user:",e.toKey());const s=await TT(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ue(ee.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Pu(n,s.Ls)}}function K3(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function UT(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=PT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B3.bind(null,e),e.Pu.H_=I3.bind(null,e.eventManager),e.Pu.yu=N3.bind(null,e.eventManager),e}function Q3(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H3.bind(null,e),e}class Zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return WN(this.persistence,new YN,e.initialUser,this.serializer)}Cu(e){return new ET(hg.mi,this.serializer)}Du(e){return new i3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zh.provider={build:()=>new Zh};class Y3 extends Zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof Wh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new MN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new ET((s=>Wh.mi(s,n)),this.serializer)}}class Rp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>F1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=G3.bind(null,this.syncEngine),await x3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new C3})()}createDatastore(e){const n=bf(e.databaseInfo.databaseId),s=(function(u){return new u3(u)})(e.databaseInfo);return(function(u,h,m,p){return new d3(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new p3(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>F1(this.syncEngine,n,0)),(function(){return j1.v()?new j1:new s3})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,v){const T=new V3(o,u,h,m,p,g);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);he(va,"RemoteStore shutting down."),s.Ea.add(5),await Vu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rp.provider={build:()=>new Rp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class X3{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=Zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{he(Ts,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(he(Ts,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=vg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function $m(r,e){r.asyncQueue.verifyOperationInProgress(),he(Ts,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await TT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function K1(r,e){r.asyncQueue.verifyOperationInProgress();const n=await $3(r);he(Ts,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>z1(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>z1(e.remoteStore,o))),r._onlineComponents=e}async function $3(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(Ts,"Using user provided OfflineComponentProvider");try{await $m(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Co("Error using user provided cache. Falling back to memory cache: "+n),await $m(r,new Zh)}}else he(Ts,"Using default OfflineComponentProvider"),await $m(r,new Y3(void 0));return r._offlineComponents}async function zT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(Ts,"Using user provided OnlineComponentProvider"),await K1(r,r._uninitializedComponentsProvider._online)):(he(Ts,"Using default OnlineComponentProvider"),await K1(r,new Rp))),r._onlineComponents}function W3(r){return zT(r).then((e=>e.syncEngine))}async function ef(r){const e=await zT(r),n=e.eventManager;return n.onListen=P3.bind(null,e.syncEngine),n.onUnlisten=j3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=k3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=U3.bind(null,e.syncEngine),n}function J3(r,e,n={}){const s=new yi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const v=new xg({next:x=>{v.Nu(),h.enqueueAndForget((()=>Eg(u,T)));const O=x.docs.has(m);!O&&x.fromCache?g.reject(new ue(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&x.fromCache&&p&&p.source==="server"?g.reject(new ue(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),T=new wg(mf(m.path),v,{includeMetadataChanges:!0,qa:!0});return bg(u,T)})(await ef(r),r.asyncQueue,e,n,s))),s.promise}function Z3(r,e,n={}){const s=new yi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const v=new xg({next:x=>{v.Nu(),h.enqueueAndForget((()=>Eg(u,T))),x.fromCache&&p.source==="server"?g.reject(new ue(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),T=new wg(m,v,{includeMetadataChanges:!0,qa:!0});return bg(u,T)})(await ef(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="firestore.googleapis.com",Y1=!0;class X1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qT,this.ssl=Y1}else this.host=e.host,this.ssl=e.ssl??Y1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DN)throw new ue(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new iI;switch(s.type){case"firstParty":return new lI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Q1.get(n);s&&(he("ComponentProvider","Removing Datastore"),Q1.delete(n),s.terminate())})(this),Promise.resolve()}}function e6(r,e,n,s={}){r=Tn(r,wf);const o=ws(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(Lp(`https://${m}`),jp("Firestore",!0)),u.host!==qT&&u.host!==m&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ma(p,h)&&(r._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=rn.MOCK_USER;else{g=jb(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ue(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new rn(T)}r._authCredentials=new sI(new OE(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Cs(this.firestore,e,this._query)}}class mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Du(n,mt._jsonSchema))return new mt(e,s||null,new ge(tt.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Mt("string",mt._jsonSchemaVersion),referencePath:Mt("string")};class ps extends Cs{constructor(e,n,s){super(e,n,mf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new ge(e))}withConverter(e){return new ps(this.firestore,e,this._path)}}function nn(r,e,...n){if(r=ut(r),ME("collection","path",e),r instanceof wf){const s=tt.fromString(e,...n);return l1(s),new ps(r,null,s)}{if(!(r instanceof mt||r instanceof ps))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return l1(s),new ps(r.firestore,null,s)}}function Ht(r,e,...n){if(r=ut(r),arguments.length===1&&(e=Zp.newId()),ME("doc","path",e),r instanceof wf){const s=tt.fromString(e,...n);return o1(s),new mt(r,null,new ge(s))}{if(!(r instanceof mt||r instanceof ps))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return o1(s),new mt(r.firestore,r instanceof ps?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="AsyncQueue";class W1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AT(this,"async_queue_retry"),this._c=()=>{const s=Xm();s&&he($1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Uo(e))throw e;he($1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ei("INTERNAL UNHANDLED ERROR: ",J1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=_g.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:J1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function J1(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class wi extends wf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new W1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new W1(e),this._firestoreClient=void 0,await e}}}function t6(r,e){const n=typeof r=="object"?r:Bp(),s=typeof r=="string"?r:Kh,o=af(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Pb("firestore");u&&e6(o,...u)}return o}function Af(r){if(r._terminated)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||n6(r),r._firestoreClient}function n6(r){const e=r._freezeSettings(),n=(function(o,u,h,m){return new SI(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,BT(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new X3(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(Jt.fromBase64String(e))}catch(n){throw new ue(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Du(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Mt("string",Yn._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Br._jsonSchemaVersion}}static fromJSON(e){if(Du(e,Br._jsonSchema))return new Br(e.latitude,e.longitude)}}Br._jsonSchemaVersion="firestore/geoPoint/1.0",Br._jsonSchema={type:Mt("string",Br._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Du(e,qr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qr(e.vectorValues);throw new ue(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qr._jsonSchemaVersion="firestore/vectorValue/1.0",qr._jsonSchema={type:Mt("string",qr._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=/^__.*__$/;class i6{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ou(e,this.data,n,this.fieldTransforms)}}class HT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function FT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:r})}}class Rg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Rg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return tf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(FT(this.Ac)&&r6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class s6{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||bf(e)}Cc(e,n,s,o=!1){return new Rg({Ac:e,methodName:n,Dc:s,path:Wt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rf(r){const e=r._freezeSettings(),n=bf(r._databaseId);return new s6(r._databaseId,!!e.ignoreUndefinedProperties,n)}function GT(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Ig("Data must be an object, but it was:",h,s);const m=KT(s,h);let p,g;if(u.merge)p=new Mn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const x=Cp(e,T,n);if(!h.contains(x))throw new ue(ee.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);YT(v,x)||v.push(x)}p=new Mn(v),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new i6(new En(m),p,g)}class Cf extends xf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cf}}class Cg extends xf{_toFieldTransform(e){return new WI(e.path,new vu)}isEqual(e){return e instanceof Cg}}function a6(r,e,n,s){const o=r.Cc(1,e,n);Ig("Data must be an object, but it was:",o,s);const u=[],h=En.empty();xs(s,((p,g)=>{const v=Ng(e,p,n);g=ut(g);const T=o.yc(v);if(g instanceof Cf)u.push(v);else{const x=ku(g,T);x!=null&&(u.push(v),h.set(v,x))}}));const m=new Mn(u);return new HT(h,m,o.fieldTransforms)}function o6(r,e,n,s,o,u){const h=r.Cc(1,e,n),m=[Cp(e,s,n)],p=[o];if(u.length%2!=0)throw new ue(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)m.push(Cp(e,u[x])),p.push(u[x+1]);const g=[],v=En.empty();for(let x=m.length-1;x>=0;--x)if(!YT(g,m[x])){const O=m[x];let F=p[x];F=ut(F);const Y=h.yc(O);if(F instanceof Cf)g.push(O);else{const B=ku(F,Y);B!=null&&(g.push(O),v.set(O,B))}}const T=new Mn(g);return new HT(v,T,h.fieldTransforms)}function l6(r,e,n,s=!1){return ku(n,r.Cc(s?4:3,e))}function ku(r,e){if(QT(r=ut(r)))return Ig("Unsupported field value:",e,r),KT(r,e);if(r instanceof xf)return(function(s,o){if(!FT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=ku(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=ut(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return YI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=nt.fromDate(s);return{timestampValue:$h(o.serializer,u)}}if(s instanceof nt){const u=new nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$h(o.serializer,u)}}if(s instanceof Br)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Yn)return{bytesValue:dT(o.serializer,s._byteString)};if(s instanceof mt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ug(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof qr)return(function(h,m){return{mapValue:{fields:{[qE]:{stringValue:HE},[Qh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return sg(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${cf(s)}`)})(r,e)}function KT(r,e){const n={};return kE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xs(r,((s,o)=>{const u=ku(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function QT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof nt||r instanceof Br||r instanceof Yn||r instanceof mt||r instanceof xf||r instanceof qr)}function Ig(r,e,n){if(!QT(n)||!VE(n)){const s=cf(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Cp(r,e,n){if((e=ut(e))instanceof Sf)return e._internalPath;if(typeof e=="string")return Ng(r,e);throw tf("Field path arguments must be of type string or ",r,!1,void 0,n)}const u6=new RegExp("[~\\*/\\[\\]]");function Ng(r,e,n){if(e.search(u6)>=0)throw tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Sf(...e.split("."))._internalPath}catch{throw tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function tf(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ue(ee.INVALID_ARGUMENT,m+r+p)}function YT(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new c6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(If("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class c6 extends XT{data(){return super.data()}}function If(r,e){return typeof e=="string"?Ng(r,e):e instanceof Sf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dg{}class WT extends Dg{}function ur(r,e,...n){let s=[];e instanceof Dg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof Og)).length,m=u.filter((p=>p instanceof Nf)).length;if(h>1||h>0&&m>0)throw new ue(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Nf extends WT{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Nf(e,n,s)}_apply(e){const n=this._parse(e);return JT(e._query,n),new Cs(e.firestore,e.converter,yp(e._query,n))}_parse(e){const n=Rf(e.firestore);return(function(u,h,m,p,g,v,T){let x;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){tb(T,v);const F=[];for(const Y of T)F.push(eb(p,u,Y));x={arrayValue:{values:F}}}else x=eb(p,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||tb(T,v),x=l6(m,h,T,v==="in"||v==="not-in");return Ot.create(g,v,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function On(r,e,n){const s=e,o=If("where",r);return Nf._create(o,s,n)}class Og extends Dg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Og(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)JT(h,p),h=yp(h,p)})(e._query,n),new Cs(e.firestore,e.converter,yp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Mg extends WT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Mg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new ue(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _u(u,h)})(e._query,this._field,this._direction);return new Cs(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new zo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Vg(r,e="asc"){const n=e,s=If("orderBy",r);return Mg._create(s,n)}function eb(r,e,n){if(typeof(n=ut(n))=="string"){if(n==="")throw new ue(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WE(e)&&n.indexOf("/")!==-1)throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!ge.isDocumentKey(s))throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return g1(r,new ge(s))}if(n instanceof mt)return g1(r,n._key);throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cf(n)}.`)}function tb(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JT(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class h6{convertValue(e,n="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return xs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Qh].arrayValue?.values?.map((s=>Et(s.doubleValue)));return new qr(n)}convertGeoPoint(e){return new Br(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=df(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const n=_s(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Ge(vT(s),9688,{name:e});const o=new gu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||Ei(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class nu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ha extends XT{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(If("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ha._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:Mt("string",ha._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Mh extends ha{data(e={}){return super.data(e)}}class fa{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new nu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Mh(this._firestore,this._userDataWriter,s.key,s,new nu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Mh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Mh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:f6(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function f6(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(r){r=Tn(r,mt);const e=Tn(r.firestore,wi);return J3(Af(e),r._key).then((n=>t2(e,r,n)))}fa._jsonSchemaVersion="firestore/querySnapshot/1.0",fa._jsonSchema={type:Mt("string",fa._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Pg extends h6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function go(r){r=Tn(r,Cs);const e=Tn(r.firestore,wi),n=Af(e),s=new Pg(e);return $T(r._query),Z3(n,r._query).then((o=>new fa(e,s,r,o)))}function So(r,e,n){r=Tn(r,mt);const s=Tn(r.firestore,wi),o=ZT(r.converter,e);return Df(s,[GT(Rf(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Xn.none())])}function xo(r,e,n,...s){r=Tn(r,mt);const o=Tn(r.firestore,wi),u=Rf(o);let h;return h=typeof(e=ut(e))=="string"||e instanceof Sf?o6(u,"updateDoc",r._key,e,n,s):a6(u,"updateDoc",r._key,e),Df(o,[h.toMutation(r._key,Xn.exists(!0))])}function uu(r){return Df(Tn(r.firestore,wi),[new ag(r._key,Xn.none())])}function e2(r,e){const n=Tn(r.firestore,wi),s=Ht(r),o=ZT(r.converter,e);return Df(n,[GT(Rf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Xn.exists(!1))]).then((()=>s))}function Lu(r,...e){r=ut(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Z1(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Z1(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,m;if(r instanceof mt)h=Tn(r.firestore,wi),m=mf(r._key.path),u={next:p=>{e[s]&&e[s](t2(h,r,p))},error:e[s+1],complete:e[s+2]};else{const p=Tn(r,Cs);h=Tn(p.firestore,wi),m=p._query;const g=new Pg(h);u={next:v=>{e[s]&&e[s](new fa(h,g,p,v))},error:e[s+1],complete:e[s+2]},$T(r._query)}return(function(g,v,T,x){const O=new xg(x),F=new wg(v,O,T);return g.asyncQueue.enqueueAndForget((async()=>bg(await ef(g),F))),()=>{O.Nu(),g.asyncQueue.enqueueAndForget((async()=>Eg(await ef(g),F)))}})(Af(h),m,o,u)}function Df(r,e){return(function(s,o){const u=new yi;return s.asyncQueue.enqueueAndForget((async()=>z3(await W3(s),o,u))),u.promise})(Af(r),e)}function t2(r,e,n){const s=n.docs.get(e._key),o=new Pg(r);return new ha(r,o,e._key,s,new nu(n.hasPendingWrites,n.fromCache),e.converter)}function n2(){return new Cg("serverTimestamp")}(function(e,n=!0){(function(o){Lo=o})(Ta),pa(new gs("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new wi(new aI(s.getProvider("auth-internal")),new uI(h,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ue(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(g.options.projectId,v)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Lr(r1,i1,e),Lr(r1,i1,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="firebasestorage.googleapis.com",i2="storageBucket",d6=120*1e3,m6=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt extends Kr{constructor(e,n,s=0){super(Wm(e),`Firebase Storage: ${n} (${Wm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pt||(pt={}));function Wm(r){return"storage/"+r}function kg(){const r="An unknown error occurred, please check the error payload for server response.";return new gt(pt.UNKNOWN,r)}function p6(r){return new gt(pt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function g6(r){return new gt(pt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function y6(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(pt.UNAUTHENTICATED,r)}function _6(){return new gt(pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function v6(r){return new gt(pt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function b6(){return new gt(pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function E6(){return new gt(pt.CANCELED,"User canceled the upload/download.")}function T6(r){return new gt(pt.INVALID_URL,"Invalid URL '"+r+"'.")}function w6(r){return new gt(pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function A6(){return new gt(pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+i2+"' property when initializing the app?")}function S6(){return new gt(pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function x6(){return new gt(pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function R6(r){return new gt(pt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Np(r){return new gt(pt.INVALID_ARGUMENT,r)}function s2(){return new gt(pt.APP_DELETED,"The Firebase app was deleted.")}function C6(r){return new gt(pt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cu(r,e){return new gt(pt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Xl(r){throw new gt(pt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Vn.makeFromUrl(e,n)}catch{return new Vn(e,"")}if(s.path==="")return s;throw w6(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(ie){ie.path_=decodeURIComponent(ie.path)}const v="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",O=new RegExp(`^https?://${T}/${v}/b/${o}/o${x}`,"i"),F={bucket:1,path:3},Y=n===r2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,B="([^?#]*)",$=new RegExp(`^https?://${Y}/${o}/${B}`,"i"),q=[{regex:m,indices:p,postModify:u},{regex:O,indices:F,postModify:g},{regex:$,indices:{bucket:1,path:2},postModify:g}];for(let ie=0;ie<q.length;ie++){const le=q[ie],ce=le.regex.exec(e);if(ce){const R=ce[le.indices.bucket];let S=ce[le.indices.path];S||(S=""),s=new Vn(R,S),le.postModify(s);break}}if(s==null)throw T6(e);return s}}class I6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(r,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function v(...B){g||(g=!0,e.apply(null,B))}function T(B){o=setTimeout(()=>{o=null,r(O,p())},B)}function x(){u&&clearTimeout(u)}function O(B,...$){if(g){x();return}if(B){x(),v.call(null,B,...$);return}if(p()||h){x(),v.call(null,B,...$);return}s<64&&(s*=2);let q;m===1?(m=2,q=0):q=(s+Math.random())*1e3,T(q)}let F=!1;function Y(B){F||(F=!0,x(),!g&&(o!==null?(B||(m=2),clearTimeout(o),T(0)):B||(m=1)))}return T(0),u=setTimeout(()=>{h=!0,Y(!0)},n),Y}function D6(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(r){return r!==void 0}function M6(r){return typeof r=="object"&&!Array.isArray(r)}function Lg(r){return typeof r=="string"||r instanceof String}function nb(r){return jg()&&r instanceof Blob}function jg(){return typeof Blob<"u"}function rb(r,e,n,s){if(s<e)throw Np(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw Np(`Invalid value for '${r}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(r,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${r}`}function a2(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var da;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(da||(da={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,n,s,o,u,h,m,p,g,v,T,x=!0,O=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=T,this.retry=x,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,Y)=>{this.resolve_=F,this.reject_=Y,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new bh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===da.NO_ERROR,p=u.getStatus();if(!m||V6(p,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===da.ABORT;s(!1,new bh(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new bh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());O6(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=kg();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?s2():E6();h(p)}else{const p=b6();h(p)}};this.canceled_?n(!1,new bh(!1,null,!0)):this.backoffId_=N6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&D6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class bh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function k6(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function L6(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function j6(r,e){e&&(r["X-Firebase-GMPID"]=e)}function U6(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function z6(r,e,n,s,o,u,h=!0,m=!1){const p=a2(r.urlParams),g=r.url+p,v=Object.assign({},r.headers);return j6(v,e),k6(v,n),L6(v,u),U6(v,s),new P6(g,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function q6(...r){const e=B6();if(e!==void 0){const n=new e;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}else{if(jg())return new Blob(r);throw new gt(pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function H6(r,e,n){return r.webkitSlice?r.webkitSlice(e,n):r.mozSlice?r.mozSlice(e,n):r.slice?r.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(r){if(typeof atob>"u")throw R6("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Jm{constructor(e,n){this.data=e,this.contentType=n||null}}function G6(r,e){switch(r){case kr.RAW:return new Jm(o2(e));case kr.BASE64:case kr.BASE64URL:return new Jm(l2(r,e));case kr.DATA_URL:return new Jm(Q6(e),Y6(e))}throw kg()}function o2(r){const e=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=r.charCodeAt(++n);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function K6(r){let e;try{e=decodeURIComponent(r)}catch{throw cu(kr.DATA_URL,"Malformed data URL.")}return o2(e)}function l2(r,e){switch(r){case kr.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw cu(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case kr.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw cu(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=F6(e)}catch(o){throw o.message.includes("polyfill")?o:cu(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class u2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw cu(kr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=X6(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function Q6(r){const e=new u2(r);return e.base64?l2(kr.BASE64,e.rest):K6(e.rest)}function Y6(r){return new u2(r).contentType}function X6(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n){let s=0,o="";nb(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(nb(this.data_)){const s=this.data_,o=H6(s,e,n);return o===null?null:new us(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new us(s,!0)}}static getBlob(...e){if(jg()){const n=e.map(s=>s instanceof us?s.data_:s);return new us(q6.apply(null,n))}else{const n=e.map(h=>Lg(h)?G6(kr.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new us(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(r){let e;try{e=JSON.parse(r)}catch{return null}return M6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function W6(r,e){const n=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?n:r+"/"+n}function h2(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(r,e){return e}class cn{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||J6}}let Eh=null;function Z6(r){return!Lg(r)||r.length<2?r:h2(r)}function f2(){if(Eh)return Eh;const r=[];r.push(new cn("bucket")),r.push(new cn("generation")),r.push(new cn("metageneration")),r.push(new cn("name","fullPath",!0));function e(u,h){return Z6(h)}const n=new cn("name");n.xform=e,r.push(n);function s(u,h){return h!==void 0?Number(h):h}const o=new cn("size");return o.xform=s,r.push(o),r.push(new cn("timeCreated")),r.push(new cn("updated")),r.push(new cn("md5Hash",null,!0)),r.push(new cn("cacheControl",null,!0)),r.push(new cn("contentDisposition",null,!0)),r.push(new cn("contentEncoding",null,!0)),r.push(new cn("contentLanguage",null,!0)),r.push(new cn("contentType",null,!0)),r.push(new cn("metadata","customMetadata",!0)),Eh=r,Eh}function eD(r,e){function n(){const s=r.bucket,o=r.fullPath,u=new Vn(s,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function tD(r,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];s[h.local]=h.xform(s,e[h.server])}return eD(s,r),s}function d2(r,e,n){const s=c2(e);return s===null?null:tD(r,s,n)}function nD(r,e,n,s){const o=c2(e);if(o===null||!Lg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const v=r.bucket,T=r.fullPath,x="/b/"+h(v)+"/o/"+h(T),O=Ug(x,n,s),F=a2({alt:"media",token:g});return O+F})[0]}function rD(r,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=r[u.local])}return JSON.stringify(n)}class m2{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(r){if(!r)throw kg()}function iD(r,e){function n(s,o){const u=d2(r,o,e);return p2(u!==null),u}return n}function sD(r,e){function n(s,o){const u=d2(r,o,e);return p2(u!==null),nD(u,o,r.host,r._protocol)}return n}function g2(r){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=_6():o=y6():n.getStatus()===402?o=g6(r.bucket):n.getStatus()===403?o=v6(r.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function aD(r){const e=g2(r);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=p6(r.path)),u.serverResponse=o.serverResponse,u}return n}function oD(r,e,n){const s=e.fullServerUrl(),o=Ug(s,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,m=new m2(o,u,sD(r,n),h);return m.errorHandler=aD(e),m}function lD(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function uD(r,e,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=lD(null,e)),s}function cD(r,e,n,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let q="";for(let ie=0;ie<2;ie++)q=q+Math.random().toString().slice(2);return q}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=uD(e,s,o),v=rD(g,n),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,x=`\r
--`+p+"--",O=us.getBlob(T,s,x);if(O===null)throw S6();const F={name:g.fullPath},Y=Ug(u,r.host,r._protocol),B="POST",$=r.maxUploadRetryTime,U=new m2(Y,B,iD(r,n),$);return U.urlParams=F,U.headers=h,U.body=O.uploadData(),U.errorHandler=g2(e),U}class hD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=da.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=da.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=da.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw Xl("cannot .send() more than once");if(ws(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Xl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class fD extends hD{initXhr(){this.xhr_.responseType="text"}}function y2(){return new fD}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this._service=e,n instanceof Vn?this._location=n:this._location=Vn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ba(e,n)}get root(){const e=new Vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return h2(this._location.path)}get storage(){return this._service}get parent(){const e=$6(this._location.path);if(e===null)return null;const n=new Vn(this._location.bucket,e);return new ba(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw C6(e)}}function dD(r,e,n){r._throwIfRoot("uploadBytes");const s=cD(r.storage,r._location,f2(),new us(e,!0),n);return r.storage.makeRequestWithTokens(s,y2).then(o=>({metadata:o,ref:r}))}function mD(r){r._throwIfRoot("getDownloadURL");const e=oD(r.storage,r._location,f2());return r.storage.makeRequestWithTokens(e,y2).then(n=>{if(n===null)throw x6();return n})}function pD(r,e){const n=W6(r._location.path,e),s=new Vn(r._location.bucket,n);return new ba(r.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(r){return/^[A-Za-z]+:\/\//.test(r)}function yD(r,e){return new ba(r,e)}function _2(r,e){if(r instanceof zg){const n=r;if(n._bucket==null)throw A6();const s=new ba(n,n._bucket);return e!=null?_2(s,e):s}else return e!==void 0?pD(r,e):r}function _D(r,e){if(e&&gD(e)){if(r instanceof zg)return yD(r,e);throw Np("To use ref(service, url), the first argument must be a Storage instance.")}else return _2(r,e)}function ib(r,e){const n=e?.[i2];return n==null?null:Vn.makeFromBucketSpec(n,r)}function vD(r,e,n,s={}){r.host=`${e}:${n}`;const o=ws(e);o&&(Lp(`https://${r.host}/b`),jp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:jb(u,r.app.options.projectId))}class zg{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=r2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=d6,this._maxUploadRetryTime=m6,this._requests=new Set,o!=null?this._bucket=Vn.makeFromBucketSpec(o,this._host):this._bucket=ib(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vn.makeFromBucketSpec(this._url,e):this._bucket=ib(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ba(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new I6(s2());{const h=z6(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const sb="@firebase/storage",ab="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="storage";function b2(r,e,n){return r=ut(r),dD(r,e,n)}function E2(r){return r=ut(r),mD(r)}function T2(r,e){return r=ut(r),_D(r,e)}function bD(r=Bp(),e){r=ut(r);const s=af(r,v2).getImmediate({identifier:e}),o=Pb("storage");return o&&ED(s,...o),s}function ED(r,e,n,s={}){vD(r,e,n,s)}function TD(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new zg(n,s,o,e,Ta)}function wD(){pa(new gs(v2,TD,"PUBLIC").setMultipleInstances(!0)),Lr(sb,ab,""),Lr(sb,ab,"esm2020")}wD();const AD={apiKey:"AIzaSyBy1WG96BsQgJFd_ZtJiEf1h4Z9N9DlGqI",authDomain:"project-1327142892963748425.firebaseapp.com",projectId:"project-1327142892963748425",storageBucket:"project-1327142892963748425.firebasestorage.app",messagingSenderId:"592248513955",appId:"1:592248513955:web:ad4779ba02c569c6d9a616"},Bg=Bb(AD),Fe=t6(Bg),w2=bD(Bg),$l=AE(Bg),SD=new fi,A2=L.createContext(),Is=()=>L.useContext(A2);function xD({children:r}){const[e,n]=L.useState(null),[s,o]=L.useState(!0);L.useEffect(()=>{const g=FC($l,async v=>{if(v){const T=Ht(Fe,"usuarios",v.uid),x=await Ip(T);if(x.exists()){const O=x.data();n({uid:v.uid,correo:O.correo||v.email,user:O.user||v.displayName,fotoURL:O.fotoURL||v.photoURL})}else await So(T,{correo:v.email,user:v.displayName||"Usuario",fotoURL:v.photoURL||"",uid:v.uid}),n({uid:v.uid,correo:v.email,user:v.displayName,fotoURL:v.photoURL})}else n(null);o(!1)});return()=>g()},[]);const u=async(g,v,T,x)=>{const O=await jC($l,g,T);let F="";if(x){const Y=T2(w2,`perfiles/${O.user.uid}`);await b2(Y,x),F=await E2(Y)}await BC(O.user,{displayName:v,photoURL:F}),await So(Ht(Fe,"usuarios",O.user.uid),{correo:g,user:v,fotoURL:F,uid:O.user.uid})},h=(g,v)=>UC($l,g,v),m=async()=>{const v=(await c4($l,SD)).user,T=Ht(Fe,"usuarios",v.uid);(await Ip(T)).exists()?await xo(T,{user:v.displayName,fotoURL:v.photoURL}):await So(T,{correo:v.email,user:v.displayName,fotoURL:v.photoURL,uid:v.uid})},p=()=>fE($l);return b.jsx(A2.Provider,{value:{usuarioActual:e,registrarUsuario:u,iniciarSesion:h,iniciarConGoogle:m,cerrarSesion:p},children:!s&&r})}function ob(r){return Zt({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(r)}function RD({isOpen:r,onClose:e,user:n}){if(!r)return null;const s=AE(),o=async()=>{try{await fE(s),e(),alert("Sesin cerrada correctamente")}catch(u){console.error("Error al cerrar sesin:",u),alert("Error al cerrar sesin")}};return b.jsx("div",{className:"fixed inset-0 bg-transparent z-40",onClick:u=>u.target===u.currentTarget&&e(),children:b.jsx("div",{className:"absolute top-16 right-4 z-50",children:b.jsxs("div",{className:"bg-[#fff3f0] rounded-2xl shadow-xl w-72 p-4 border border-[#f5bfb2] relative",children:[b.jsx("button",{onClick:e,className:"absolute top-2 right-3 text-gray-500 hover:text-gray-700 text-lg",children:""}),b.jsxs("div",{className:"flex items-center gap-3 mb-4 mt-2",children:[b.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-[#d8718c]",children:b.jsx("img",{src:n?.photoURL||"https://cdn-icons-png.flaticon.com/512/847/847969.png",alt:"Foto de perfil",className:"w-full h-full object-cover"})}),b.jsx("div",{className:"flex flex-col",children:b.jsx("span",{className:"text-sm font-semibold text-[#7a1a0a]",children:n?.displayName||n?.user||"Usuario"})})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(vn,{to:"/perfil",onClick:e,className:"block w-full text-center px-3 py-2 rounded-xl border border-[#f5bfb2] bg-white hover:bg-[#fbe1e7] transition text-sm font-semibold text-[#7a1a0a]",children:"Ver perfil"}),b.jsx("button",{onClick:o,className:"w-full bg-[#d16170] text-white py-2 rounded-xl hover:bg-[#b84c68] transition text-sm font-semibold",children:"Cerrar sesin"})]})]})})})}function lb(){const{usuarioActual:r,iniciarSesion:e,registrarUsuario:n,iniciarConGoogle:s}=Is(),[o,u]=L.useState(!1),[h,m]=L.useState(!1),[p,g]=L.useState(""),[v,T]=L.useState(""),[x,O]=L.useState(!1),[F,Y]=L.useState(""),[B,$]=L.useState(""),[U,q]=L.useState(""),[ie,le]=L.useState(null),ce=async S=>{S.preventDefault();try{await e(p,v),u(!1),alert("Inicio de sesin exitoso!")}catch(C){alert("Error: "+C.message)}},R=async S=>{S.preventDefault();try{await n(F,B,U,ie),m(!1),alert("Cuenta creada correctamente!")}catch(C){alert("Error al registrar: "+C.message)}};return b.jsxs(b.Fragment,{children:[r?b.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-2",children:[b.jsx("img",{src:r.fotoURL||"/default-user.png",alt:"perfil",className:"w-10 h-10 rounded-full border border-[#d8718c]",onClick:()=>O(!0)}),b.jsx("span",{className:"text-[#7a1a0a] font-semibold",children:r.user.length>15?r.user.split(" ")[0]:r.user})]}):b.jsx("button",{onClick:()=>u(!0),className:"bg-[#fff3f0] border border-[#da6786] text-[#da6786] font-semibold px-4 py-1 rounded-xl hover:bg-[#f5bfb2] transition",children:"Iniciar sesin"}),o&&b.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",onClick:S=>S.target===S.currentTarget&&u(!1),children:b.jsxs("div",{className:"bg-[#fff3f0] rounded-2xl shadow-lg w-[90%] max-w-md p-8 text-center border border-[#f5bfb2]",children:[b.jsx("h2",{className:"text-3xl font-bold text-[#8f2133] mb-6",children:"Bienvenido"}),b.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[b.jsx("input",{type:"email",placeholder:"Correo",value:p,onChange:S=>g(S.target.value),className:"w-full bg-white border border-[#f5bfb2] text-[#7a1a0a] px-4 py-3 rounded-xl focus:ring-2 focus:ring-[#d8718c]"}),b.jsx("input",{type:"password",placeholder:"Contrasea",value:v,onChange:S=>T(S.target.value),className:"w-full bg-white border border-[#f5bfb2] text-[#7a1a0a] px-4 py-3 rounded-xl focus:ring-2 focus:ring-[#d8718c]"}),b.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[b.jsx("button",{type:"submit",className:"bg-[#d16170] text-white py-3 rounded-xl hover:bg-[#b84c68] transition font-semibold",children:"Iniciar sesin"}),b.jsxs("button",{type:"button",onClick:s,className:"flex items-center justify-center gap-2 border border-[#d8718c] text-[#d8718c] py-3 rounded-xl hover:bg-[#f5bfb2] transition font-semibold",children:[b.jsx(ob,{className:"text-xl"})," Google"]})]})]}),b.jsxs("p",{className:"text-[#7a1a0a] mt-5 text-sm",children:["No tienes cuenta?"," ",b.jsx("button",{onClick:()=>{u(!1),m(!0)},className:"text-[#d8718c] font-semibold hover:underline",children:"Regstrate aqu"})]})]})}),h&&b.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",onClick:S=>S.target===S.currentTarget&&m(!1),children:b.jsxs("div",{className:"bg-[#fff3f0] rounded-2xl shadow-lg w-[90%] max-w-md p-8 text-center border border-[#f5bfb2]",children:[b.jsx("h2",{className:"text-3xl font-bold text-[#8f2133] mb-6",children:"Crear cuenta"}),b.jsxs("form",{onSubmit:R,className:"space-y-4",children:[b.jsx("input",{type:"email",placeholder:"Correo",value:F,onChange:S=>Y(S.target.value),className:"w-full bg-white border border-[#f5bfb2] px-4 py-3 rounded-xl"}),b.jsx("input",{type:"text",placeholder:"Usuario",value:B,onChange:S=>$(S.target.value),className:"w-full bg-white border border-[#f5bfb2] px-4 py-3 rounded-xl"}),b.jsx("input",{type:"password",placeholder:"Contrasea",value:U,onChange:S=>q(S.target.value),className:"w-full bg-white border border-[#f5bfb2] px-4 py-3 rounded-xl"}),b.jsx("input",{type:"file",accept:"image/*",onChange:S=>le(S.target.files[0]),className:"w-full bg-white border border-[#f5bfb2] px-4 py-3 rounded-xl"}),b.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[b.jsx("button",{type:"submit",className:"bg-[#d16170] text-white py-3 rounded-xl hover:bg-[#b84c68] transition font-semibold",children:"Crear cuenta"}),b.jsxs("button",{type:"button",onClick:s,className:"flex items-center justify-center gap-2 border border-[#d8718c] text-[#d8718c] py-3 rounded-xl hover:bg-[#f5bfb2] transition font-semibold",children:[b.jsx(ob,{className:"text-xl"})," Google"]})]})]}),b.jsxs("p",{className:"text-[#7a1a0a] mt-5 text-sm",children:["Ya tienes cuenta?"," ",b.jsx("button",{onClick:()=>{m(!1),u(!0)},className:"text-[#d8718c] font-semibold hover:underline",children:"Inicia sesin"})]})]})}),r&&b.jsx(RD,{isOpen:x,onClose:()=>O(!1),user:{uid:r.uid,email:r.correo,displayName:r.user,photoURL:r.fotoURL}})]})}function CD(){const[r,e]=L.useState(!1);return b.jsx("header",{className:"bg-[#ffc8ce] shadow-md sticky top-0 z-50",children:b.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex justify-between items-center",children:[b.jsxs(vn,{to:"/",className:"text-2xl font-extrabold tracking-wide text-[#da6786]",children:["BOM",b.jsx("span",{className:"text-[#8a152e]",children:"BOCADO"})]}),b.jsx("button",{onClick:()=>e(!r),className:"text-[#7a1a0a] text-2xl md:hidden transition-transform duration-300","aria-label":"Abrir men",children:r?b.jsx(Nb,{}):b.jsx($S,{})}),b.jsxs("nav",{className:`${r?"max-h-112 py-4":"max-h-0"} md:max-h-none md:py-0 
          overflow-hidden flex flex-col md:flex-row md:items-center md:gap-6 
          absolute md:static top-full left-0 w-full md:w-auto bg-[#fff3f0] md:bg-transparent 
          shadow-md md:shadow-none transition-all duration-500 ease-in-out text-center`,children:[b.jsx(vn,{to:"/",className:"text-[#7a1a0a] font-semibold py-2 hover:text-[#e46945]",children:"Inicio"}),b.jsx(vn,{to:"/productos",className:"text-[#7a1a0a] font-semibold py-2 hover:text-[#e46945]",children:"Productos"}),b.jsx(vn,{to:"/nosotros",className:"text-[#7a1a0a] font-semibold py-2 hover:text-[#e46945]",children:"Nosotros"}),b.jsx(vn,{to:"/contacto",className:"text-[#7a1a0a] font-semibold py-2 hover:text-[#e46945]",children:"Contacto"}),b.jsx(vn,{to:"/novedades",className:"text-[#7a1a0a] font-semibold py-2 hover:text-[#e46945]",children:"Novedades"}),b.jsx("div",{className:"hidden md:block",children:b.jsx(lb,{})}),b.jsx("div",{className:"block md:hidden mt-4 border-t border-[#f5bfb2] pt-4",children:b.jsx(lb,{})})]})]})})}const S2=L.createContext(),ID=({children:r})=>{const{usuarioActual:e}=Is(),[n,s]=L.useState([]),[o,u]=L.useState(!1),[h,m]=L.useState(!1),[p,g]=L.useState(null),v=()=>{let U=sessionStorage.getItem("guestId");return U||(U="guest-"+Math.random().toString(36).substring(2,15),sessionStorage.setItem("guestId",U)),U};L.useEffect(()=>{const U=e?e.uid:v();console.log(" Escuchando carrito para:",U);const q=ur(nn(Fe,"carrito"),On("userId","==",U)),ie=Lu(q,le=>{const ce=le.docs.map(R=>({id:R.id,...R.data()}));console.log(" Snapshot recibido de Firestore:",ce),s(ce)});return()=>{console.log(" Cancelando suscripcin del carrito"),ie()}},[e]),L.useEffect(()=>{(async()=>{if(!e)return;const q=sessionStorage.getItem("guestId");if(!q)return;const ie=ur(nn(Fe,"carrito"),On("userId","==",q)),le=await go(ie);for(const ce of le.docs){const R=ce.data(),S=ur(nn(Fe,"carrito"),On("userId","==",e.uid),On("id","==",R.id)),C=await go(S);C.empty?await So(Ht(nn(Fe,"carrito")),{...R,userId:e.uid}):C.forEach(async D=>{const M=D.data();await xo(Ht(Fe,"carrito",D.id),{cantidad:(M.cantidad||1)+(R.cantidad||1)})}),await uu(Ht(Fe,"carrito",ce.id))}console.log("Carrito guest fusionado con el de usuario."),sessionStorage.removeItem("guestId")})()},[e]);const T=async U=>{const q=U.id||U.productoId||U.nombre;if(!q)return console.error(" Producto sin ID");const ie=e?e.uid:v();console.log(" Agregando producto:",U,"para",ie);const le=ur(nn(Fe,"carrito"),On("userId","==",ie),On("id","==",q)),ce=await go(le);if(ce.empty){const R=Ht(nn(Fe,"carrito"));await So(R,{...U,cantidad:1,userId:ie,id:q})}else ce.forEach(async R=>{const S=R.data();await xo(Ht(Fe,"carrito",R.id),{cantidad:(S.cantidad||1)+1})})},x=async(U,q)=>{const ie=e?e.uid:v(),le=ur(nn(Fe,"carrito"),On("userId","==",ie),On("id","==",U));(await go(le)).forEach(async R=>{const S=R.data(),C=Math.max(1,(S.cantidad||1)+q);await xo(Ht(Fe,"carrito",R.id),{cantidad:C})})},O=async U=>{const q=e?e.uid:v(),ie=ur(nn(Fe,"carrito"),On("userId","==",q),On("id","==",U));(await go(ie)).forEach(async ce=>{await uu(Ht(Fe,"carrito",ce.id))})},F=async()=>{const U=e?e.uid:v(),q=ur(nn(Fe,"carrito"),On("userId","==",U));(await go(q)).forEach(async le=>{await uu(Ht(Fe,"carrito",le.id))})},Y=n.reduce((U,q)=>U+(q.precio||0)*(q.cantidad||1),0),B=n.reduce((U,q)=>U+(q.cantidad||0),0),$=async({nombre:U,direccion:q,metodoPago:ie})=>{if(!e)throw new Error("Debes iniciar sesin para realizar el pago");if(n.length===0)throw new Error("Tu carrito est vaco");m(!0),g(null);try{const ce=Y+5,R=Ht(nn(Fe,"pedidos"));return await So(R,{id:R.id,userId:e.uid,nombreCliente:U,direccionEnvio:q,metodoPago:ie,items:n.map(S=>({id:S.id,nombre:S.nombre||S.nombreProducto||"Producto sin nombre",precio:S.precio||0,cantidad:S.cantidad||1,imagen:S.imagen||null})),delivery:5,totalProductos:B,subtotal:Y,totalFinal:ce,fechaCreacion:new Date}),await F(),m(!1),R.id}catch(le){throw console.error(" Error al registrar pedido:",le),g(le.message),m(!1),le}};return b.jsx(S2.Provider,{value:{carrito:n,agregarProducto:T,eliminarProducto:O,cambiarCantidad:x,vaciarCarrito:F,total:Y,totalProductos:B,mostrarCarrito:o,setMostrarCarrito:u,realizarPago:$,cargandoPago:h,errorPago:p},children:r})},qg=()=>L.useContext(S2);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DD=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),ub=r=>{const e=DD(r);return e.charAt(0).toUpperCase()+e.slice(1)},x2=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),OD=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=L.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>L.createElement("svg",{ref:p,...MD,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:x2("lucide",o),...!u&&!OD(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,v])=>L.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=(r,e)=>{const n=L.forwardRef(({className:s,...o},u)=>L.createElement(VD,{ref:u,iconNode:e,className:x2(`lucide-${ND(ub(r))}`,`lucide-${r}`,s),...o}));return n.displayName=ub(r),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],kD=R2("shopping-cart",PD);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],C2=R2("trash-2",LD);function jD(){const{carrito:r,vaciarCarrito:e,eliminarProducto:n,cambiarCantidad:s,total:o,mostrarCarrito:u,setMostrarCarrito:h,totalProductos:m,realizarPago:p,cargandoPago:g,errorPago:v}=qg(),{usuarioActual:T}=Is(),[x,O]=L.useState(!1),[F,Y]=L.useState(!1),[B,$]=L.useState(""),[U,q]=L.useState(""),[ie,le]=L.useState(""),ce=()=>h(!1),R=()=>{if(!T){alert("Debes iniciar sesin para continuar con la compra ");return}O(!0)},S=()=>O(!1),C=async D=>{D.preventDefault();try{await p({nombre:B,direccion:U,metodoPago:ie}),O(!1),h(!1),Y(!0),$(""),q(""),le(""),setTimeout(()=>Y(!1),4e3)}catch(M){console.error(M),alert("Hubo un problema al procesar tu pedido. Intenta de nuevo.")}};return b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:()=>h(!u),className:"fixed bottom-6 right-6 bg-[#d16170] hover:bg-[#b84c68] text-white p-4 rounded-full shadow-xl transition-all duration-300 z-50",children:[b.jsx(kD,{size:26}),m>0&&b.jsx("span",{className:"absolute -top-1 -right-2 bg-[#fff3f0] text-[#9c2007] text-sm font-bold rounded-full w-6 h-6 flex items-center justify-center border border-[#d8718c]",children:m})]}),u&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:ce}),b.jsxs("div",{className:"fixed bottom-20 right-6 bg-[#fff3f0] w-80 rounded-2xl shadow-2xl p-6 border border-[#f5bfb2] z-50 animate-slide-left",children:[b.jsx("button",{className:"text-3xl text-[#d8718c] hover:text-[#b84c68] transition absolute top-2 right-4",onClick:ce,children:""}),b.jsx("h3",{className:"text-2xl font-bold text-[#9c2007] mb-5 text-center",children:"Tu carrito"}),b.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 pr-2 max-h-60",children:r.length===0?b.jsx("p",{className:"text-center text-[#9c2007]/70 italic",children:"Tu carrito est vaco"}):r.map(D=>b.jsxs("div",{className:"flex items-center justify-between bg-white/70 border border-[#f5bfb2] rounded-2xl p-3 shadow-sm",children:[b.jsx("img",{src:D.imagen,alt:D.nombre||"Producto",className:"w-16 h-16 object-cover rounded-xl border border-[#f5bfb2]"}),b.jsxs("div",{className:"flex-1 px-3",children:[b.jsx("strong",{className:"block text-[#7a1a0a]",children:D.nombre||D.nombreProducto||"Producto sin nombre"}),b.jsxs("span",{className:"text-sm text-gray-600",children:["S/",(D.precio||0).toFixed(2)," x ",D.cantidad||1]})]}),b.jsxs("div",{className:"flex flex-col items-center gap-1",children:[b.jsx("button",{onClick:()=>s(D.id,1),className:"px-2 bg-[#f5bfb2] hover:bg-[#d8718c]/50 rounded-lg transition",children:"+"}),b.jsx("button",{onClick:()=>s(D.id,-1),className:"px-2 bg-[#f5bfb2] hover:bg-[#d8718c]/50 rounded-lg transition",children:"-"}),b.jsx("button",{onClick:()=>n(D.id),className:"p-1.5 rounded-lg hover:bg-[#fff3f0] transition text-[#d16170]",title:"Eliminar producto",children:b.jsx(C2,{size:18})})]})]},D.id))}),r.length>0&&b.jsxs("div",{className:"mt-5 space-y-2",children:[b.jsxs("p",{className:"font-semibold text-[#7a1a0a] text-center",children:["Total: S/",o.toFixed(2)]}),b.jsx("button",{onClick:R,className:`w-full py-3 rounded-xl font-semibold transition ${T?"bg-[#d16170] text-white hover:bg-[#b84c68]":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,disabled:!T,children:"Ir a pagar"}),b.jsx("button",{onClick:e,className:"w-full py-2 rounded-xl text-sm border border-[#d8718c] text-[#d8718c] hover:bg-[#f5bfb2]/50 transition",children:"Vaciar carrito"})]})]})]}),x&&b.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center",onClick:D=>D.target===D.currentTarget&&S(),children:b.jsxs("div",{className:"bg-[#fff3f0] rounded-3xl p-8 w-[90%] max-w-md shadow-2xl border border-[#f5bfb2]",children:[b.jsx("h2",{className:"text-2xl font-bold text-[#9c2007] mb-4 text-center",children:"Finaliza tu compra"}),v&&b.jsx("p",{className:"mb-3 text-sm text-red-600 text-center",children:v}),b.jsxs("form",{onSubmit:C,className:"space-y-4",children:[b.jsx("input",{type:"text",placeholder:"Nombre completo",required:!0,value:B,onChange:D=>$(D.target.value),className:"border border-[#f5bfb2] bg-white rounded-xl w-full p-3 focus:ring-2 focus:ring-[#d8718c]"}),b.jsx("input",{type:"text",placeholder:"Direccin de envo",required:!0,value:U,onChange:D=>q(D.target.value),className:"border border-[#f5bfb2] bg-white rounded-xl w-full p-3 focus:ring-2 focus:ring-[#d8718c]"}),b.jsxs("select",{required:!0,value:ie,onChange:D=>le(D.target.value),className:"border border-[#f5bfb2] bg-white rounded-xl w-full p-3 focus:ring-2 focus:ring-[#d8718c]",children:[b.jsx("option",{value:"",children:"Mtodo de pago"}),b.jsx("option",{value:"tarjeta",children:"Tarjeta"}),b.jsx("option",{value:"yape",children:"Yape"}),b.jsx("option",{value:"plin",children:"Plin"}),b.jsx("option",{value:"contraentrega",children:"Contra entrega"})]}),b.jsxs("div",{className:"text-[#7a1a0a] text-sm space-y-1",children:[b.jsxs("p",{children:[b.jsx("strong",{children:"Subtotal:"})," S/",o.toFixed(2)]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Envo:"})," S/5.00"]}),b.jsxs("p",{className:"font-semibold text-[#9c2007]",children:["Total final: S/",(o+5).toFixed(2)]})]}),b.jsxs("div",{className:"flex gap-3 mt-4",children:[b.jsx("button",{type:"submit",disabled:g,className:"flex-1 bg-[#d16170] text-white py-3 rounded-xl hover:bg-[#b84c68] transition font-semibold disabled:opacity-60 disabled:cursor-not-allowed",children:g?"Procesando...":"Finalizar compra"}),b.jsx("button",{type:"button",onClick:S,className:"flex-1 border border-[#d8718c] text-[#d8718c] rounded-xl hover:bg-[#f5bfb2]/50 transition",children:"Cancelar"})]})]})]})}),F&&b.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center",children:b.jsxs("div",{className:"bg-[#fff3f0] p-6 rounded-3xl shadow-xl text-center border border-[#f5bfb2]",children:[b.jsx("h2",{className:"text-2xl text-[#9c2007] font-bold mb-3",children:"Gracias por tu compra!"}),b.jsx("img",{src:`https://i.postimg.cc/${["SsLjzJ0b/1.png","50zK5WpV/2.png","nrtR0Sw-Q/3.png","R0HLyQt1/4.png","Jz9bNDFs/5.png"][Math.floor(Math.random()*5)]}`,alt:"Gracias",className:"rounded-2xl mx-auto w-48"})]})})]})}function UD(){return b.jsx("footer",{className:"w-full overflow-x-hidden bg-[#fdd2d7] text-[#9c2007] border-t border-[#f5bfb2] shadow-[0_24px_48px_-8px_#d8718c26]",children:b.jsxs("div",{className:"max-w-6xl mx-auto px-4 md:px-8 py-12 flex flex-col lg:flex-row justify-between items-start gap-10",children:[b.jsxs("div",{className:"flex-1 space-y-4",children:[b.jsx("h3",{className:"text-2xl font-semibold text-[#d8718c] mb-4",children:"Informacin de contacto"}),b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx(ex,{className:"text-xl text-[#a04f66] mt-1"}),b.jsxs("p",{className:"text-sm leading-relaxed",children:[b.jsx("strong",{children:"Ubicacin:"})," ",b.jsx("a",{href:"https://www.google.com/maps/place/Av.+Primavera+123,+Miraflores,+Lima,+Per",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#e46945] transition-colors",children:"Av. Primavera 123, Miraflores, Lima, Per"})]})]}),b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx(tx,{className:"text-xl text-[#a04f66] mt-1"}),b.jsxs("p",{className:"text-sm leading-relaxed",children:[b.jsx("strong",{children:"Telfono:"})," ",b.jsx("a",{href:"tel:+51987654321",className:"hover:text-[#e46945] transition-colors",children:"+51 987 654 321"})," ","|"," ",b.jsxs("a",{href:"https://wa.me/51987654321",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#25D366] transition-colors inline-flex items-center gap-1",children:[b.jsx(XS,{})," WhatsApp"]})]})]}),b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx(Ib,{className:"text-xl text-[#a04f66] mt-1"}),b.jsxs("p",{className:"text-sm leading-relaxed",children:[b.jsx("strong",{children:"Correo:"})," ",b.jsx("a",{href:"mailto:pedidos@bombocado.com",className:"hover:text-[#e46945] transition-colors",children:"pedidos@bombocado.com"})]})]}),b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx(WS,{className:"text-xl text-[#a04f66] mt-1"}),b.jsxs("p",{className:"text-sm leading-relaxed",children:[b.jsx("strong",{children:"Horario:"})," Lun a Vie: 8AM - 8PM | Sb: 9AM - 7PM | Dom: 9AM - 6PM"]})]}),b.jsxs("div",{className:"mt-6 space-y-2",children:[b.jsx("div",{className:"bg-[#f5bfb2] text-[#9c2007] px-4 py-2 rounded-full text-sm inline-block shadow-sm",children:"Delivery gratis por compras mayores a S/. 45.00"}),b.jsxs("p",{className:"text-sm text-[#333] max-w-md leading-relaxed",children:["No te pierdas nuestras"," ",b.jsx("span",{className:"text-[#d8718c] font-semibold",children:"novedades"}),","," ",b.jsx("span",{className:"text-[#d8718c] font-semibold",children:"promociones"})," ","y los momentos ms dulces de nuestro da a da."]})]})]}),b.jsxs("div",{className:"flex-1 flex flex-col items-center gap-6 w-full max-w-md",children:[b.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3900.9560470969716!2d-77.03926262503623!3d-12.13166258816737!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9105b7e1b4b5a533%3A0xa549043226dcfb18!2sBuenavista%20Caf%C3%A9!5e0!3m2!1ses-419!2spe!4v1753934291804!5m2!1ses-419!2spe",width:"100%",height:"250",className:"rounded-2xl shadow-md border-none",allowFullScreen:!0,loading:"lazy",title:"Mapa de ubicacin"}),b.jsxs("div",{className:"flex flex-col items-center text-center",children:[b.jsx("p",{className:"font-semibold mb-2 text-[#9c2007]",children:"Sguenos en"}),b.jsxs("div",{className:"flex gap-6 text-2xl",children:[b.jsx("a",{href:"#",className:"text-[#d8718c] hover:scale-110 hover:text-[#e46945] transition-transform duration-300","aria-label":"Instagram",children:b.jsx(QS,{})}),b.jsx("a",{href:"#",className:"text-[#d8718c] hover:scale-110 hover:text-[#e46945] transition-transform duration-300","aria-label":"Facebook",children:b.jsx(KS,{})}),b.jsx("a",{href:"#",className:"text-[#d8718c] hover:scale-110 hover:text-[#e46945] transition-transform duration-300","aria-label":"TikTok",children:b.jsx(YS,{})})]})]})]})]})})}function zD(){const{usuarioActual:r}=Is(),[e,n]=L.useState([]),[s,o]=L.useState(null),[u,h]=L.useState({mensaje:"",estrellas:0}),[m,p]=L.useState(0),g=["danportaleshinostroza@crackthecode.la","zanadrianzenbohorquez@crackthecode.la","marandersonsantillan@crackthecode.la","shavalerianoblas@crackthecode.la","pet123@gmail.com"];L.useEffect(()=>{const q=ur(nn(Fe,"testimonios"),Vg("createdAt","desc")),ie=Lu(q,le=>{const ce=le.docs.map(R=>({id:R.id,...R.data()}));n(ce)});return()=>ie()},[]),L.useEffect(()=>{const q=setInterval(()=>{p(ie=>e.length===0||ie+2>=e.length?0:ie+2)},5e3);return()=>clearInterval(q)},[e]);const v=r?.email?.toLowerCase().trim(),T=r&&g.includes(v),x=q=>r&&r.uid===q.userUid,O=q=>T||x(q),F=async q=>{if(window.confirm("Seguro que quieres eliminar este testimonio?"))try{await uu(Ht(Fe,"testimonios",q))}catch(ie){console.error("Error al eliminar:",ie)}},Y=q=>{O(q)&&(o(q.id),h({mensaje:q.mensaje,estrellas:q.estrellas}))},B=async()=>{if(!u.mensaje||u.estrellas===0){alert("El comentario y las estrellas no pueden estar vacos.");return}try{const q=Ht(Fe,"testimonios",s);await xo(q,{mensaje:u.mensaje,estrellas:u.estrellas,updatedAt:n2()}),o(null)}catch(q){console.error("Error al actualizar:",q)}},$=()=>o(null),U=e.slice(m,m+2);return b.jsxs("section",{className:"text-center px-6 md:px-12 py-12 bg-[#fff3f0]",children:[b.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#8f2133] mb-10",children:"Opiniones de nuestros clientes"}),b.jsx("div",{className:"flex flex-col md:flex-row justify-center gap-8 max-w-4xl mx-auto min-h-[250px]",children:U.length===0?b.jsx("p",{className:"text-gray-500",children:"An no hay testimonios."}):U.map(q=>{const ie=s===q.id,le=O(q);return b.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg w-full md:w-1/2 text-left",children:[b.jsxs("div",{className:"flex justify-between items-start mb-3",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-semibold text-2xl text-[#7a1a0a] ",children:q.nombre}),q.createdAt&&b.jsx("p",{className:"text-sm text-gray-500 mt-1",children:new Date(q.createdAt.seconds*1e3).toLocaleDateString("es-PE",{day:"2-digit",month:"2-digit",year:"numeric"})}),b.jsx("div",{className:"flex",children:[...Array(q.estrellas)].map((ce,R)=>b.jsx(tp,{size:22,color:"#ffc107",className:"mr-1"},R))})]}),le&&b.jsx("div",{className:"flex gap-2 text-gray-600",children:ie?b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:B,className:"hover:text-green-600",children:b.jsx(nx,{size:14})}),b.jsx("button",{onClick:$,className:"hover:text-red-600",children:b.jsx(Nb,{size:14})})]}):b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>Y(q),className:"hover:text-blue-600",children:b.jsx(ZS,{size:14})}),b.jsx("button",{onClick:()=>F(q.id),className:"hover:text-red-600",children:b.jsx(rx,{size:14})})]})})]}),ie?b.jsxs(b.Fragment,{children:[b.jsx("textarea",{value:u.mensaje,onChange:ce=>h({...u,mensaje:ce.target.value}),className:"border rounded w-full p-2 my-3 h-12"}),b.jsx("div",{className:"flex mb-3",children:[...Array(5)].map((ce,R)=>b.jsx(tp,{size:18,className:"cursor-pointer mr-1",color:R+1<=u.estrellas?"#ffc107":"#ccc",onClick:()=>h({...u,estrellas:R+1})},R))})]}):b.jsxs("p",{className:"italic text-gray-700 text-xl",children:['"',q.mensaje,'"']})]},q.id)})})]})}const Of="/Bom-bocado/assets/Bom-DmbF6gvu.png";function BD(){return b.jsx(b.Fragment,{children:b.jsxs("main",{className:"bg-[#fff3f0] py-0 px-0 pb-20 space-y-16",children:[b.jsxs("section",{className:"w-full flex flex-col md:flex-row items-center justify-center bg-[#d16170] text-white",children:[b.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center items-center text-center py-16 space-y-6",children:[b.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Postres nicos"}),b.jsxs("p",{className:"text-[#fff3f0] text-lg leading-relaxed max-w-lg px-4",children:["En"," ",b.jsx("span",{className:"font-semibold text-[#f5bfb2]",children:"Bom Bocado"})," ","creamos repostera fina con amor, ingredientes seleccionados y detalles nicos. Perfectos para regalar o disfrutar en familia."]}),b.jsx(vn,{to:"/productos",className:"inline-block px-8 py-3 bg-[#fff3f0] text-[#9c2007] font-semibold rounded-xl hover:bg-[#f5bfb2] transition",children:"Hacer pedido"})]}),b.jsx("div",{className:"w-full md:w-1/2 flex justify-center py-10",children:b.jsx("img",{src:Of,alt:"Torta decorada",className:"w-[45%] md:w-[53%] h-auto object-contain"})})]}),b.jsxs("section",{className:"text-center px-6 md:px-12",children:[b.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#8f2133] mb-14",children:"Lo ms Vendido!"}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[b.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-500 ease-out",children:[b.jsx("img",{src:"https://i.pinimg.com/1200x/a5/75/8c/a5758c95cfd57b1c1d1292f0a0be02ec.jpg",alt:"Macaloves - Macarons de Amor",className:"w-full h-56 object-cover transition-transform duration-500 hover:scale-105"}),b.jsxs("div",{className:"p-5 text-center",children:[b.jsx("h3",{className:"font-semibold text-lg text-[#7a1a0a] mb-2",children:"Macaloves  Macarons de Amor"}),b.jsx(vn,{to:"/productos",className:"text-[#d8718c] font-medium hover:underline",children:"Ver ms "})]})]}),b.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-500 ease-out",children:[b.jsx("img",{src:"https://i.pinimg.com/736x/d1/8f/da/d18fdaa9cd95c431e6fb77c53cda987d.jpg",alt:"Strawberry Cloud Croissant",className:"w-full h-56 object-cover transition-transform duration-500 hover:scale-105"}),b.jsxs("div",{className:"p-5 text-center",children:[b.jsx("h3",{className:"font-semibold text-lg text-[#7a1a0a] mb-2",children:"Strawberry Cloud Croissant"}),b.jsx(vn,{to:"/productos",className:"text-[#d8718c] font-medium hover:underline",children:"Ver ms "})]})]}),b.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-500 ease-out",children:[b.jsx("img",{src:"https://i.pinimg.com/1200x/02/a1/00/02a10030eaed821b1525560b18e4b7b8.jpg",alt:"Heartful Bites - Galletas de Amor",className:"w-full h-56 object-cover transition-transform duration-500 hover:scale-105"}),b.jsxs("div",{className:"p-5 text-center",children:[b.jsx("h3",{className:"font-semibold text-lg text-[#7a1a0a] mb-2",children:"Heartful Bites  Galletas de Amor"}),b.jsx(vn,{to:"/novedades",className:"text-[#d8718c] font-medium hover:underline",children:"Ver ms "})]})]}),b.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-500 ease-out",children:[b.jsx("img",{src:"https://i.pinimg.com/736x/e0/99/63/e099634012685ea760aa16416f208467.jpg",alt:"Cherry Kiss Pie",className:"w-full h-56 object-cover transition-transform duration-500 hover:scale-105"}),b.jsxs("div",{className:"p-5 text-center",children:[b.jsx("h3",{className:"font-semibold text-lg text-[#7a1a0a] mb-2",children:"Cherry Kiss Pie"}),b.jsx(vn,{to:"/productos",className:"text-[#d8718c] font-medium hover:underline",children:"Ver ms "})]})]})]})]}),b.jsxs("div",{className:"bg-[#fff3f0]",children:[b.jsx(zD,{})," "]})]})})}function qD(){return b.jsxs("div",{className:"bg-[#fff3f0] min-h-screen pb-20",children:[b.jsxs("section",{className:"w-full flex flex-col md:flex-row items-center justify-center bg-[#d16170] text-white mb-16",children:[b.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center items-center text-center py-16 space-y-6 px-6",children:[b.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Conoce Bom Bocado"}),b.jsxs("p",{className:"text-[#fff3f0] text-lg leading-relaxed max-w-lg px-4",children:["En"," ",b.jsx("span",{className:"font-semibold text-[#f5bfb2]",children:"Bom Bocado"})," cada postre se prepara con"," ",b.jsx("span",{className:"font-semibold text-[#f5bfb2]",children:"amor, dedicacin"})," ","y los ingredientes ms frescos."]}),b.jsx("p",{className:"text-[#fff3f0] text-lg leading-relaxed max-w-lg px-4",children:"nete a nuestra familia de amantes del dulce y descubre por qu cada bocado es especial."})]}),b.jsx("div",{className:"w-full md:w-1/2 flex justify-center py-10 px-6",children:b.jsx("img",{src:Of,alt:"Equipo Bom Bocado",className:"w-[45%] md:w-[53%] h-auto object-contain"})})]}),b.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-12 mt-20",children:[b.jsxs("div",{className:"text-center mb-16 space-y-6",children:[b.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-[#9c2007] tracking-tight",children:"Nuestra Historia"}),b.jsxs("p",{className:"text-gray-700 text-lg md:text-xl leading-relaxed max-w-3xl mx-auto",children:["Desde nuestros inicios, en"," ",b.jsx("span",{className:"font-semibold text-[#d8718c]",children:"Bom Bocado"})," nos enfocamos en crear postres artesanales que transformen momentos cotidianos en experiencias inolvidables. Cada receta est hecha con pasin, tradicin y creatividad."]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12",children:[b.jsx("div",{className:"overflow-hidden rounded-3xl shadow-xl border border-[#f5bfb2] bg-white group",children:b.jsx("img",{src:"/Centro.png",alt:"Equipo Bom Bocado",className:"w-full h-80 md:h-[450px] object-cover group-hover:scale-105 transition-transform duration-700"})}),b.jsx("div",{className:"overflow-hidden rounded-3xl shadow-xl border border-[#f5bfb2] bg-white group",children:b.jsx("img",{src:"/Centro2.png",alt:"Taller de postres",className:"w-full h-80 md:h-[450px] object-cover group-hover:scale-105 transition-transform duration-700"})})]})]}),b.jsx("div",{className:"my-10 flex justify-center",children:b.jsx("div",{className:"w-2/3 h-0.5 bg-[#d8718c] rounded-full opacity-70"})}),b.jsx("section",{className:"max-w-7xl mx-auto px-6 md:px-12 mt-10",children:b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10",children:[b.jsxs("div",{className:"bg-white border border-[#f5bfb2] rounded-3xl shadow-lg hover:shadow-2xl hover:-translate-y-2 transition-all overflow-hidden",children:[b.jsx("img",{src:"/Mision.png",alt:"Nuestra Misin",className:"w-full h-60 object-cover rounded-t-3xl"}),b.jsxs("div",{className:"p-6 text-center",children:[b.jsx("h3",{className:"text-2xl font-semibold text-[#9c2007] mb-3",children:"Nuestra Misin"}),b.jsx("p",{className:"text-gray-600 text-base leading-relaxed",children:"Alegrar a nuestros clientes con postres artesanales, frescos y deliciosos, preparados con pasin, amor y cuidado."})]})]}),b.jsxs("div",{className:"bg-white border border-[#f5bfb2] rounded-3xl shadow-lg hover:shadow-2xl hover:-translate-y-2 transition-all overflow-hidden",children:[b.jsx("img",{src:"/Vision.jpg",alt:"Nuestra Visin",className:"w-full h-60 object-cover rounded-t-3xl"}),b.jsxs("div",{className:"p-6 text-center",children:[b.jsx("h3",{className:"text-2xl font-semibold text-[#9c2007] mb-3",children:"Nuestra Visin"}),b.jsx("p",{className:"text-gray-600 text-base leading-relaxed",children:"Ser la pastelera peruana que ms transmite amor y dedicacin en cada creacin, llevando el dulce a todos los rincones del pas."})]})]}),b.jsxs("div",{className:"bg-white border border-[#f5bfb2] rounded-3xl shadow-lg hover:shadow-2xl hover:-translate-y-2 transition-all overflow-hidden",children:[b.jsx("img",{src:"/Buscamos.png",alt:"Nuestros Valores",className:"w-full h-60 object-cover rounded-t-3xl"}),b.jsxs("div",{className:"p-6 text-center",children:[b.jsx("h3",{className:"text-2xl font-semibold text-[#9c2007] mb-3",children:"Nuestros Valores"}),b.jsx("p",{className:"text-gray-600 text-base leading-relaxed",children:"Compromiso, creatividad y pasin en cada detalle. Mantener la esencia artesanal que nos caracteriza y crear momentos dulces memorables."})]})]})]})})]})}function HD({filtro:r,setFiltro:e}){const n=s=>{const{name:o,value:u}=s.target;e(h=>({...h,[o]:u}))};return b.jsxs("div",{className:"flex flex-wrap gap-4 justify-center md:justify-end mt-6",children:[b.jsx("input",{type:"text",name:"nombre",placeholder:"Buscar por nombre...",value:r.nombre,onChange:n,className:"rounded-lg border border-[#f5bfb2] bg-white p-2 w-56 font-medium text-[#9c2007] placeholder:text-[#d8718c] focus:outline-none focus:ring-2 focus:ring-[#d16170]"}),b.jsxs("select",{name:"categoria",value:r.categoria,onChange:n,className:"cursor-pointer rounded-lg border border-[#f5bfb2] bg-white p-2 font-medium text-[#9c2007] focus:border-[#d16170] focus:outline-none focus:ring-2 focus:ring-[#d16170]",children:[b.jsx("option",{value:"",children:"Todas las categoras"}),["Pasteles","Tartas","Donas","Cupcakes","Bombones","Macarons","Galletas","Postres fros","Otros","Temporada"].map(s=>b.jsx("option",{value:s,children:s},s))]}),b.jsx("input",{type:"number",name:"min",placeholder:"Precio mn.",value:r.min,onChange:n,className:"rounded-lg border border-[#f5bfb2] bg-white p-2 w-32 font-medium text-[#9c2007] placeholder:text-[#d8718c] focus:outline-none focus:ring-2 focus:ring-[#d16170]"}),b.jsx("input",{type:"number",name:"max",placeholder:"Precio mx.",value:r.max,onChange:n,className:"rounded-lg border border-[#f5bfb2] bg-white p-2 w-32 font-medium text-[#9c2007] placeholder:text-[#d8718c] focus:outline-none focus:ring-2 focus:ring-[#d16170]"})]})}function FD(){const{usuarioActual:r}=Is(),[e,n]=L.useState(""),[s,o]=L.useState(""),[u,h]=L.useState(""),[m,p]=L.useState(""),[g,v]=L.useState(null),[T,x]=L.useState(!1),O=["danportaleshinostroza@crackthecode.la","zanadrianzenbohorquez@crackthecode.la","marandersonsantillan@crackthecode.la","shavalerianoblas@crackthecode.la"];if(!r)return b.jsx("div",{className:"flex justify-center items-center py-10 bg-[#fff3f0]",children:b.jsx("div",{className:"bg-white border border-[#f5bfb2] rounded-2xl shadow-lg w-[95%] max-w-2xl p-8 text-center flex flex-col md:flex-row items-center justify-between gap-6",children:b.jsxs("div",{className:"flex-1",children:[b.jsx("h2",{className:"text-3xl font-bold text-[#8f2133] mb-2",children:"Inicia sesin para agregar productos"}),b.jsxs("p",{className:"text-[#7a1a0a] text-base leading-relaxed max-w-2xl mx-auto",children:["Solo los"," ",b.jsx("span",{className:"text-[#d8718c] font-semibold",children:"usuarios registrados"})," ","pueden subir nuevos postres al catlogo."]})]})})});const F=r?.correo?.toLowerCase().trim();if(console.log(" Correos permitidos:",O),console.log(" Correo del usuario:",F),!O.some($=>$.toLowerCase().trim()===F))return b.jsx("div",{className:"flex justify-center items-center py-10 bg-[#fff3f0]",children:b.jsxs("div",{className:"bg-white border border-[#f5bfb2] rounded-2xl shadow-lg w-[95%] max-w-2xl p-8 text-center flex flex-col items-center gap-4",children:[b.jsx("h2",{className:"text-4xl font-bold text-[#8f2133] mb-2",children:"Acceso restringido"}),b.jsx("p",{className:"text-[#7a1a0a] text-base leading-relaxed",children:"Tu cuenta no tiene permisos para agregar productos."})]})});const B=async $=>{if($.preventDefault(),!e||!s||!u||!m||!g){alert("Por favor completa todos los campos");return}try{x(!0);const U=T2(w2,`productos/${Date.now()}-${g.name}`);await b2(U,g);const q=await E2(U);await e2(nn(Fe,"productos"),{nombre:e,descripcion:s,precio:parseFloat(u),categoria:m,imagen:q,fechaCreacion:nt.now(),creadoPor:r.uid,correoCreador:r.correo}),alert("Producto agregado exitosamente "),n(""),o(""),h(""),p(""),v(null),$.target.reset()}catch(U){console.error("Error al guardar producto:",U),alert("Ocurri un error al guardar el producto")}finally{x(!1)}};return b.jsx("div",{className:"flex justify-center items-center py-8 bg-[#fff3f0] min-h-screen",children:b.jsxs("form",{onSubmit:B,className:"bg-white border border-[#f5bfb2] rounded-2xl shadow-lg w-[90%] max-w-md p-8 text-center",children:[b.jsx("h2",{className:"text-3xl font-bold text-[#8f2133] mb-6",children:"Agregar Producto"}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("input",{type:"text",placeholder:"Nombre del producto",value:e,onChange:$=>n($.target.value),className:"w-full bg-[#fffaf9] border border-[#f5bfb2] text-[#7a1a0a] px-4 py-3 rounded-xl focus:ring-2 focus:ring-[#d8718c] font-medium"}),b.jsx("textarea",{placeholder:"Descripcin",value:s,onChange:$=>o($.target.value),className:"w-full bg-[#fffaf9] border border-[#f5bfb2] text-[#7a1a0a] px-4 py-3 rounded-xl focus:ring-2 focus:ring-[#d8718c] font-medium"}),b.jsx("input",{type:"number",placeholder:"Precio (S/.)",value:u,onChange:$=>h($.target.value),className:"w-full bg-[#fffaf9] border border-[#f5bfb2] text-[#7a1a0a] px-4 py-3 rounded-xl focus:ring-2 focus:ring-[#d8718c] font-medium"}),b.jsxs("select",{name:"categoria",value:m,onChange:$=>p($.target.value),className:"w-full bg-[#fffaf9] border border-[#f5bfb2] text-[#7a1a0a] px-4 py-3 rounded-xl focus:ring-2 focus:ring-[#d8718c] cursor-pointer font-medium",children:[b.jsx("option",{value:"",className:"text-gray-500 bg-[#fff3f0]",children:"Selecciona una categora"}),["Pasteles","Tartas","Donas","Cupcakes","Bombones","Macarons","Galletas","Postres fros","Otros","Temporada"].map($=>b.jsx("option",{value:$,className:"text-[#7a1a0a] bg-[#fffaf9]",children:$},$))]}),b.jsx("input",{type:"file",accept:"image/*",onChange:$=>v($.target.files[0]),className:`w-full text-sm text-[#7a1a0a] file:mr-4 file:py-2 file:px-4 \r
                       file:rounded-xl file:border-0 file:font-semibold\r
                       file:bg-[#f5bfb2] file:text-[#8f2133] hover:file:bg-[#f2a6b3]\r
                       transition`}),b.jsx("button",{type:"submit",disabled:T,className:`w-full bg-[#d16170] text-white py-3 rounded-xl font-semibold \r
                       hover:bg-[#b84c68] transition disabled:opacity-60`,children:T?"Subiendo...":"Agregar Producto"})]})]})})}function GD(){const{agregarProducto:r}=qg(),[e,n]=L.useState([]),[s,o]=L.useState({nombre:"",categoria:"",min:"",max:""}),{usuarioActual:u}=Is(),h=["danportaleshinostroza@crackthecode.la","zanadrianzenbohorquez@crackthecode.la","marandersonsantillan@crackthecode.la","shavalerianoblas@crackthecode.la"],m=(u?.correo||u?.email||"").toLowerCase().trim(),p=m&&h.some(T=>T.toLowerCase().trim()===m);console.log(" usuarioActual (Productos):",u),console.log(" correoUsuario (Productos):",m),console.log(" esAdmin (Productos):",p),L.useEffect(()=>{const T=ur(nn(Fe,"productos"),Vg("fechaCreacion","desc")),x=Lu(T,O=>{const F=O.docs.map(Y=>({id:Y.id,...Y.data()}));n(F)});return()=>x()},[]);const g=e.filter(T=>{const x=s.nombre===""||T.nombre.toLowerCase().includes(s.nombre.toLowerCase()),O=s.categoria===""||T.categoria===s.categoria,F=s.min===""||T.precio>=parseFloat(s.min),Y=s.max===""||T.precio<=parseFloat(s.max);return x&&O&&F&&Y}),v=async T=>{if(!(!p||!window.confirm("Seguro que quieres eliminar este producto?")))try{await uu(Ht(Fe,"productos",T))}catch(O){console.error("Error al eliminar producto:",O),alert("Hubo un problema al eliminar el producto")}};return b.jsxs("div",{className:"bg-[#fff3f0] min-h-screen pb-20",children:[b.jsxs("section",{className:"w-full flex flex-col md:flex-row items-center justify-center bg-[#d16170] text-white",children:[b.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center items-center text-center py-16 space-y-6",children:[b.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Haz tu pedido favorito"}),b.jsxs("p",{className:"text-[#fff3f0] text-lg leading-relaxed max-w-lg px-4",children:["En ",b.jsx("span",{className:"font-semibold text-[#f5bfb2]",children:"BomBocado"})," ","cada postre est hecho con dedicacin, frescura y amor."," ",b.jsx("span",{className:"font-semibold text-[#f5bfb2]",children:"BomBocado"})," ","convierte lo dulce en momentos inolvidables."]})]}),b.jsx("div",{className:"w-full md:w-1/2 flex justify-center py-10",children:b.jsx("img",{src:Of,alt:"Torta decorada",className:"w-[45%] md:w-[53%] h-auto object-contain"})})]}),b.jsx("div",{className:"max-w-5xl mx-auto mb-12 mt-12",children:b.jsx(FD,{})}),b.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-12",children:[b.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-6 mb-8",children:[b.jsx("h2",{className:"text-3xl font-bold text-[#9c2007] border-b-2 border-[#f5bfb2] pb-2 text-center md:text-left",children:"Explora Nuestros Postres"}),b.jsx("div",{className:"shrink-0 w-full md:w-auto",children:b.jsx(HD,{filtro:s,setFiltro:o})})]}),b.jsx("div",{className:"mt-10",children:g.length>0?b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:g.map(T=>b.jsxs("article",{className:"bg-white border border-[#f5bfb2] rounded-3xl shadow-lg hover:shadow-xl transition transform hover:-translate-y-2 overflow-hidden",children:[b.jsx("img",{src:T.imagen,alt:T.nombre,className:"w-full h-60 object-cover"}),b.jsxs("div",{className:"p-5 text-center",children:[b.jsx("h3",{className:"text-lg font-semibold text-[#9c2007]",children:T.nombre}),b.jsx("p",{className:"text-sm text-gray-500 mt-1",children:T.descripcion}),b.jsxs("p",{className:"text-[#d8718c] font-bold mt-2",children:["S/",T.precio?.toFixed(2)]}),b.jsxs("div",{className:"mt-3 flex items-center justify-center gap-3",children:[b.jsx("button",{onClick:()=>r(T),className:"bg-[#a34d5f] text-white px-5 py-2 rounded-full hover:bg-[#912646] transition",children:"Comprar"}),p&&b.jsx("button",{onClick:()=>v(T.id),className:"w-10 h-10 flex items-center justify-center rounded-full bg-[#a34d5f] text-white hover:bg-[#912646] transition",title:"Eliminar producto",children:b.jsx(C2,{size:18})})]})]})]},T.id))}):b.jsx("p",{className:"text-center text-gray-500 mt-16 text-lg",children:"No se encontraron productos con esos filtros"})})]})]})}function KD(){const{agregarProducto:r}=qg(),[e,n]=L.useState([]);L.useEffect(()=>{const m=ur(nn(Fe,"productos"),On("categoria","==","Temporada")),p=Lu(m,g=>{const v=g.docs.map(T=>({id:T.id,...T.data()}));n(v)});return()=>p()},[]);const s=[{nombre:"Tarta Mix",descripcion:"Refrescante y cremosa",precio:40,categoria:"Tartas",imagen:"https://i.pinimg.com/736x/4c/07/44/4c07447203a816cbb5a470fbe7d14ee9.jpg"},{nombre:"Tiramis Clsico",descripcion:"Con caf y mascarpone",precio:28,categoria:"Postres fros",imagen:"https://www.tasteofhome.com/wp-content/uploads/2024/11/EXPS_TOHD24_25469_EricKleinberg_6.jpg"},{nombre:"Fresas Glaseadas",descripcion:"Suaves y crocantes",precio:12,categoria:"Galletas",imagen:"https://i.pinimg.com/1200x/3d/1e/ca/3d1eca4db29ad0f033fbb03c2165132e.jpg"},{nombre:"Bombones de Frambuesa",descripcion:"Rellenos con centro frutal",precio:18,categoria:"Bombones",imagen:"https://i.pinimg.com/736x/83/27/51/832751dc0d1881d6467a3ec67e9501c8.jpg"},{nombre:"Mousse de Fresa",descripcion:"Ligero y tropical",precio:22,categoria:"Postres fros",imagen:"https://images.getrecipekit.com/20220607111638-mousse-de-fresa.jpg?aspect_ratio=4:3&quality=90&"}],o=[{nombre:"Cake Cups",descripcion:"Tortas para no compartir",precio:15,imagen:"https://i.pinimg.com/1200x/9e/ac/95/9eac9596987b7659316f2a1318be55f1.jpg"},{nombre:"Volcan Amargo",descripcion:"Erupcion de chocolate",precio:55,imagen:"https://i.pinimg.com/736x/59/fe/65/59fe65e34318652d0ebeb6cba6b801f0.jpg"},{nombre:"Mini pavlovas",descripcion:"Merengue con crema y frutos rojos",precio:12,imagen:"https://i.pinimg.com/736x/b5/4b/82/b54b82799dabc0c3b13455e0c51e46c5.jpg"},{nombre:"Tarta de Ensueo ",descripcion:"Tortas sin horno",precio:15,imagen:"https://i.pinimg.com/736x/de/82/3e/de823e28d3007eda4e34344e53aaf915.jpg"},{nombre:"Explosion Helada ",descripcion:"Explosiones de sabor",precio:9,imagen:"https://i.pinimg.com/736x/73/4b/2b/734b2bddac1c16fa597681ed83d17b53.jpg"},{nombre:"Cake Cups",descripcion:"Tortas para no compartir",precio:15,imagen:"https://i.pinimg.com/1200x/9e/ac/95/9eac9596987b7659316f2a1318be55f1.jpg"},{nombre:"Volcan Amargo",descripcion:"Erupcion de chocolate",precio:55,imagen:"https://i.pinimg.com/736x/59/fe/65/59fe65e34318652d0ebeb6cba6b801f0.jpg"},{nombre:"Mini pavlovas",descripcion:"Merengue con crema y frutos rojos",precio:12,imagen:"https://i.pinimg.com/736x/b5/4b/82/b54b82799dabc0c3b13455e0c51e46c5.jpg"},{nombre:"Tarta de Ensueo ",descripcion:"Tortas sin horno",precio:15,imagen:"https://i.pinimg.com/736x/de/82/3e/de823e28d3007eda4e34344e53aaf915.jpg"},{nombre:"Explosion Helada ",descripcion:"Explosiones de sabor",precio:9,imagen:"https://i.pinimg.com/736x/73/4b/2b/734b2bddac1c16fa597681ed83d17b53.jpg"}],u=(m,p=!0)=>m.map((g,v)=>b.jsxs("article",{className:"bg-white border border-[#f5bfb2] rounded-3xl shadow-lg hover:shadow-xl transition transform hover:-translate-y-2 overflow-hidden shrink-0 w-72",children:[b.jsx("img",{src:g.imagen,alt:g.nombre,className:"w-full h-60 object-cover"}),b.jsxs("div",{className:"p-5 text-center",children:[b.jsx("h3",{className:"text-lg font-semibold text-[#9c2007]",children:g.nombre}),b.jsx("p",{className:"text-gray-600 text-sm mt-1",children:g.descripcion}),b.jsxs("p",{className:"text-[#d8718c] font-bold mt-2",children:["S/",g.precio?.toFixed(2)]}),p&&b.jsx("button",{onClick:()=>r(g),className:"bg-[#a34d5f] text-white px-5 py-2 rounded-full mt-3 hover:bg-[#912646] transition",children:"Comprar"})]})]},v)),h=(m,p=!0)=>b.jsxs("div",{className:"overflow-hidden relative",children:[b.jsx("div",{className:"flex animate-scroll gap-6",style:{animation:"scroll 20s linear infinite"},children:m.concat(m).map((g,v)=>b.jsxs("article",{className:"bg-white border border-[#f5bfb2] rounded-3xl shadow-lg hover:shadow-xl transition transform hover:-translate-y-2 overflow-hidden shrink-0 w-72",children:[b.jsx("img",{src:g.imagen,alt:g.nombre,className:"w-full h-60 object-cover"}),b.jsxs("div",{className:"p-5 text-center",children:[b.jsx("h3",{className:"text-lg font-semibold text-[#9c2007]",children:g.nombre}),b.jsx("p",{className:"text-gray-600 text-sm mt-1",children:g.descripcion}),b.jsxs("p",{className:"text-[#d8718c] font-bold mt-2",children:["S/",g.precio?.toFixed(2)]}),p&&b.jsx("button",{onClick:()=>r(g),className:"bg-[#a34d5f] text-white px-5 py-2 rounded-full mt-3 hover:bg-[#912646] transition",children:"Comprar"})]})]},v))}),b.jsx("div",{className:"absolute top-0 left-0 w-20 h-full bg-linear-to-r from-[#fff3f0] to-transparent z-10"}),b.jsx("div",{className:"absolute top-0 right-0 w-20 h-full bg-linear-to-l from-[#fff3f0] to-transparent z-10"})]});return b.jsxs("div",{className:"bg-[#fff3f0] min-h-screen pb-20",children:[b.jsxs("section",{className:"w-full flex flex-col md:flex-row items-center justify-center bg-[#d16170] text-white",children:[b.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center items-center text-center py-16 space-y-6",children:[b.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Novedades"}),b.jsxs("p",{className:"text-[#fff3f0] text-lg leading-relaxed max-w-lg px-4",children:["Descubre las novedades ms dulces y frescas de"," ",b.jsx("span",{className:"font-semibold text-[#f5bfb2]",children:"Bom Bocado"}),". Cada creacin es una experiencia deliciosa hecha con"," ",b.jsx("span",{className:"font-semibold text-[#f5bfb2]",children:"amor "}),"y "," ",b.jsx("span",{className:"font-semibold text-[#f5bfb2]",children:" dedicacin"}),"."]})]}),b.jsx("div",{className:"w-full md:w-1/2 flex justify-center py-10",children:b.jsx("img",{src:Of,alt:"Torta decorada",className:"w-[45%] md:w-[53%] h-auto object-contain"})})]}),b.jsxs("section",{className:"bg-[#fff3f0] min-h-screen py-16",children:[b.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-12",children:[b.jsxs("section",{className:"mb-16",children:[b.jsx("h2",{className:"text-3xl font-bold text-[#9c2007] mb-6 border-b-2 border-[#f5bfb2] pb-2",children:"Productos de Temporada"}),e.length>4?h(e,!0):e.length>0?b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:u(e,!0)}):b.jsx("p",{className:"text-center text-gray-500 mt-10",children:"No hay productos de temporada por ahora"})]}),b.jsxs("section",{className:"mb-16",children:[b.jsx("h2",{className:"text-3xl font-bold text-[#9c2007] mb-6 border-b-2 border-[#f5bfb2] pb-2",children:"Los favoritos de la casa "}),s.length>4?h(s,!0):b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 ",children:u(s,!0)})]}),b.jsxs("section",{children:[b.jsx("h2",{className:"text-3xl font-bold text-[#9c2007] mb-6 border-b-2 border-[#f5bfb2] pb-2",children:"Proximamente"}),o.length>4?h(o,!1):b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:u(o,!1)})]})]}),b.jsx("style",{children:`
        @keyframes scroll {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
        .animate-marquee {
          display: flex;
          width: max-content;
          animation: marquee 40s linear infinite;
        }
      `})]})]})}function QD(){const{usuarioActual:r}=Is(),[e,n]=L.useState(0),[s,o]=L.useState(0),[u,h]=L.useState({nombre:"",correo:"",mensaje:""}),m=g=>{const{name:v,value:T}=g.target;v==="mensaje"&&(g.target.style.height="auto",g.target.style.height=`${Math.min(g.target.scrollHeight,250)}px`),h(x=>({...x,[v]:T}))},p=async g=>{if(g.preventDefault(),e===0){alert("Por favor, selecciona una calificacin de estrellas.");return}try{await e2(nn(Fe,"testimonios"),{nombre:u.nombre,correo:u.correo,mensaje:u.mensaje,estrellas:e,createdAt:n2(),userUid:r?.uid||null,userCorreo:r?.email||null}),alert("Gracias por tu comentario y calificacin!"),h({nombre:"",correo:"",mensaje:""}),n(0),o(0)}catch(v){console.error("Error al enviar testimonio:",v),alert("Hubo un error al enviar tu testimonio. Intntalo nuevamente.")}};return b.jsx("section",{className:"bg-[#fff3f0] py-16",children:b.jsxs("div",{className:"max-w-6xl mx-auto px-6 md:px-12 grid md:grid-cols-2 gap-12 items-center",children:[b.jsxs("div",{className:"text-center md:text-left",children:[b.jsx("h1",{className:"text-5xl font-bold text-[#9c2007] mb-4",children:"Hablemos!"}),b.jsxs("p",{className:"text-gray-700 text-lg leading-relaxed mb-6",children:["Tienes alguna pregunta, deseas hacer un pedido especial o solo quieres saludarnos? En"," ",b.jsx("span",{className:"font-semibold text-[#d8718c]",children:"Bom Bocado"}),", nos encanta escucharte."]}),b.jsx("p",{className:"text-gray-700 text-lg leading-relaxed",children:"Tambin valoramos mucho tu opinin. Djanos una calificacin y aydanos a seguir mejorando!"})]}),b.jsxs("form",{"aria-label":"Formulario de contacto y calificacin",onSubmit:p,className:"bg-white border border-[#f5bfb2] rounded-3xl shadow-xl p-8 space-y-5",children:[b.jsxs("div",{className:"relative",children:[b.jsx(ix,{className:"absolute left-3 top-3.5 text-[#d8718c]"}),b.jsx("input",{type:"text",id:"nombre",name:"nombre",placeholder:"Tu nombre",required:!0,value:u.nombre,onChange:m,className:"w-full border border-rose-200 rounded-xl pl-10 pr-4 py-3 focus:outline-none focus:ring-2 focus:ring-[#d8718c] transition"})]}),b.jsxs("div",{className:"relative",children:[b.jsx(Ib,{className:"absolute left-3 top-3.5 text-[#d8718c]"}),b.jsx("input",{type:"email",id:"correo",name:"correo",placeholder:"Tu correo electrnico",required:!0,value:u.correo,onChange:m,className:"w-full border border-rose-200 rounded-xl pl-10 pr-4 py-3 focus:outline-none focus:ring-2 focus:ring-[#d8718c] transition"})]}),b.jsxs("div",{className:"relative",children:[b.jsx(JS,{className:"absolute left-3 top-3.5 text-[#d8718c]"}),b.jsx("textarea",{id:"mensaje",name:"mensaje",rows:"4",placeholder:"Escrbenos un mensaje...",required:!0,value:u.mensaje,onChange:m,className:"w-full border border-rose-200 rounded-xl pl-10 pr-4 py-3 focus:outline-none focus:ring-2 focus:ring-[#d8718c] resize-none transition"})]}),b.jsxs("div",{className:"text-center",children:[b.jsx("label",{className:"block text-lg font-semibold text-[#9c2007] mb-3",children:"Califcanos!"}),b.jsx("div",{className:"flex justify-center text-4xl text-gray-300 cursor-pointer",children:[...Array(5)].map((g,v)=>{const T=v+1;return b.jsxs("label",{children:[b.jsx("input",{type:"radio",name:"rating",value:T,onClick:()=>n(T),className:"hidden"}),b.jsx(tp,{color:T<=(s||e)?"#ffc107":"#e4e5e9",onMouseEnter:()=>o(T),onMouseLeave:()=>o(0),className:"transition-transform duration-200 hover:scale-110"})]},v)})})]}),b.jsx("div",{className:"text-center pt-2",children:b.jsx("button",{type:"submit",className:"bg-[#a34d5f] text-white font-semibold px-10 py-3 rounded-xl hover:bg-[#9c2007] transition duration-300 shadow-lg",children:"Enviar comentario y calificacin"})})]})]})})}function YD(){const{usuarioActual:r}=Is(),e=r,[n,s]=L.useState([]),[o,u]=L.useState(!0),[h,m]=L.useState(""),[p,g]=L.useState(""),[v,T]=L.useState(""),[x,O]=L.useState(!0),[F,Y]=L.useState(!1);L.useEffect(()=>{if(!e)return;const U=ur(nn(Fe,"pedidos"),On("userId","==",e.uid),Vg("fechaCreacion","desc")),q=Lu(U,ie=>{const le=ie.docs.map(ce=>({id:ce.id,...ce.data()}));s(le),u(!1)},ie=>{console.error("Error obteniendo compras:",ie),u(!1)});return()=>q()},[e]),L.useEffect(()=>{(async()=>{if(e){O(!0);try{const q=Ht(Fe,"usuarios",e.uid),ie=await Ip(q);if(ie.exists()){const le=ie.data();m(le.user||e.user||""),g(le.correo||e.correo||e.email||""),T(le.fotoURL||e.fotoURL||e.photoURL||"")}else m(e.user||e.displayName||""),g(e.correo||e.email||""),T(e.fotoURL||e.photoURL||"")}catch(q){console.error("Error cargando perfil:",q),alert("Error al cargar los datos del perfil")}finally{O(!1)}}})()},[e]);const B=async U=>{if(U.preventDefault(),!!e){Y(!0);try{const q=Ht(Fe,"usuarios",e.uid);await xo(q,{user:h||"Usuario",correo:p||e.correo||e.email,fotoURL:v||""}),alert("Perfil actualizado correctamente")}catch(q){console.error("Error actualizando perfil:",q),alert("Error al actualizar el perfil")}finally{Y(!1)}}},$=U=>{if(!U)return"";try{return(U.toDate?U.toDate():new Date(U)).toLocaleString()}catch{return""}};return e?b.jsx("div",{className:"min-h-screen bg-[#fff3f0] py-10",children:b.jsxs("div",{className:"max-w-5xl mx-auto px-4",children:[b.jsx("h1",{className:"text-3xl font-extrabold text-[#8f2133] mb-6 text-center",children:"Mi perfil"}),b.jsxs("div",{className:"bg-white border border-[#f5bfb2] rounded-2xl p-6 flex flex-col md:flex-row items-center gap-4 mb-8 shadow-sm",children:[b.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden border-4 border-[#d8718c]",children:b.jsx("img",{src:v||e.fotoURL||e.photoURL||"https://cdn-icons-png.flaticon.com/512/847/847969.png",alt:"Foto de perfil",className:"w-full h-full object-cover"})}),b.jsxs("div",{className:"text-center md:text-left",children:[b.jsx("h2",{className:"text-2xl font-bold text-[#7a1a0a]",children:h||e.user||e.displayName||"Usuario"}),b.jsx("p",{className:"text-sm text-gray-600 mt-1",children:p||e.correo||e.email}),b.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["UID: ",b.jsx("span",{className:"font-mono",children:e.uid})]})]})]}),b.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"bg-white border border-[#f5bfb2] rounded-2xl p-6 shadow-sm",children:[b.jsx("h2",{className:"text-xl font-bold text-[#7a1a0a] mb-2",children:"Editar perfil"}),b.jsx("p",{className:"text-sm text-[#7a1a0a] mb-4",children:"Actualiza tu informacin de usuario."}),x?b.jsx("p",{className:"text-[#7a1a0a] font-semibold",children:"Cargando datos..."}):b.jsxs("form",{onSubmit:B,className:"space-y-4 text-left",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-[#7a1a0a] mb-1",children:"Nombre de usuario"}),b.jsx("input",{type:"text",value:h,onChange:U=>m(U.target.value),className:"w-full bg-white border border-[#f5bfb2] px-4 py-2.5 rounded-xl focus:ring-2 focus:ring-[#d8718c] outline-none",placeholder:"Tu nombre de usuario"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-[#7a1a0a] mb-1",children:"Correo"}),b.jsx("input",{type:"email",value:p,onChange:U=>g(U.target.value),className:"w-full bg-white border border-[#f5bfb2] px-4 py-2.5 rounded-xl focus:ring-2 focus:ring-[#d8718c] outline-none",placeholder:"tu@correo.com"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-[#7a1a0a] mb-1",children:"Foto de perfil (URL)"}),b.jsx("input",{type:"text",value:v,onChange:U=>T(U.target.value),className:"w-full bg-white border border-[#f5bfb2] px-4 py-2.5 rounded-xl focus:ring-2 focus:ring-[#d8718c] outline-none",placeholder:"https://..."}),b.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Puedes pegar aqu el link de la imagen subida a Storage."})]}),b.jsx("button",{type:"submit",disabled:F,className:"w-full mt-2 bg-[#d16170] text-white py-2.5 rounded-xl hover:bg-[#b84c68] transition font-semibold disabled:opacity-60 disabled:cursor-not-allowed",children:F?"Guardando...":"Guardar cambios"})]})]}),b.jsxs("div",{className:"bg-white border border-[#f5bfb2] rounded-2xl p-6 shadow-sm",children:[b.jsx("h2",{className:"text-xl font-bold text-[#7a1a0a] mb-2",children:"Mis compras"}),b.jsx("p",{className:"text-sm text-[#7a1a0a] mb-4",children:"Aqu puedes ver tus pedidos realizados."}),o?b.jsx("p",{className:"text-[#7a1a0a] font-semibold",children:"Cargando compras..."}):n.length===0?b.jsx("p",{className:"text-gray-600 mt-2",children:"An no has realizado ninguna compra."}):b.jsx("div",{className:"max-h-80 overflow-y-auto space-y-3 text-left mt-2 pr-1",children:n.map(U=>b.jsxs("div",{className:"bg-[#fff7f6] border border-[#f5bfb2] rounded-xl p-4 shadow-sm",children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsxs("div",{children:[b.jsxs("p",{className:"text-[#7a1a0a] font-semibold",children:["Pedido #",(U.id||"").slice(0,6)]}),b.jsx("p",{className:"text-xs text-gray-500",children:$(U.fechaCreacion)}),b.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Mtodo de pago:"," ",b.jsx("span",{className:"font-semibold text-[#d16170]",children:U.metodoPago||"No especificado"})]})]}),b.jsxs("div",{className:"text-right",children:[b.jsxs("p",{className:"text-xs text-gray-500",children:["Productos: ",U.items?.length||0]}),b.jsxs("p",{className:"text-xs text-gray-500",children:["Delivery: S/",Number(U.delivery||0).toFixed(2)]}),b.jsxs("p",{className:"text-[#d16170] font-bold text-lg",children:["Total: S/",Number(U.totalFinal||0).toFixed(2)]})]})]}),U.items&&U.items.length>0&&b.jsx("ul",{className:"mt-2 text-sm text-gray-700 space-y-1",children:U.items.map((q,ie)=>b.jsxs("li",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("p",{className:"font-semibold",children:q.nombre}),b.jsxs("p",{className:"text-xs text-gray-500",children:["Cantidad: ",q.cantidad]})]}),b.jsx("div",{className:"text-right",children:b.jsxs("p",{className:"text-xs text-gray-500",children:["Precio: S/",Number(q.precio||0).toFixed(2)]})})]},ie))})]},U.id))})]})]})]})}):b.jsx("div",{className:"min-h-screen bg-[#fff3f0] flex items-center justify-center",children:b.jsx("p",{className:"text-[#7a1a0a] font-semibold",children:"Debes iniciar sesin para ver tu perfil."})})}function XD(){return b.jsx(IS,{basename:"/Bom-bocado",children:b.jsx(xD,{children:b.jsxs(ID,{children:[b.jsx(CD,{}),b.jsxs(aS,{children:[b.jsx(oa,{path:"/",element:b.jsx(BD,{})}),b.jsx(oa,{path:"/nosotros",element:b.jsx(qD,{})}),b.jsx(oa,{path:"/productos",element:b.jsx(GD,{})}),b.jsx(oa,{path:"/novedades",element:b.jsx(KD,{})}),b.jsx(oa,{path:"/contacto",element:b.jsx(QD,{})}),b.jsx(oa,{path:"/perfil",element:b.jsx(YD,{})})]}),b.jsx(jD,{}),b.jsx(UD,{})]})})})}pA.createRoot(document.getElementById("root")).render(b.jsx(hs.StrictMode,{children:b.jsx(XD,{})}));
